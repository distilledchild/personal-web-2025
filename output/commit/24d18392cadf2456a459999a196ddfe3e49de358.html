<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>Update API URLs to api.distilledchild.space · personal-web-2025@24d1839</title>
    <style>
        
        :root {
          --c-indigo-1: #3451b2;
          --c-indigo-2: #3a5ccc;
          --c-indigo-3: #5672cd;
          --c-green: #1a7f37;
          --c-red: #c53030;
          --c-yellow: #9a6700;
          --c-dir: #54aeff;
          --c-gray-soft: rgba(142, 150, 170, .14);
          --c-bg: #ffffff;
          --c-bg-alt: #f6f6f7;
          --c-bg-elv: #ffffff;
          --c-text-1: rgba(60, 60, 67);
          --c-text-2: rgba(60, 60, 67, .78);
          --c-text-3: rgba(60, 60, 67, .56);
          --c-border: #c2c2c4;
          --c-divider: #e2e2e3;
        }

        

        :root {
          --c-brand-1: var(--c-indigo-1);
          --c-brand-2: var(--c-indigo-2);
          --c-brand-3: var(--c-indigo-3);
          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
          --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
          --code-line-height: 20px;
          --code-font-size: 12px;
          --code-color: var(--c-brand-1);
          --code-bg: var(--c-gray-soft);
          --code-block-bg: var(--c-bg-alt);
          --code-block-color: var(--c-text-1);
          --header-height: 46px;
          --border-radius: 6px;
          --max-content-width: 1470px;
        }

        * {
          box-sizing: border-box;
        }

        body {
          margin: 0;
          padding: 0;
          font-family: var(--font-family), sans-serif;
          font-size: 14px;
          line-height: 1;
          color: var(--c-text-1);
          background-color: var(--c-bg);
          text-rendering: optimizeLegibility;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          -moz-text-size-adjust: none;
          -webkit-text-size-adjust: none;
          text-size-adjust: none;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
        }

        .nowrap {
          white-space: nowrap;
        }

        h1 {
          margin-inline: 0;
          margin-block: 16px;
          font-size: 20px;
          font-weight: 600;
        }

        a {
          color: var(--c-brand-1);
          font-weight: 500;
          text-decoration: underline;
          text-underline-offset: 2px;
          text-decoration: inherit;
          touch-action: manipulation;
        }

        a:hover {
          color: var(--c-brand-2);
          text-decoration: underline;
        }

        .menu {
          background-color: var(--c-bg-alt);
          border-bottom: 1px solid var(--c-divider);
          overflow-x: auto;
        }

        .menu-content {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 16px;
          padding-inline: 16px;
          max-width: var(--max-content-width);
          margin-inline: auto;
        }

        .menu-item {
          display: flex;
          align-items: center;
          border-bottom: 2px solid transparent;
          height: 56px;
          padding-inline: 8px;
        }

        .menu-item a {
          display: flex;
          flex-direction: row;
          gap: 8px;
          align-items: center;
          color: var(--c-text-1);
          padding: 8px 10px;
          border-radius: 4px;
        }

        .menu-item a:hover {
          background-color: var(--c-bg-elv);
          text-decoration: none;
        }

        .menu-item.selected {
          border-bottom-color: var(--c-brand-1);
        }

        .project-name {
          font-weight: 600;
          font-size: 16px;
          margin-inline: 16px;
          color: var(--c-text-1);
          text-decoration: none;
        }

        main {
          flex-grow: 1;
          width: 100%;
          max-width: var(--max-content-width);
          margin: 16px auto;
        }

        .main-content {
          padding-inline: 16px;
        }

        footer {
          padding: 12px 16px;
          background-color: var(--c-bg-alt);
          border-top: 1px solid var(--c-divider);
          color: var(--c-text-3);
          font-size: 12px;
          text-align: center;
        }

        .header-container {
          container-type: scroll-state;
          position: sticky;
          top: 0;
        }

        .header-container {
          @container scroll-state(stuck: top) {
            header {
              border-top: none;
              border-top-left-radius: 0;
              border-top-right-radius: 0;
            }

            .goto-top {
              display: flex;
            }
          }
        }

        header {
          display: flex;
          flex-direction: row;
          align-items: center;
          min-height: var(--header-height);
          padding-inline: 16px;
          background: var(--c-bg-alt);
          border: 1px solid var(--c-border);
          border-top-left-radius: var(--border-radius);
          border-top-right-radius: var(--border-radius);
        }

        header h1 {
          word-break: break-all;
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          padding: 0;
        }

        .header-ref {
          color: var(--c-text-2);
          border: 1px solid var(--c-border);
          border-radius: 6px;
          padding: 6px 10px;
          margin-right: 10px;
          margin-left: -6px;
        }

        header .path {
          font-size: 16px;
        }

        .breadcrumbs {
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
          gap: 6px;
          font-size: 16px;
        }

        .breadcrumbs a {
          word-break: break-all;
        }

        .goto-top {
          display: none;
          margin-left: auto;
          padding: 6px 10px;
          background: none;
          border: none;
          border-radius: 6px;
          gap: 4px;
          align-items: center;
          color: var(--c-text-1);
          cursor: pointer;
        }

        .goto-top:hover {
          background: var(--c-bg-elv);
        }
    </style>
    
    <style>
      h1 code {
        border-radius: var(--border-radius);
        background: var(--c-bg-alt);
        padding: 4px 8px;
        font-family: var(--font-family-mono), monospace;
        font-weight: 500;
      }

      .commit {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 16px;
      }

      .commit-info {
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: flex-end;
      }

      .commit-author {
        color: var(--c-text-1);
        font-weight: 600;
        min-width: 0;
        overflow-wrap: break-word;
      }

      .commit-date {
        color: var(--c-text-2);
        font-size: 12px;
        font-family: var(--font-family-mono), monospace;
      }

      .commit-message {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
        padding: 16px;
      }

      .ref-badges {
        display: inline-flex;
        gap: 6px;
        margin-left: 8px;
      }

      .badge {
        font-size: 12px;
        color: var(--c-text-2);
        border: 1px solid var(--c-border);
        padding: 2px 6px;
        border-radius: 999px;
        white-space: nowrap;
      }

      .commit-subject {
        font-size: 16px;
        font-weight: 600;
        line-height: 1.3;
        hyphens: auto;
      }

      .commit-body {
        margin-top: 16px;
        white-space: pre-wrap;
        line-height: 1.5;
        hyphens: auto;
      }

      .commit-subinfo {
        display: flex;
        flex-direction: row;
        gap: 16px;
        justify-content: space-between;
      }

      .commit-layout {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }

      @media (min-width: 960px) {
        .commit-layout {
          grid-template-columns: 300px 1fr;
          align-items: start;
        }

        .files-tree {
          position: sticky;
          top: 16px;
        }

        .files-tree-content {
          max-height: calc(100vh - var(--header-height) - 40px);
          overflow: auto;
        }
      }

      .files-tree {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
      }

      .files-tree-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding-inline: 16px;
        height: var(--header-height);
        border-bottom: 1px solid var(--c-border);
        border-top-left-radius: var(--border-radius);
        border-top-right-radius: var(--border-radius);
        background: var(--c-bg-alt);
        font-size: 14px;
        font-weight: 600;
      }

      .files-tree-content {
        display: block;
        padding-block: 6px;
      }

      .tree .children {
        margin-left: 16px;
        border-left: 1px dashed var(--c-border);
      }

      .tree .node {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
      }

      .tree .file-name {
        flex: 1;
        font-weight: 500;
        color: var(--c-text-1);
        cursor: pointer;
      }

      .tree .file-name:hover {
        color: var(--c-brand-2);
        text-decoration: underline;
      }

      .tree .dir {
        color: var(--c-dir);
      }

      .tree .file-added {
        color: var(--c-green);
      }

      .tree .file-deleted {
        color: var(--c-red);
      }

      .tree .file-renamed {
        color: var(--c-yellow);
      }

       

      .files {
        min-width: 0;
      }

      .file-section + .file-section {
        margin-top: 16px;
      }

      pre {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: var(--border-radius);
        border-bottom-right-radius: var(--border-radius);
      }

      pre {
        margin: 0;
        padding: 8px 16px;
        overflow-x: auto;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        tab-size: 4;
        font-family: var(--font-family-mono), monospace;
      }

      pre > code {
        display: block;
        padding: 0 16px;
        width: fit-content;
        min-width: 100%;
        line-height: var(--code-line-height);
        font-size: var(--code-font-size);
      }

      .binary-file {
        padding: 8px 16px;
        font-style: italic;
      }

      .border {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
      }

      .bg { background-color: #ffffff; }
.chroma { background-color: #ffffff; }
.chroma .err { color: #f6f8fa; background-color: #82071e }
.chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
.chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
.chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
.chroma .hl { background-color: #e5e5e5 }
.chroma .lnt { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .ln { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .line { display: flex; }
.chroma .k { color: #cf222e }
.chroma .kc { color: #cf222e }
.chroma .kd { color: #cf222e }
.chroma .kn { color: #cf222e }
.chroma .kp { color: #cf222e }
.chroma .kr { color: #cf222e }
.chroma .kt { color: #cf222e }
.chroma .na { color: #1f2328 }
.chroma .nc { color: #1f2328 }
.chroma .no { color: #0550ae }
.chroma .nd { color: #0550ae }
.chroma .ni { color: #6639ba }
.chroma .nl { color: #990000; font-weight: bold }
.chroma .nn { color: #24292e }
.chroma .nx { color: #1f2328 }
.chroma .nt { color: #0550ae }
.chroma .nb { color: #6639ba }
.chroma .bp { color: #6a737d }
.chroma .nv { color: #953800 }
.chroma .vc { color: #953800 }
.chroma .vg { color: #953800 }
.chroma .vi { color: #953800 }
.chroma .vm { color: #953800 }
.chroma .nf { color: #6639ba }
.chroma .fm { color: #6639ba }
.chroma .s { color: #0a3069 }
.chroma .sa { color: #0a3069 }
.chroma .sb { color: #0a3069 }
.chroma .sc { color: #0a3069 }
.chroma .dl { color: #0a3069 }
.chroma .sd { color: #0a3069 }
.chroma .s2 { color: #0a3069 }
.chroma .se { color: #0a3069 }
.chroma .sh { color: #0a3069 }
.chroma .si { color: #0a3069 }
.chroma .sx { color: #0a3069 }
.chroma .sr { color: #0a3069 }
.chroma .s1 { color: #0a3069 }
.chroma .ss { color: #032f62 }
.chroma .m { color: #0550ae }
.chroma .mb { color: #0550ae }
.chroma .mf { color: #0550ae }
.chroma .mh { color: #0550ae }
.chroma .mi { color: #0550ae }
.chroma .il { color: #0550ae }
.chroma .mo { color: #0550ae }
.chroma .o { color: #0550ae }
.chroma .ow { color: #0550ae }
.chroma .p { color: #1f2328 }
.chroma .c { color: #57606a }
.chroma .ch { color: #57606a }
.chroma .cm { color: #57606a }
.chroma .c1 { color: #57606a }
.chroma .cs { color: #57606a }
.chroma .cp { color: #57606a }
.chroma .cpf { color: #57606a }
.chroma .gd { color: #82071e; background-color: #ffebe9;display: block; }
.chroma .ge { color: #1f2328 }
.chroma .gi { color: #116329; background-color: #dafbe1;display: block; }
.chroma .go { color: #1f2328 }
.chroma .gl { text-decoration: underline }
.chroma .w { color: #ffffff }

    </style>

</head>
<body>

    <svg style="display: none" aria-hidden="true" focusable="false">
        <symbol id="dir" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/>
        </symbol>
        <symbol id="file" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
        </symbol>
        <symbol id="file-added" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.48 3.758a.75.75 0 0 1 .755.745l.01 1.497h1.497a.75.75 0 0 1 0 1.5H9v1.507a.75.75 0 0 1-1.5 0V9.005l-1.502.01a.75.75 0 0 1-.01-1.5l1.507-.01-.01-1.492a.75.75 0 0 1 .745-.755Z"/>
        </symbol>
        <symbol id="file-modified" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25Zm-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z"/>
        </symbol>
        <symbol id="file-deleted" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.5 6h2.242a.75.75 0 0 1 0 1.5h-2.24l-2.254.015a.75.75 0 0 1-.01-1.5Z"/>
        </symbol>
        <symbol id="file-renamed" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"/>
            <path fill="currentColor"
                  d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"/>
        </symbol>
        <symbol id="arrow-top" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M3.47 7.78a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018L9 4.81v7.44a.75.75 0 0 1-1.5 0V4.81L4.53 7.78a.75.75 0 0 1-1.06 0Z"></path>
        </symbol>
        <symbol id="commit" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
        </symbol>
        <symbol id="branch" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
        </symbol>
        <symbol id="tag" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
        </symbol>
        <symbol id="code" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
        </symbol>
    </svg>

<div class="menu">
    <div class="menu-content">
        <a href="../index.html" class="project-name">personal-web-2025</a>
        <div class="menu-item ">
            <a href="../blob/main/index.html">
                <svg aria-hidden="true" width="16" height="16">
                    <use xlink:href="#code"></use>
                </svg>
                Code
            </a>
        </div>
        <div class="menu-item ">
            <a href="../branches.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#branch"></use>
                </svg>
                Branches
            </a>
        </div>
        <div class="menu-item ">
            <a href="../tags.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#tag"></use>
                </svg>
                Tags
            </a>
        </div>
        <div class="menu-item selected">
            <a href="../commits/main/index.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#commit"></use>
                </svg>
                Commits
            </a>
        </div>
    </div>
</div>
<main>
    <div class="main-content">
        
    <h1>Commit <code>24d1839</code></h1>

    <div class="commit">
        <div class="commit-info">
            <div class="commit-author">distilledchild &lt;sliceofmysoul@gmail.com&gt;</div>
            <div class="commit-date"><span class="nowrap">2025-12-04</span> <span class="nowrap">04:31:25</span></div>
        </div>
        <div class="commit-message">
            <div class="commit-subject">
                Update API URLs to api.distilledchild.space
                
            </div>
            
        </div>
        <div class="commit-subinfo">
            <div class="commit-branch">
                
                    <a href="../commits/main/index.html" class="badge">main</a>
                
            </div>
            
                <div class="commit-parents">
                    
                        1 parent
                    
                    
                        
                        <a href="93587a83073a0517097e696441f9cd27bd233124.html"><code>93587a8</code></a>
                    
                </div>
            
        </div>
    </div>

    <div class="commit-layout">
        <div class="files-tree">
            <div class="files-tree-header">Changed files (16)</div>
            <div class="files-tree-content">
                
                    <div class="tree">
                        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">.github</span>
                </summary>
                <div class="children">
                    
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">workflows</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#.github%2fworkflows%2fdeploy-backend.yml" class="file-name">
                    deploy-backend.yml
                </a>
            </div>
        
    

                </div>
            </details>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">docs</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#docs%2fcloud-run-auto-deploy.md" class="file-name">
                    cloud-run-auto-deploy.md
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#docs%2fcloud-run-custom-domain-setup.md" class="file-name">
                    cloud-run-custom-domain-setup.md
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">pages</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fAbout.tsx" class="file-name">
                    About.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fBlog.tsx" class="file-name">
                    Blog.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fContact.tsx" class="file-name">
                    Contact.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fInterests.tsx" class="file-name">
                    Interests.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fStravaCallback.tsx" class="file-name">
                    StravaCallback.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fTodo.tsx" class="file-name">
                    Todo.tsx
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">server</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2f.dockerignore" class="file-name">
                    .dockerignore
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fcloudbuild.yaml" class="file-name">
                    cloudbuild.yaml
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fdeploy.sh" class="file-name">
                    deploy.sh
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fDockerfile" class="file-name">
                    Dockerfile
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#server%2findex.js" class="file-name">
                    index.js
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#.gitignore" class="file-name">
                    .gitignore
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#App.tsx" class="file-name">
                    App.tsx
                </a>
            </div>
        
    

                    </div>
                
            </div>
        </div>

        <div class="files">
            
                <section id=".github/workflows/deploy-backend.yml" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">.github/workflows/deploy-backend.yml</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,59 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+name: Deploy Backend to Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+on:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  push:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    branches:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    paths:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;server/**&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;.github/workflows/deploy-backend.yml&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+env:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  PROJECT_ID: YOUR_GCP_PROJECT_ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  SERVICE_NAME: backend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  REGION: us-west1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+jobs:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  deploy:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    runs-on: ubuntu-latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Checkout code
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: actions/checkout@v3
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Authenticate to Google Cloud
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: google-github-actions/auth@v1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        with:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          credentials_json: ${{ secrets.GCP_SA_KEY }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Set up Cloud SDK
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: google-github-actions/setup-gcloud@v1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Configure Docker to use gcloud
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: gcloud auth configure-docker
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Build Docker image
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker build -t gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} ./server
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker tag gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Push to Google Container Registry
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker push gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker push gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Deploy to Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          gcloud run deploy ${{ env.SERVICE_NAME }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --image gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --region ${{ env.REGION }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --platform managed \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --allow-unauthenticated \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --set-env-vars &#34;NODE_ENV=production&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Get Service URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          SERVICE_URL=$(gcloud run services describe ${{ env.SERVICE_NAME }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --region ${{ env.REGION }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --format &#39;value(status.url)&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          echo &#34;Service deployed at: $SERVICE_URL&#34;
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="docs/cloud-run-auto-deploy.md" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">docs/cloud-run-auto-deploy.md</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,1110 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+# Cloud Run 자동 배포 가이드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 개요
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+이 문서는 GitHub에 코드를 푸시하면 자동으로 Cloud Run에 배포되는 CI/CD 파이프라인 구축 방법을 설명합니다.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 목차
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. [배포 방법 비교](#배포-방법-비교)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. [Cloud Build 자동 배포 (권장)](#cloud-build-자동-배포-권장)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. [GitHub Actions 자동 배포](#github-actions-자동-배포)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. [로컬 수동 배포](#로컬-수동-배포)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. [비용 분석](#비용-분석)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+6. [트러블슈팅](#트러블슈팅)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 배포 방법 비교
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 방법 1: Cloud Build (권장)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 무료: 120분/일 (개인 프로젝트 충분)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ GCP 네이티브 통합 (권한 관리 쉬움)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 설정 간단 (cloudbuild.yaml)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 빌드 속도 빠름
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ GitHub 연동 가능
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+비용: $0 (무료 tier 범위 내)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+설정 시간: 10-15분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 방법 2: GitHub Actions
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 무료: 2,000분/월 (Private repo)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 무제한 (Public repo)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ GitHub에서 모든 것 관리
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 다른 CI/CD 도구와 통합 쉬움
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+⚠️ GCP 인증 설정 필요 (Service Account)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+비용: $0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+설정 시간: 15-20분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 방법 3: 로컬 수동 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 무료: 100%
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 설정 간단
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 즉시 실행 가능
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+⚠️ 자동화 없음 (수동 실행 필요)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+비용: $0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+설정 시간: 5분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## Cloud Build 자동 배포 (권장)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 워크플로우
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. 로컬에서 코드 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. git add . &amp;&amp; git commit -m &#34;Update&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. git push origin main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. Cloud Build 자동 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Google Container Registry로 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Cloud Run에 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. 배포 완료! 🎉
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 1. 사전 준비
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 필요한 것
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ Google Cloud Platform 프로젝트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ Cloud Run 서비스 (이미 배포된 상태)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ GitHub 저장소
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ 로컬에 Docker 설치
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 2. Cloud Build API 활성화
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Build API 활성화
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud services enable cloudbuild.googleapis.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Artifact Registry API 활성화 (필요시)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud services enable artifactregistry.googleapis.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 3. Cloud Build 권한 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Cloud Build 서비스 계정에 Cloud Run 배포 권한을 부여합니다.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 프로젝트 번호 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+PROJECT_ID=&#34;your-project-id&#34;  # 실제 프로젝트 ID로 변경
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+PROJECT_NUMBER=$(gcloud projects describe $PROJECT_ID --format=&#34;value(projectNumber)&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;Project Number: $PROJECT_NUMBER&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run Admin 권한 부여
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding $PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/run.admin&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Service Account User 권한 부여
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding $PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/iam.serviceAccountUser&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Storage Admin 권한 부여 (GCR 접근용)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding $PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/storage.admin&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 4. cloudbuild.yaml 파일 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+프로젝트에 이미 `server/cloudbuild.yaml` 파일이 있습니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 1: Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;build&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-t&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-t&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;.&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 2: Google Container Registry로 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;push&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;push&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 3: Cloud Run에 자동 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/gcloud&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;run&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;deploy&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;backend&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--image&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--region&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;us-west1&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--platform&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;managed&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--allow-unauthenticated&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+images:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+options:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  logging: CLOUD_LOGGING_ONLY
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**변수 설명:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `$PROJECT_ID`: GCP 프로젝트 ID (자동 치환)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `$SHORT_SHA`: Git 커밋 해시 앞 7자리 (자동 치환)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `backend`: Cloud Run 서비스 이름
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `us-west1`: Cloud Run 리전
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**필요 시 수정:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 서비스 이름: `backend` → 다른 이름
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 리전: `us-west1` → `asia-northeast3` (서울) 등
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 환경 변수 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  ```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;--set-env-vars&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;NODE_ENV=production,OTHER_VAR=value&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 5. GitHub 저장소 연결
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 방법 A: Cloud Console에서 연결 (추천, 더 쉬움)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. **Google Cloud Console 접속**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   https://console.cloud.google.com/cloud-build/triggers
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. **프로젝트 선택**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. **&#34;CREATE TRIGGER&#34; 버튼 클릭**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. **Trigger 설정:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Name: deploy-backend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Description: Deploy backend to Cloud Run on push to main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Event: Push to a branch
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Source:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - Click &#34;CONNECT REPOSITORY&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - Select &#34;GitHub (Cloud Build GitHub App)&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - Authenticate GitHub
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - Select your repository: personal-web-2025
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Branch: ^main$
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Build Configuration: Cloud Build configuration file (yaml or json)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Cloud Build configuration file location: server/cloudbuild.yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. **&#34;CREATE&#34; 버튼 클릭**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 방법 B: gcloud 명령어로 연결
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# GitHub 저장소 연결 및 Trigger 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds triggers create github \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --repo-name=personal-web-2025 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --repo-owner=YOUR_GITHUB_USERNAME \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --branch-pattern=&#34;^main$&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --build-config=server/cloudbuild.yaml \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --description=&#34;Deploy backend to Cloud Run&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**참고:** 처음 실행 시 GitHub 인증 필요
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 6. 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 코드 수정 및 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 1. 코드 수정 (예: server/index.js)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;console.log(&#39;test deploy&#39;);&#34; &gt;&gt; server/index.js
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 2. Git 커밋 및 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git add .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git commit -m &#34;Test auto deploy&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git push origin main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 빌드 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**Cloud Console에서 확인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+https://console.cloud.google.com/cloud-build/builds
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**터미널에서 확인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 최근 빌드 목록 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds list --limit=5
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 특정 빌드 로그 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds log BUILD_ID --stream
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 배포 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run 서비스 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services describe backend --region=us-west1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 서비스 URL 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services describe backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region=us-west1 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --format=&#39;value(status.url)&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+브라우저에서 접속 테스트:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+https://your-service-url/api/health
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 7. 빌드 히스토리 및 로그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Cloud Console에서 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+https://console.cloud.google.com/cloud-build/builds
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ 성공한 빌드: 녹색 체크
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ❌ 실패한 빌드: 빨간색 X
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 각 빌드 클릭하면 상세 로그 확인 가능
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 터미널에서 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 최근 빌드 목록
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds list --limit=10
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 특정 빌드 상세 정보
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds describe BUILD_ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 빌드 로그 스트리밍
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds log BUILD_ID --stream
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 8. 환경 변수 추가 (선택)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+`cloudbuild.yaml`에서 환경 변수를 추가할 수 있습니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # ... 기존 steps ...
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/gcloud&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;run&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;deploy&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;backend&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--image&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--region&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;us-west1&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--platform&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;managed&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--allow-unauthenticated&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--set-env-vars&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;NODE_ENV=production,MONGO_URI=$$MONGO_URI,JWT_SECRET=$$JWT_SECRET&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    secretEnv: [&#39;MONGO_URI&#39;, &#39;JWT_SECRET&#39;]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Secret Manager에서 비밀 가져오기
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+availableSecrets:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  secretManager:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    - versionName: projects/$PROJECT_ID/secrets/MONGO_URI/versions/latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      env: &#39;MONGO_URI&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    - versionName: projects/$PROJECT_ID/secrets/JWT_SECRET/versions/latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      env: &#39;JWT_SECRET&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**Secret Manager에 비밀 저장:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Secret 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo -n &#34;mongodb://...&#34; | gcloud secrets create MONGO_URI --data-file=-
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo -n &#34;your-jwt-secret&#34; | gcloud secrets create JWT_SECRET --data-file=-
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Build에 Secret 접근 권한 부여
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud secrets add-iam-policy-binding MONGO_URI \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/secretmanager.secretAccessor&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud secrets add-iam-policy-binding JWT_SECRET \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/secretmanager.secretAccessor&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 9. 특정 폴더 변경 시에만 빌드 (선택)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+`server/` 폴더 변경 시에만 빌드하도록 Trigger 설정:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**Cloud Console에서:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Build → Triggers → 해당 Trigger 선택 → EDIT
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. &#34;Included files filter (glob)&#34; 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   server/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**gcloud 명령어:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds triggers update TRIGGER_NAME \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --included-files=&#34;server/**&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## GitHub Actions 자동 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 워크플로우
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. 로컬에서 코드 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. git push origin main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. GitHub Actions 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - GCR 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Cloud Run 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ↓
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. 완료!
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 1. GCP Service Account 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Service Account 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud iam service-accounts create github-actions \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --display-name=&#34;GitHub Actions&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run Admin 권한
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:github-actions@YOUR_PROJECT_ID.iam.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/run.admin&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Storage Admin 권한 (GCR 접근)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:github-actions@YOUR_PROJECT_ID.iam.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/storage.admin&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Service Account User 권한
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:github-actions@YOUR_PROJECT_ID.iam.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/iam.serviceAccountUser&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# JSON 키 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud iam service-accounts keys create key.json \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --iam-account=github-actions@YOUR_PROJECT_ID.iam.gserviceaccount.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 2. GitHub Secret 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. **GitHub Repository → Settings → Secrets and variables → Actions**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. **&#34;New repository secret&#34; 클릭**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. **Secret 추가:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Name: GCP_SA_KEY
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Value: key.json 파일 내용 전체 복사/붙여넣기
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. **&#34;Add secret&#34; 클릭**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 3. GitHub Actions Workflow 파일 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+프로젝트에 이미 `.github/workflows/deploy-backend.yml` 파일이 있습니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+name: Deploy Backend to Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+on:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  push:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    branches:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    paths:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;server/**&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;.github/workflows/deploy-backend.yml&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+env:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  PROJECT_ID: YOUR_GCP_PROJECT_ID  # ⚠️ 실제 프로젝트 ID로 변경
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  SERVICE_NAME: backend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  REGION: us-west1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+jobs:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  deploy:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    runs-on: ubuntu-latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Checkout code
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: actions/checkout@v3
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Authenticate to Google Cloud
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: google-github-actions/auth@v1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        with:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          credentials_json: ${{ secrets.GCP_SA_KEY }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Set up Cloud SDK
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        uses: google-github-actions/setup-gcloud@v1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Configure Docker to use gcloud
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: gcloud auth configure-docker
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Build Docker image
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker build -t gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} ./server
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker tag gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Push to Google Container Registry
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker push gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          docker push gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Deploy to Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          gcloud run deploy ${{ env.SERVICE_NAME }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --image gcr.io/${{ env.PROJECT_ID }}/${{ env.SERVICE_NAME }}:${{ github.sha }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --region ${{ env.REGION }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --platform managed \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --allow-unauthenticated \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --set-env-vars &#34;NODE_ENV=production&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - name: Get Service URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        run: |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          SERVICE_URL=$(gcloud run services describe ${{ env.SERVICE_NAME }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --region ${{ env.REGION }} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            --format &#39;value(status.url)&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          echo &#34;Service deployed at: $SERVICE_URL&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**⚠️ 중요: `PROJECT_ID`를 실제 프로젝트 ID로 변경하세요!**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 4. 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 코드 수정 및 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git add .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git commit -m &#34;Test GitHub Actions deploy&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+git push origin main
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**빌드 확인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- GitHub Repository → Actions 탭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 실행 중인 워크플로우 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 로컬 수동 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 1. deploy.sh 스크립트 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+프로젝트에 이미 `server/deploy.sh` 파일이 있습니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run 배포 스크립트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+set -e
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 변수 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+PROJECT_ID=&#34;YOUR_GCP_PROJECT_ID&#34;  # ⚠️ 실제 프로젝트 ID로 변경
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+SERVICE_NAME=&#34;backend&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+REGION=&#34;us-west1&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+IMAGE_NAME=&#34;gcr.io/${PROJECT_ID}/${SERVICE_NAME}&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🚀 Starting deployment to Cloud Run...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 1. Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;📦 Building Docker image...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker build -t ${IMAGE_NAME}:latest .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 2. 이미지에 타임스탬프 태그 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+TIMESTAMP=$(date +%Y%m%d-%H%M%S)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker tag ${IMAGE_NAME}:latest ${IMAGE_NAME}:${TIMESTAMP}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 3. Google Container Registry로 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;📤 Pushing to Google Container Registry...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker push ${IMAGE_NAME}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker push ${IMAGE_NAME}:${TIMESTAMP}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 4. Cloud Run에 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;☁️  Deploying to Cloud Run...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run deploy ${SERVICE_NAME} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --image ${IMAGE_NAME}:${TIMESTAMP} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region ${REGION} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --platform managed \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --allow-unauthenticated \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --set-env-vars &#34;NODE_ENV=production&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 5. 배포 완료 URL 출력
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+SERVICE_URL=$(gcloud run services describe ${SERVICE_NAME} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region ${REGION} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --format &#39;value(status.url)&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;✅ Deployment complete!&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🌐 Service URL: ${SERVICE_URL}&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🏷️  Image tag: ${TIMESTAMP}&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 2. 스크립트 수정 및 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 1. PROJECT_ID 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# server/deploy.sh 파일을 열어서 YOUR_GCP_PROJECT_ID를 실제 값으로 변경
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 2. 실행 권한 부여
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+chmod +x server/deploy.sh
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 3. 배포 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+cd server
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+./deploy.sh
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 3. 간단한 명령어로 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+스크립트 없이 직접 명령어 실행:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+cd server
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 1. Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker build -t gcr.io/YOUR_PROJECT_ID/backend:latest .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 2. GCR로 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker push gcr.io/YOUR_PROJECT_ID/backend:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 3. Cloud Run 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run deploy backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --image gcr.io/YOUR_PROJECT_ID/backend:latest \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region us-west1 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --platform managed \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --allow-unauthenticated
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 비용 분석
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Build (권장)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 무료 tier
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 빌드 시간: 120분/일 (무료)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 약 24-40회 배포/일 가능 (1회 빌드 3-5분 기준)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 실제 사용량 (개인 프로젝트)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+📊 예상 배포 횟수:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 개발 중: 1-3회/일
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 안정기: 1-2회/주
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+📊 예상 빌드 시간:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 3회/일 × 5분 = 15분/일
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 무료 한도: 120분/일
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 사용률: 12.5% ✅
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+결론: 100% 무료 범위 내에서 사용 가능!
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 초과 시 비용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+💰 $0.003/분 (빌드 시간 초과분)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+예: 하루 200분 사용 시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 무료: 120분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 유료: 80분 × $0.003 = $0.24/일 = $7.20/월
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### GitHub Actions
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 무료 tier
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ Public repo: 무제한 무료
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ Private repo: 2,000분/월 무료
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 초과 시 비용 (Private repo)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+💰 $0.008/분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+예: 월 3,000분 사용 시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 무료: 2,000분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 유료: 1,000분 × $0.008 = $8/월
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 로컬 수동 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ 비용: $0 (완전 무료)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+⚠️ 자동화 없음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Run 실행 비용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+무료 tier (매월):
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 요청: 200만 건
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- CPU: 180,000 vCPU-초
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 메모리: 360,000 GiB-초
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 네트워크 송신: 1GB
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+개인 프로젝트는 대부분 무료 범위 내!
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 트러블슈팅
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 1: Cloud Build 권한 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**에러 메시지:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ERROR: (gcloud.run.deploy) PERMISSION_DENIED: Permission &#39;run.services.update&#39; denied
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Build 서비스 계정에 권한 부여
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+PROJECT_NUMBER=$(gcloud projects describe YOUR_PROJECT_ID --format=&#34;value(projectNumber)&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/run.admin&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud projects add-iam-policy-binding YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --member=&#34;serviceAccount:${PROJECT_NUMBER}@cloudbuild.gserviceaccount.com&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --role=&#34;roles/iam.serviceAccountUser&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 2: GitHub 연동 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**에러 메시지:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ERROR: Repository not found
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. GitHub App 재인증:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   https://console.cloud.google.com/cloud-build/triggers
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. &#34;CONNECT REPOSITORY&#34; 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. GitHub 재인증 및 저장소 선택
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 3: Docker 빌드 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**에러 메시지:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ERROR: failed to solve with frontend dockerfile.v0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Dockerfile 문법 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 파일 경로 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 의존성 설치 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. 로컬에서 Docker 빌드 테스트:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   cd server
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   docker build -t test:latest .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. Dockerfile 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - `COPY` 명령어 경로 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - `package.json` 존재 여부 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Node.js 버전 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. `.dockerignore` 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   node_modules
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   npm-debug.log
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   .env
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   .git
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 4: Cloud Run 배포 타임아웃
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**에러 메시지:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ERROR: Revision failed to become ready
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 애플리케이션 시작 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 포트 바인딩 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 환경 변수 누락
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Run 로그 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud logging read &#34;resource.type=cloud_run_revision&#34; --limit=50
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. 애플리케이션이 `PORT` 환경 변수 사용하는지 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```javascript
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   const PORT = process.env.PORT || 3001;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   app.listen(PORT, () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     console.log(`Server running on port ${PORT}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. 헬스체크 엔드포인트 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```javascript
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   app.get(&#39;/health&#39;, (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     res.status(200).send(&#39;OK&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 5: GitHub Actions에서 GCP 인증 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**에러 메시지:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Error: google-github-actions/auth failed with: retry function failed after 3 attempts
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Service Account 키 재확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   cat key.json
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. GitHub Secret 재등록:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Repository → Settings → Secrets → GCP_SA_KEY 삭제
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - `key.json` 전체 내용 복사하여 재등록
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. Service Account 권한 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud projects get-iam-policy YOUR_PROJECT_ID \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     --flatten=&#34;bindings[].members&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     --filter=&#34;bindings.members:github-actions@*&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 6: 빌드는 성공하지만 배포 안 됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**증상:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Cloud Build 빌드 성공 ✅
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 하지만 Cloud Run 서비스가 업데이트되지 않음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 이미지가 푸시되었지만 배포 단계 실패
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Cloud Run 서비스 이름 불일치
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Build 로그 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud builds list --limit=1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud builds log BUILD_ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. `cloudbuild.yaml`에서 서비스 이름 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - name: &#39;gcr.io/cloud-builders/gcloud&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+       - &#39;run&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+       - &#39;deploy&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+       - &#39;backend&#39;  # ← 실제 Cloud Run 서비스 이름과 일치해야 함
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. Cloud Run 서비스 목록 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud run services list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 7: 환경 변수가 적용되지 않음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**증상:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 배포는 성공하지만 애플리케이션에서 환경 변수를 읽지 못함
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Run 서비스의 환경 변수 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud run services describe backend --region=us-west1 --format=yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. `cloudbuild.yaml`에 환경 변수 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - &#39;--set-env-vars&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - &#39;NODE_ENV=production,MONGO_URI=your-mongo-uri&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. Secret Manager 사용 (민감한 정보):
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   secretEnv: [&#39;MONGO_URI&#39;, &#39;JWT_SECRET&#39;]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   availableSecrets:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     secretManager:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+       - versionName: projects/$PROJECT_ID/secrets/MONGO_URI/versions/latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+         env: &#39;MONGO_URI&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 8: 이전 이미지가 계속 배포됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**증상:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 새 코드를 푸시했는데 이전 버전이 배포됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Docker 이미지 캐시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- GCR에 이미지가 푸시되지 않음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `:latest` 태그만 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. 커밋 SHA를 이미지 태그로 사용 (이미 `cloudbuild.yaml`에 적용됨):
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;  # ✅ 커밋별 고유 태그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. GCR에서 이미지 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud container images list-tags gcr.io/YOUR_PROJECT_ID/backend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. 특정 이미지로 재배포:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   gcloud run deploy backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     --image gcr.io/YOUR_PROJECT_ID/backend:abc1234 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     --region us-west1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 로그 확인 방법
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Cloud Build 로그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 최근 빌드 목록
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds list --limit=10
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 특정 빌드 로그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds log BUILD_ID --stream
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Console
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+https://console.cloud.google.com/cloud-build/builds
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Cloud Run 로그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 실시간 로그 스트리밍
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud logging read &#34;resource.type=cloud_run_revision AND resource.labels.service_name=backend&#34; \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --limit=50 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --format=json \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --freshness=1h
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Console
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+https://console.cloud.google.com/run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# → 서비스 선택 → LOGS 탭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### GitHub Actions 로그
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+GitHub Repository → Actions 탭 → 워크플로우 선택 → 각 Step 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 추가 최적화
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 1. 빌드 속도 향상
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Docker 멀티스테이지 빌드 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+`server/Dockerfile` 최적화:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```dockerfile
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Stage 1: Dependencies
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+FROM node:18-alpine AS deps
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+WORKDIR /app
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY package*.json ./
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+RUN npm ci --only=production
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Stage 2: Build
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+FROM node:18-alpine AS builder
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+WORKDIR /app
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY package*.json ./
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+RUN npm ci
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY . .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 필요 시 빌드 스크립트 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# RUN npm run build
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Stage 3: Production
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+FROM node:18-alpine AS runner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+WORKDIR /app
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ENV NODE_ENV=production
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY --from=deps /app/node_modules ./node_modules
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY --from=builder /app .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+EXPOSE 3001
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+CMD [&#34;node&#34;, &#34;index.js&#34;]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Docker Layer 캐싱
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+`cloudbuild.yaml`에 캐시 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+options:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  machineType: &#39;E2_HIGHCPU_8&#39;  # 빌드 속도 향상
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  logging: CLOUD_LOGGING_ONLY
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 2. 배포 알림 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### Slack 알림 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+`cloudbuild.yaml`에 추가:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```yaml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # ... 기존 steps ...
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Slack 알림
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/curl&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-X&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;POST&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-H&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;Content-Type: application/json&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-d&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;{&#34;text&#34;:&#34;✅ Backend deployed successfully! Image: gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#34;}&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;YOUR_SLACK_WEBHOOK_URL&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 3. Rollback 전략
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 이전 버전으로 롤백
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 이전 이미지 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud container images list-tags gcr.io/YOUR_PROJECT_ID/backend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 특정 버전으로 롤백
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run deploy backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --image gcr.io/YOUR_PROJECT_ID/backend:PREVIOUS_SHA \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region us-west1
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 트래픽 분할 (Blue-Green 배포)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 새 버전 배포 (트래픽 0%)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run deploy backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --image gcr.io/YOUR_PROJECT_ID/backend:NEW_SHA \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region us-west1 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --no-traffic \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --tag=new
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 트래픽 점진적 이동
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services update-traffic backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region us-west1 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --to-revisions=new=10,LATEST=90
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 전체 트래픽 이동
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services update-traffic backend \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region us-west1 \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --to-latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 체크리스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Build 설정 완료 체크리스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Build API 활성화
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Build 서비스 계정 권한 설정 (run.admin, iam.serviceAccountUser)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] `server/cloudbuild.yaml` 파일 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] GitHub 저장소 연결
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Trigger 생성 (main 브랜치, server/cloudbuild.yaml)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 테스트 배포 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Console에서 빌드 성공 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Run 서비스 업데이트 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 브라우저에서 접속 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### GitHub Actions 설정 완료 체크리스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] GCP Service Account 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Service Account에 권한 부여 (run.admin, storage.admin, iam.serviceAccountUser)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Service Account JSON 키 생성
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] GitHub Secret에 `GCP_SA_KEY` 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] `.github/workflows/deploy-backend.yml`에서 `PROJECT_ID` 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 테스트 푸시 실행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] GitHub Actions 탭에서 워크플로우 성공 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Run 서비스 업데이트 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 브라우저에서 접속 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 로컬 수동 배포 체크리스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] `server/deploy.sh`에서 `PROJECT_ID` 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 스크립트 실행 권한 부여 (`chmod +x`)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Docker Desktop 실행 중 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] gcloud CLI 인증 완료 (`gcloud auth login`)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 스크립트 실행 (`./deploy.sh`)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 배포 성공 메시지 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 브라우저에서 접속 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 참고 자료
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 공식 문서
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [Cloud Build Documentation](https://cloud.google.com/build/docs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [Cloud Run Documentation](https://cloud.google.com/run/docs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [GitHub Actions Documentation](https://docs.github.com/en/actions)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [Google Container Registry](https://cloud.google.com/container-registry/docs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 유용한 명령어
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Build
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds describe BUILD_ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud builds log BUILD_ID --stream
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run services describe SERVICE_NAME --region=REGION
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run revisions list --service=SERVICE_NAME --region=REGION
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Container Registry
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud container images list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud container images list-tags gcr.io/PROJECT_ID/IMAGE_NAME
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud container images delete gcr.io/PROJECT_ID/IMAGE_NAME:TAG
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Secret Manager
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud secrets create SECRET_NAME --data-file=-
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud secrets versions access latest --secret=SECRET_NAME
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 문서 히스토리
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **2025-12-04:** 초기 문서 작성 (Cloud Build, GitHub Actions, 로컬 배포 방법)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 다음 단계
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. ✅ Cloud Build 자동 배포 설정 완료
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. ✅ 커스텀 도메인 연결 완료 (별도 문서 참조)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. 📝 프론트엔드 Vercel 배포 (진행 중)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. 📝 환경 변수 Secret Manager로 마이그레이션 (선택)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. 📝 모니터링 및 알림 설정 (선택)
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="docs/cloud-run-custom-domain-setup.md" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">docs/cloud-run-custom-domain-setup.md</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,465 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+# Cloud Run 커스텀 도메인 설정 가이드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 개요
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+이 문서는 Google Cloud Run에 배포된 서비스에 커스텀 도메인(예: distilledchild.space)을 연결하는 전체 과정을 설명합니다.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 목차
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. [사전 준비](#사전-준비)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. [Cloud Run에서 도메인 매핑](#1-cloud-run에서-도메인-매핑)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. [도메인 소유권 인증](#2-도메인-소유권-인증)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. [DNS 레코드 설정](#3-dns-레코드-설정-namecheap)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. [SSL 인증서 발급 대기](#4-ssl-인증서-발급-대기)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+6. [확인 및 테스트](#5-확인-및-테스트)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+7. [트러블슈팅](#트러블슈팅)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 사전 준비
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 필요한 것
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ Google Cloud Platform 계정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ Cloud Run에 배포된 서비스
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ 등록된 도메인 (예: Namecheap, GoDaddy 등)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ 도메인 관리 권한 (DNS 레코드 수정 가능)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 예상 소요 시간
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 설정 작업: 10-15분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- DNS 전파 및 SSL 인증서 발급: 20분~1시간
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **총 소요 시간: 약 1시간**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 1. Cloud Run에서 도메인 매핑
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 단계별 진행
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. **Google Cloud Console 접속**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   https://console.cloud.google.com/run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. **서비스 선택**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 커스텀 도메인을 연결할 Cloud Run 서비스 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. **Domain Mappings 탭 이동**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 상단 탭에서 &#34;Domain Mappings&#34; 또는 &#34;도메인 관리&#34; 선택
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. **도메인 추가**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - &#34;Add Mapping&#34; 또는 &#34;매핑 추가&#34; 버튼 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 도메인 입력:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - `distilledchild.space` (루트 도메인)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - 또는 `www.distilledchild.space` (www 서브도메인)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+     - 또는 둘 다
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+5. **계속 진행**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - &#34;Continue&#34; 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 2. 도메인 소유권 인증
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 인증이 필요한 이유
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Google은 아무나 다른 사람의 도메인을 사용하지 못하도록, 도메인 소유자임을 증명하도록 요구합니다.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 인증 방법
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 옵션 1: Google Search Console 사용 (권장)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Google Search Console에 이미 도메인이 등록되어 있으면 자동 인증
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. 등록되지 않았다면 Search Console에서 도메인 추가 및 인증
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 옵션 2: TXT 레코드 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Run이 제공하는 TXT 레코드 값 복사
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. 도메인 제공업체(Namecheap 등)의 DNS 설정에서 TXT 레코드 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Type: TXT Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Host: @
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Value: google-site-verification=xxxxxxxxxxxx
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   TTL: Automatic
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. 저장 후 &#34;Verify&#34; 버튼 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 인증 완료 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- ✅ &#34;Domain verified&#34; 메시지 표시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 다음 단계로 진행 가능
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 3. DNS 레코드 설정 (Namecheap)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Run이 제공하는 DNS 정보 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+도메인 인증 후, Cloud Run은 다음과 같은 DNS 레코드 설정을 요구합니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+A Record:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Name/Host: @
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Value: 216.239.32.21 (Google Load Balancer IP)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+CNAME Record:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Name/Host: www
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Value: ghs.googlehosted.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+&gt; **참고:** IP 주소는 Google이 제공하는 값이며, 프로젝트마다 다를 수 있습니다.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Namecheap에서 DNS 레코드 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 1. Namecheap 로그인 및 도메인 관리 페이지 이동
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Namecheap Dashboard → Domain List → 해당 도메인 선택 → &#34;Manage&#34; 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 2. Advanced DNS 탭 이동
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+상단 탭에서 &#34;Advanced DNS&#34; 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 3. A Record 추가/수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Type: A Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Host: @
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Value: 216.239.32.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+TTL: Automatic
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**설명:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `@` = 루트 도메인 (distilledchild.space)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `216.239.32.21` = Google Load Balancer IP
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 이미 A Record가 있다면 Value만 수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 4. CNAME Record 추가/수정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Type: CNAME Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Host: www
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Value: ghs.googlehosted.com.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+TTL: Automatic
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**설명:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `www` = www 서브도메인 (www.distilledchild.space)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- `ghs.googlehosted.com` = Google Hosted Service
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 끝에 점(`.`)이 자동으로 추가될 수 있음 (정상)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### 5. 저장
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- &#34;Save Changes&#34; 또는 체크 버튼(✓) 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 최종 DNS 레코드 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+설정 완료 후 다음과 같이 표시되어야 합니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+| Type | Host | Value | TTL |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+|------|------|-------|-----|
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+| A Record | @ | 216.239.32.21 | Automatic |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+| CNAME Record | www | ghs.googlehosted.com. | Automatic |
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 4. SSL 인증서 발급 대기
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Run 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+DNS 레코드 설정 후 Cloud Run Console로 돌아가면 다음 메시지가 표시됩니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+⏳ Waiting for certificate provisioning.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   You must configure your DNS records for certificate issuance to begin.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 자동 진행 과정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. **DNS 전파** (5-30분)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Namecheap DNS 서버에서 전 세계 DNS 서버로 변경사항 전파
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 지역에 따라 전파 속도 상이
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. **Google DNS 확인** (자동)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Google이 설정한 DNS 레코드가 올바른지 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. **SSL 인증서 발급** (10-20분)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Let&#39;s Encrypt를 통해 무료 SSL 인증서 자동 발급
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Google이 자동으로 처리
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+4. **인증서 설치 완료**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Cloud Run에 인증서 자동 설치
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - HTTPS 접속 가능
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 예상 총 소요 시간
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **최소:** 20분
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **평균:** 30분~1시간
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **최대:** 48시간 (드물게)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 5. 확인 및 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### DNS 전파 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+터미널에서 다음 명령어로 DNS 전파 상태 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 루트 도메인 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+nslookup distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# www 서브도메인 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+nslookup www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**성공 시 결과:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+$ nslookup www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Server:		8.8.8.8
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Address:	8.8.8.8#53
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Non-authoritative answer:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+www.distilledchild.space	canonical name = ghs.googlehosted.com.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Name:	ghs.googlehosted.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Address: 216.239.32.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 대체 확인 방법 (dig 명령어)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+dig distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+dig www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### SSL 인증서 발급 완료 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Cloud Run Console에서 다음 상태 확인:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+✅ Active
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   SSL certificate provisioned
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Domain mapping active
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 브라우저 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. **HTTPS 접속 테스트**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   https://distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   https://www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. **HTTP 자동 리다이렉트 확인**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   http://distilledchild.space → https://distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   http://www.distilledchild.space → https://www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. **SSL 인증서 확인**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 브라우저 주소창의 자물쇠 아이콘 클릭
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - 인증서 정보 확인: Let&#39;s Encrypt 발급
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 트러블슈팅
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 1: &#34;Waiting for certificate provisioning&#34; 메시지가 계속 표시됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- DNS 레코드가 아직 전파되지 않음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- DNS 레코드 설정 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Namecheap DNS 설정 재확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   A Record: @ → 216.239.32.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   CNAME Record: www → ghs.googlehosted.com
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. DNS 전파 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   nslookup www.distilledchild.space
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+3. 최대 48시간 대기 (보통 30분~1시간)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 2: &#34;DNS configuration error&#34; 표시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 잘못된 A Record 또는 CNAME Record 값
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 루트 도메인(@)에 CNAME과 A Record가 동시에 존재
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. 동일한 Host에 중복 레코드 제거
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - `@`에는 **A Record만**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - `www`에는 **CNAME Record만**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. 올바른 값 재확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   - Cloud Run Console에서 제공한 정확한 IP와 도메인 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 3: DNS 전파가 너무 느림
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**확인 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 온라인 DNS 전파 체크 도구 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  https://www.whatsmydns.net/
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. TTL을 낮게 설정 (예: 300초)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. 로컬 DNS 캐시 플러시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   # macOS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   sudo dscacheutil -flushcache; sudo killall -HUP mDNSResponder
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   # Windows
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ipconfig /flushdns
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   # Linux
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   sudo systemd-resolve --flush-caches
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 4: 일부 지역에서만 접속 안 됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- DNS 전파가 일부 지역에서 완료되지 않음
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 추가 대기 (DNS 전파는 지역별로 시차 있음)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 다른 네트워크에서 테스트 (모바일 데이터, VPN 등)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 문제 5: 브라우저에서 &#34;Connection refused&#34; 오류
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**원인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Cloud Run 서비스가 실행 중이 아님
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Ingress 설정이 잘못됨
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**해결 방법:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+1. Cloud Run 서비스 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Console → Cloud Run → 서비스 선택 → 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+2. Ingress 설정 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   Settings → Ingress → &#34;All&#34; 또는 &#34;Internal and Cloud Load Balancing&#34; 선택
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+   ```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 참고 정보
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### DNS 레코드 타입 설명
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### A Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **목적:** 도메인을 IPv4 주소로 연결
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **사용:** 루트 도메인 (예: distilledchild.space)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **예시:** `distilledchild.space → 216.239.32.21`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### CNAME Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **목적:** 도메인을 다른 도메인으로 연결 (별칭)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **사용:** 서브도메인 (예: www.distilledchild.space)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **예시:** `www.distilledchild.space → ghs.googlehosted.com`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **제약:** 루트 도메인(@)에는 사용 불가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+#### TXT Record
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **목적:** 텍스트 정보 저장 (주로 인증용)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **사용:** 도메인 소유권 인증, SPF, DKIM 등
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **예시:** `google-site-verification=xxxxxxxxxxxx`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Google Cloud Run Load Balancer IP
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Google Cloud Run은 여러 Load Balancer IP를 제공합니다:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+216.239.32.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+216.239.34.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+216.239.36.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+216.239.38.21
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+```
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**참고:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Cloud Run Console에서 제공하는 IP를 사용하세요
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 대부분의 경우 `216.239.32.21` 사용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### SSL 인증서 갱신
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**자동 갱신:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Google이 Let&#39;s Encrypt를 통해 자동으로 갱신
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 만료 전 자동 갱신 (사용자 조치 불필요)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 인증서 유효 기간: 90일
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**갱신 실패 시:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Cloud Run Console에서 알림 표시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- DNS 레코드가 올바른지 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 문제 해결 후 자동으로 재시도
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 비용
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**Cloud Run 커스텀 도메인:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 도메인 매핑: **무료**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- SSL 인증서: **무료** (Let&#39;s Encrypt)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Load Balancer: **무료** (Cloud Run 포함)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**도메인 등록:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- Namecheap, GoDaddy 등에서 연간 비용 발생 (서비스 제공업체마다 상이)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+**Cloud Run 서비스:**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 요청 수, CPU, 메모리 사용량에 따라 과금
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- 매월 200만 요청 무료 (Free Tier)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 요약 체크리스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Cloud Run 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Run Console에서 서비스 선택
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Domain Mappings 탭에서 도메인 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 도메인 소유권 인증 (Verify)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] DNS 레코드 정보 확인 (A, CNAME)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### Namecheap 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Advanced DNS 탭 이동
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] A Record 추가: `@ → 216.239.32.21`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] CNAME Record 추가: `www → ghs.googlehosted.com`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 변경사항 저장
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 확인 및 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] DNS 전파 확인 (`nslookup`, `dig`)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] SSL 인증서 발급 대기 (20분~1시간)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] Cloud Run Console에서 &#34;Active&#34; 상태 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] 브라우저에서 HTTPS 접속 테스트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [ ] HTTP → HTTPS 자동 리다이렉트 확인
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 추가 자료
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### 공식 문서
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [Google Cloud Run - Custom Domains](https://cloud.google.com/run/docs/mapping-custom-domains)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [Namecheap - DNS Management](https://www.namecheap.com/support/knowledgebase/article.aspx/434/2237/how-do-i-set-up-host-records-for-a-domain/)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### DNS 전파 체크 도구
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [WhatsMyDNS](https://www.whatsmydns.net/)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [DNS Checker](https://dnschecker.org/)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+### SSL 인증서 확인 도구
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [SSL Labs](https://www.ssllabs.com/ssltest/)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- [SSL Checker](https://www.sslshopper.com/ssl-checker.html)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 문서 히스토리
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+- **2025-12-04:** 초기 문서 작성 (distilledchild.space 커스텀 도메인 설정 과정 기록)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+---
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+## 문의 및 피드백
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+문제가 발생하거나 추가 질문이 있으면 Google Cloud Support 또는 도메인 제공업체에 문의하세요.
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/About.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/About.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -119,7 +119,8 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                 try {
</span></span><span class="line"><span class="cl">                     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                     const response = await fetch(`${API_URL}/api/member/role/${parsedUser.email}`);
</span></span><span class="line"><span class="cl">                     if (response.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -165,7 +166,8 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     // Fetch functions
</span></span><span class="line"><span class="cl">     const fetchMilestones = async () =&gt; {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Blog.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Blog.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -35,7 +35,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             try {
</span></span><span class="line"><span class="cl">                 const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                     ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                    : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                 console.log(&#39;Fetching from:&#39;, `${API_URL}/api/tech-blog`);
</span></span><span class="line"><span class="cl">                 const response = await fetch(`${API_URL}/api/tech-blog`);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -73,7 +74,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                     // Check authorization from MEMBER collection
</span></span><span class="line"><span class="cl">                     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                     const response = await fetch(`${API_URL}/api/member/role/${parsedUser.email}`);
</span></span><span class="line"><span class="cl">                     if (response.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -137,7 +139,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/tech-blog/${postId}/like`, {
</span></span><span class="line"><span class="cl">                 method: &#39;POST&#39;,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -198,7 +201,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const tagsArray = editData.tags.split(&#39;;&#39;).map(t =&gt; t.trim()).filter(t =&gt; t);
</span></span><span class="line"><span class="cl">             console.log(&#39;[FRONTEND] Sending UPDATE with tags:&#39;, tagsArray);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -256,7 +260,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/tech-blog/${allPosts[selectedPost]._id}`, {
</span></span><span class="line"><span class="cl">                 method: &#39;DELETE&#39;,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -312,7 +317,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             // If OPAL is checked, call OPAL API
</span></span><span class="line"><span class="cl">             if (useOpal) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -418,7 +424,8 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const formData = new FormData();
</span></span><span class="line"><span class="cl">             formData.append(&#39;image&#39;, file);
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Contact.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Contact.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -21,7 +21,8 @@ export const Contact: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     // Fetch user&#39;s IP-based location
</span></span><span class="line"><span class="cl">     useEffect(() =&gt; {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Interests.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Interests.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -180,7 +180,8 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     useEffect(() =&gt; {
</span></span><span class="line"><span class="cl">         const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">             ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-            : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">         if (activeTab === &#39;art&#39;) {
</span></span><span class="line"><span class="cl">             // Reset expanded state when entering Art submenu
</span></span><span class="line"><span class="cl"><span class="gu">@@ -271,7 +272,8 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     useEffect(() =&gt; {
</span></span><span class="line"><span class="cl">         const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">             ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-            : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">         const fetchStates = async () =&gt; {
</span></span><span class="line"><span class="cl">             try {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/StravaCallback.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/StravaCallback.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -31,7 +31,8 @@ export const StravaCallback: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             try {
</span></span><span class="line"><span class="cl">                 const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                     ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                    : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                 // Exchange code for access token
</span></span><span class="line"><span class="cl">                 const tokenResponse = await fetch(`${API_URL}/api/strava/exchange_token`, {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Todo.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Todo.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -75,7 +75,8 @@ const WeatherWidget: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                     // 1. Get location from Contact API
</span></span><span class="line"><span class="cl">                     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                     const contactResponse = await fetch(`${API_URL}/api/contact`);
</span></span><span class="line"><span class="cl">                     if (contactResponse.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -478,7 +479,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                     // Check authorization
</span></span><span class="line"><span class="cl">                     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                     const response = await fetch(`${API_URL}/api/member/role/${parsedUser.email}`);
</span></span><span class="line"><span class="cl">                     const data = await response.json();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -494,7 +496,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             try {
</span></span><span class="line"><span class="cl">                 const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                     ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                    : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                 const response = await fetch(`${API_URL}/api/contact`);
</span></span><span class="line"><span class="cl">                 if (response.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -565,7 +568,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/todos`);
</span></span><span class="line"><span class="cl">             if (response.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -583,7 +587,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             console.log(&#39;[TODO] Fetching projects from:&#39;, `${API_URL}/api/projects`);
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/projects`);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -626,7 +631,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const todoData = {
</span></span><span class="line"><span class="cl">                 ...newTodo,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -680,7 +686,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/todos/${selectedTodo._id}`, {
</span></span><span class="line"><span class="cl">                 method: &#39;PUT&#39;,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -717,7 +724,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span><span class="line"><span class="cl">                 method: &#39;DELETE&#39;,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -803,7 +811,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const method = selectedProject ? &#39;PUT&#39; : &#39;POST&#39;;
</span></span><span class="line"><span class="cl">             const url = selectedProject
</span></span><span class="line"><span class="cl"><span class="gu">@@ -845,7 +854,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         try {
</span></span><span class="line"><span class="cl">             const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                 ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             const response = await fetch(`${API_URL}/api/projects/${projectId}`, {
</span></span><span class="line"><span class="cl">                 method: &#39;DELETE&#39;,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1331,7 +1341,8 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                 try {
</span></span><span class="line"><span class="cl">                                                     const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">                                                         ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                        : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                                                     const todo = todos.find(t =&gt; t._id === todoId);
</span></span><span class="line"><span class="cl">                                                     const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/.dockerignore" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/.dockerignore</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,11 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+node_modules
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+npm-debug.log
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+.env
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+.git
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+.gitignore
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+*.md
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+chat_logs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+nixpacks.toml
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+railway.json
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+seed_milestones.js
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+update-projects.js
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/cloudbuild.yaml" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/cloudbuild.yaml</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,42 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+steps:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 1: build Docker image
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;build&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-t&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;-t&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;.&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 2: push to Google Container Registry
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;push&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/docker&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;push&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  # Step 3: deploy to Cloud Run
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - name: &#39;gcr.io/cloud-builders/gcloud&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    args:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;run&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;deploy&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;personal-web-backend&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--image&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--region&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;us-central1&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--platform&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;managed&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      - &#39;--allow-unauthenticated&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+images:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;gcr.io/$PROJECT_ID/backend:$SHORT_SHA&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  - &#39;gcr.io/$PROJECT_ID/backend:latest&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+options:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  logging: CLOUD_LOGGING_ONLY
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/deploy.sh" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/deploy.sh</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,44 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+#!/bin/bash
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Cloud Run 배포 스크립트
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+set -e
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 변수 설정
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+PROJECT_ID=&#34;YOUR_GCP_PROJECT_ID&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+SERVICE_NAME=&#34;backend&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+REGION=&#34;us-west1&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+IMAGE_NAME=&#34;gcr.io/${PROJECT_ID}/${SERVICE_NAME}&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🚀 Starting deployment to Cloud Run...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 1. Docker 이미지 빌드
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;📦 Building Docker image...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker build -t ${IMAGE_NAME}:latest .
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 2. 이미지에 타임스탬프 태그 추가
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+TIMESTAMP=$(date +%Y%m%d-%H%M%S)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker tag ${IMAGE_NAME}:latest ${IMAGE_NAME}:${TIMESTAMP}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 3. Google Container Registry로 푸시
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;📤 Pushing to Google Container Registry...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker push ${IMAGE_NAME}:latest
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+docker push ${IMAGE_NAME}:${TIMESTAMP}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 4. Cloud Run에 배포
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;☁️  Deploying to Cloud Run...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+gcloud run deploy ${SERVICE_NAME} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --image ${IMAGE_NAME}:${TIMESTAMP} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region ${REGION} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --platform managed \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --allow-unauthenticated \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --set-env-vars &#34;NODE_ENV=production&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# 5. 배포 완료 URL 출력
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+SERVICE_URL=$(gcloud run services describe ${SERVICE_NAME} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --region ${REGION} \
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  --format &#39;value(status.url)&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;✅ Deployment complete!&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🌐 Service URL: ${SERVICE_URL}&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+echo &#34;🏷️  Image tag: ${TIMESTAMP}&#34;
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/Dockerfile" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/Dockerfile</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,28 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+# Use Node.js 20 LTS as base image
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+FROM node:20.19.0-slim
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Set working directory
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+WORKDIR /app
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Copy package files
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY package*.json ./
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Install dependencies
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+RUN npm ci --only=production
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Copy application code
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY index.js ./
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Copy service account key if it exists (for GCS access)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Note: In production, prefer using GCP service account binding instead
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+COPY service-account-key.json* ./
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Set environment variables
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ENV NODE_ENV=production
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ENV PORT=8080
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Expose the port Cloud Run expects
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+EXPOSE 8080
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+# Start the application
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+CMD [&#34;node&#34;, &#34;index.js&#34;]
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/index.js" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/index.js</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -32,6 +32,11 @@ const corsOptions = {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> app.use(cors(corsOptions));
</span></span><span class="line"><span class="cl"> app.use(express.json());
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gi">+// Root route for health check
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+app.get(&#39;/&#39;, (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    res.send(&#39;Hello from Cloud Run! 🚀 Server is running correctly.&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+});
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> // Load environment variables
</span></span><span class="line"><span class="cl"> import dotenv from &#39;dotenv&#39;;
</span></span><span class="line"><span class="cl"> 
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id=".gitignore" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">.gitignore</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -25,4 +25,5 @@ dist-ssr
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> .env*
</span></span><span class="line"><span class="cl"> *-key.json
</span></span><span class="line"><span class="cl"> public/data
</span></span><span class="line"><span class="cl"><span class="gd">-queries/
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>\ No newline at end of file
</span></span><span class="line"><span class="cl"><span class="gi">+queries/
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+GCP_RUN_SETUP_GUIDE.md
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>\ No newline at end of file
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="App.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">App.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -86,7 +86,7 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>           // Check authorization from MEMBER collection
</span></span><span class="line"><span class="cl">           const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">             ? &#39;http://localhost:4000&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-            : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">           const response = await fetch(`${API_URL}/api/member/role/${userData.email}`);
</span></span><span class="line"><span class="cl">           if (response.ok) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -285,7 +285,7 @@ const GoogleLogin: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">     const isProduction = window.location.hostname !== &#39;localhost&#39;;
</span></span><span class="line"><span class="cl">     const redirectUri = isProduction
</span></span><span class="line"><span class="cl"><span class="gd">-      ? &#39;https://www.distilledchild.space/oauth/google/callback&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+      ? &#39;https://api.distilledchild.space/api/auth/google&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>       : &#39;http://localhost:3000/oauth/google/callback&#39;;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     const params = new URLSearchParams({
</span></span><span class="line"><span class="cl"><span class="gu">@@ -333,7 +333,7 @@ const OAuthCallback: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (code) {
</span></span><span class="line"><span class="cl">       const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span><span class="line"><span class="cl">         ? &#39;http://localhost:4000/api/auth/google&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-        : &#39;https://personal-web-2025-production.up.railway.app/api/auth/google&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        : &#39;https://api.distilledchild.space/api/auth/google&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">       fetch(API_URL, {
</span></span><span class="line"><span class="cl">         method: &#39;POST&#39;,
</span></span></code></pre>
                        </div>
                    
                </section>
            
        </div>
    </div>

    </div>
</main>
<footer>
    Generated by <a href="https://github.com/antonmedv/gitmal">Gitmal</a>
</footer>
</body>
</html>
