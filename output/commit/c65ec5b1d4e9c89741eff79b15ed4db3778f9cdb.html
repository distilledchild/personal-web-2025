<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>1. changing color consistency depending on menus 2. Removing chatting service 3. Adding Academic submenu in About 4. Hightening main menus Â· personal-web-2025@c65ec5b</title>
    <style>
        
        :root {
          --c-indigo-1: #3451b2;
          --c-indigo-2: #3a5ccc;
          --c-indigo-3: #5672cd;
          --c-green: #1a7f37;
          --c-red: #c53030;
          --c-yellow: #9a6700;
          --c-dir: #54aeff;
          --c-gray-soft: rgba(142, 150, 170, .14);
          --c-bg: #ffffff;
          --c-bg-alt: #f6f6f7;
          --c-bg-elv: #ffffff;
          --c-text-1: rgba(60, 60, 67);
          --c-text-2: rgba(60, 60, 67, .78);
          --c-text-3: rgba(60, 60, 67, .56);
          --c-border: #c2c2c4;
          --c-divider: #e2e2e3;
        }

        

        :root {
          --c-brand-1: var(--c-indigo-1);
          --c-brand-2: var(--c-indigo-2);
          --c-brand-3: var(--c-indigo-3);
          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
          --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
          --code-line-height: 20px;
          --code-font-size: 12px;
          --code-color: var(--c-brand-1);
          --code-bg: var(--c-gray-soft);
          --code-block-bg: var(--c-bg-alt);
          --code-block-color: var(--c-text-1);
          --header-height: 46px;
          --border-radius: 6px;
          --max-content-width: 1470px;
        }

        * {
          box-sizing: border-box;
        }

        body {
          margin: 0;
          padding: 0;
          font-family: var(--font-family), sans-serif;
          font-size: 14px;
          line-height: 1;
          color: var(--c-text-1);
          background-color: var(--c-bg);
          text-rendering: optimizeLegibility;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          -moz-text-size-adjust: none;
          -webkit-text-size-adjust: none;
          text-size-adjust: none;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
        }

        .nowrap {
          white-space: nowrap;
        }

        h1 {
          margin-inline: 0;
          margin-block: 16px;
          font-size: 20px;
          font-weight: 600;
        }

        a {
          color: var(--c-brand-1);
          font-weight: 500;
          text-decoration: underline;
          text-underline-offset: 2px;
          text-decoration: inherit;
          touch-action: manipulation;
        }

        a:hover {
          color: var(--c-brand-2);
          text-decoration: underline;
        }

        .menu {
          background-color: var(--c-bg-alt);
          border-bottom: 1px solid var(--c-divider);
          overflow-x: auto;
        }

        .menu-content {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 16px;
          padding-inline: 16px;
          max-width: var(--max-content-width);
          margin-inline: auto;
        }

        .menu-item {
          display: flex;
          align-items: center;
          border-bottom: 2px solid transparent;
          height: 56px;
          padding-inline: 8px;
        }

        .menu-item a {
          display: flex;
          flex-direction: row;
          gap: 8px;
          align-items: center;
          color: var(--c-text-1);
          padding: 8px 10px;
          border-radius: 4px;
        }

        .menu-item a:hover {
          background-color: var(--c-bg-elv);
          text-decoration: none;
        }

        .menu-item.selected {
          border-bottom-color: var(--c-brand-1);
        }

        .project-name {
          font-weight: 600;
          font-size: 16px;
          margin-inline: 16px;
          color: var(--c-text-1);
          text-decoration: none;
        }

        main {
          flex-grow: 1;
          width: 100%;
          max-width: var(--max-content-width);
          margin: 16px auto;
        }

        .main-content {
          padding-inline: 16px;
        }

        footer {
          padding: 12px 16px;
          background-color: var(--c-bg-alt);
          border-top: 1px solid var(--c-divider);
          color: var(--c-text-3);
          font-size: 12px;
          text-align: center;
        }

        .header-container {
          container-type: scroll-state;
          position: sticky;
          top: 0;
        }

        .header-container {
          @container scroll-state(stuck: top) {
            header {
              border-top: none;
              border-top-left-radius: 0;
              border-top-right-radius: 0;
            }

            .goto-top {
              display: flex;
            }
          }
        }

        header {
          display: flex;
          flex-direction: row;
          align-items: center;
          min-height: var(--header-height);
          padding-inline: 16px;
          background: var(--c-bg-alt);
          border: 1px solid var(--c-border);
          border-top-left-radius: var(--border-radius);
          border-top-right-radius: var(--border-radius);
        }

        header h1 {
          word-break: break-all;
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          padding: 0;
        }

        .header-ref {
          color: var(--c-text-2);
          border: 1px solid var(--c-border);
          border-radius: 6px;
          padding: 6px 10px;
          margin-right: 10px;
          margin-left: -6px;
        }

        header .path {
          font-size: 16px;
        }

        .breadcrumbs {
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
          gap: 6px;
          font-size: 16px;
        }

        .breadcrumbs a {
          word-break: break-all;
        }

        .goto-top {
          display: none;
          margin-left: auto;
          padding: 6px 10px;
          background: none;
          border: none;
          border-radius: 6px;
          gap: 4px;
          align-items: center;
          color: var(--c-text-1);
          cursor: pointer;
        }

        .goto-top:hover {
          background: var(--c-bg-elv);
        }
    </style>
    
    <style>
      h1 code {
        border-radius: var(--border-radius);
        background: var(--c-bg-alt);
        padding: 4px 8px;
        font-family: var(--font-family-mono), monospace;
        font-weight: 500;
      }

      .commit {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 16px;
      }

      .commit-info {
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: flex-end;
      }

      .commit-author {
        color: var(--c-text-1);
        font-weight: 600;
        min-width: 0;
        overflow-wrap: break-word;
      }

      .commit-date {
        color: var(--c-text-2);
        font-size: 12px;
        font-family: var(--font-family-mono), monospace;
      }

      .commit-message {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
        padding: 16px;
      }

      .ref-badges {
        display: inline-flex;
        gap: 6px;
        margin-left: 8px;
      }

      .badge {
        font-size: 12px;
        color: var(--c-text-2);
        border: 1px solid var(--c-border);
        padding: 2px 6px;
        border-radius: 999px;
        white-space: nowrap;
      }

      .commit-subject {
        font-size: 16px;
        font-weight: 600;
        line-height: 1.3;
        hyphens: auto;
      }

      .commit-body {
        margin-top: 16px;
        white-space: pre-wrap;
        line-height: 1.5;
        hyphens: auto;
      }

      .commit-subinfo {
        display: flex;
        flex-direction: row;
        gap: 16px;
        justify-content: space-between;
      }

      .commit-layout {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }

      @media (min-width: 960px) {
        .commit-layout {
          grid-template-columns: 300px 1fr;
          align-items: start;
        }

        .files-tree {
          position: sticky;
          top: 16px;
        }

        .files-tree-content {
          max-height: calc(100vh - var(--header-height) - 40px);
          overflow: auto;
        }
      }

      .files-tree {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
      }

      .files-tree-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding-inline: 16px;
        height: var(--header-height);
        border-bottom: 1px solid var(--c-border);
        border-top-left-radius: var(--border-radius);
        border-top-right-radius: var(--border-radius);
        background: var(--c-bg-alt);
        font-size: 14px;
        font-weight: 600;
      }

      .files-tree-content {
        display: block;
        padding-block: 6px;
      }

      .tree .children {
        margin-left: 16px;
        border-left: 1px dashed var(--c-border);
      }

      .tree .node {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
      }

      .tree .file-name {
        flex: 1;
        font-weight: 500;
        color: var(--c-text-1);
        cursor: pointer;
      }

      .tree .file-name:hover {
        color: var(--c-brand-2);
        text-decoration: underline;
      }

      .tree .dir {
        color: var(--c-dir);
      }

      .tree .file-added {
        color: var(--c-green);
      }

      .tree .file-deleted {
        color: var(--c-red);
      }

      .tree .file-renamed {
        color: var(--c-yellow);
      }

       

      .files {
        min-width: 0;
      }

      .file-section + .file-section {
        margin-top: 16px;
      }

      pre {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: var(--border-radius);
        border-bottom-right-radius: var(--border-radius);
      }

      pre {
        margin: 0;
        padding: 8px 16px;
        overflow-x: auto;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        tab-size: 4;
        font-family: var(--font-family-mono), monospace;
      }

      pre > code {
        display: block;
        padding: 0 16px;
        width: fit-content;
        min-width: 100%;
        line-height: var(--code-line-height);
        font-size: var(--code-font-size);
      }

      .binary-file {
        padding: 8px 16px;
        font-style: italic;
      }

      .border {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
      }

      .bg { background-color: #ffffff; }
.chroma { background-color: #ffffff; }
.chroma .err { color: #f6f8fa; background-color: #82071e }
.chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
.chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
.chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
.chroma .hl { background-color: #e5e5e5 }
.chroma .lnt { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .ln { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .line { display: flex; }
.chroma .k { color: #cf222e }
.chroma .kc { color: #cf222e }
.chroma .kd { color: #cf222e }
.chroma .kn { color: #cf222e }
.chroma .kp { color: #cf222e }
.chroma .kr { color: #cf222e }
.chroma .kt { color: #cf222e }
.chroma .na { color: #1f2328 }
.chroma .nc { color: #1f2328 }
.chroma .no { color: #0550ae }
.chroma .nd { color: #0550ae }
.chroma .ni { color: #6639ba }
.chroma .nl { color: #990000; font-weight: bold }
.chroma .nn { color: #24292e }
.chroma .nx { color: #1f2328 }
.chroma .nt { color: #0550ae }
.chroma .nb { color: #6639ba }
.chroma .bp { color: #6a737d }
.chroma .nv { color: #953800 }
.chroma .vc { color: #953800 }
.chroma .vg { color: #953800 }
.chroma .vi { color: #953800 }
.chroma .vm { color: #953800 }
.chroma .nf { color: #6639ba }
.chroma .fm { color: #6639ba }
.chroma .s { color: #0a3069 }
.chroma .sa { color: #0a3069 }
.chroma .sb { color: #0a3069 }
.chroma .sc { color: #0a3069 }
.chroma .dl { color: #0a3069 }
.chroma .sd { color: #0a3069 }
.chroma .s2 { color: #0a3069 }
.chroma .se { color: #0a3069 }
.chroma .sh { color: #0a3069 }
.chroma .si { color: #0a3069 }
.chroma .sx { color: #0a3069 }
.chroma .sr { color: #0a3069 }
.chroma .s1 { color: #0a3069 }
.chroma .ss { color: #032f62 }
.chroma .m { color: #0550ae }
.chroma .mb { color: #0550ae }
.chroma .mf { color: #0550ae }
.chroma .mh { color: #0550ae }
.chroma .mi { color: #0550ae }
.chroma .il { color: #0550ae }
.chroma .mo { color: #0550ae }
.chroma .o { color: #0550ae }
.chroma .ow { color: #0550ae }
.chroma .p { color: #1f2328 }
.chroma .c { color: #57606a }
.chroma .ch { color: #57606a }
.chroma .cm { color: #57606a }
.chroma .c1 { color: #57606a }
.chroma .cs { color: #57606a }
.chroma .cp { color: #57606a }
.chroma .cpf { color: #57606a }
.chroma .gd { color: #82071e; background-color: #ffebe9;display: block; }
.chroma .ge { color: #1f2328 }
.chroma .gi { color: #116329; background-color: #dafbe1;display: block; }
.chroma .go { color: #1f2328 }
.chroma .gl { text-decoration: underline }
.chroma .w { color: #ffffff }

    </style>

</head>
<body>

    <svg style="display: none" aria-hidden="true" focusable="false">
        <symbol id="dir" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/>
        </symbol>
        <symbol id="file" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
        </symbol>
        <symbol id="file-added" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.48 3.758a.75.75 0 0 1 .755.745l.01 1.497h1.497a.75.75 0 0 1 0 1.5H9v1.507a.75.75 0 0 1-1.5 0V9.005l-1.502.01a.75.75 0 0 1-.01-1.5l1.507-.01-.01-1.492a.75.75 0 0 1 .745-.755Z"/>
        </symbol>
        <symbol id="file-modified" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25Zm-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z"/>
        </symbol>
        <symbol id="file-deleted" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.5 6h2.242a.75.75 0 0 1 0 1.5h-2.24l-2.254.015a.75.75 0 0 1-.01-1.5Z"/>
        </symbol>
        <symbol id="file-renamed" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"/>
            <path fill="currentColor"
                  d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"/>
        </symbol>
        <symbol id="arrow-top" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M3.47 7.78a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018L9 4.81v7.44a.75.75 0 0 1-1.5 0V4.81L4.53 7.78a.75.75 0 0 1-1.06 0Z"></path>
        </symbol>
        <symbol id="commit" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
        </symbol>
        <symbol id="branch" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
        </symbol>
        <symbol id="tag" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
        </symbol>
        <symbol id="code" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
        </symbol>
    </svg>

<div class="menu">
    <div class="menu-content">
        <a href="../index.html" class="project-name">personal-web-2025</a>
        <div class="menu-item ">
            <a href="../blob/main/index.html">
                <svg aria-hidden="true" width="16" height="16">
                    <use xlink:href="#code"></use>
                </svg>
                Code
            </a>
        </div>
        <div class="menu-item ">
            <a href="../branches.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#branch"></use>
                </svg>
                Branches
            </a>
        </div>
        <div class="menu-item ">
            <a href="../tags.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#tag"></use>
                </svg>
                Tags
            </a>
        </div>
        <div class="menu-item selected">
            <a href="../commits/main/index.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#commit"></use>
                </svg>
                Commits
            </a>
        </div>
    </div>
</div>
<main>
    <div class="main-content">
        
    <h1>Commit <code>c65ec5b</code></h1>

    <div class="commit">
        <div class="commit-info">
            <div class="commit-author">distilledchild &lt;sliceofmysoul@gmail.com&gt;</div>
            <div class="commit-date"><span class="nowrap">2025-11-27</span> <span class="nowrap">20:37:56</span></div>
        </div>
        <div class="commit-message">
            <div class="commit-subject">
                1. changing color consistency depending on menus 2. Removing chatting service 3. Adding Academic submenu in About 4. Hightening main menus
                
            </div>
            
        </div>
        <div class="commit-subinfo">
            <div class="commit-branch">
                
                    <a href="../commits/main/index.html" class="badge">main</a>
                
            </div>
            
                <div class="commit-parents">
                    
                        1 parent
                    
                    
                        
                        <a href="8d16f6fbd31175450f5635d031223570b0df18f4.html"><code>8d16f6f</code></a>
                    
                </div>
            
        </div>
    </div>

    <div class="commit-layout">
        <div class="files-tree">
            <div class="files-tree-header">Changed files (12)</div>
            <div class="files-tree-content">
                
                    <div class="tree">
                        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">components</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-deleted">
                            <use xlink:href="#file-deleted"></use>
                        </svg>
                    
                </div>
                <a href="#components%2fChatBot.tsx" class="file-name">
                    ChatBot.tsx
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">pages</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fAbout.tsx" class="file-name">
                    About.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fInterests.tsx" class="file-name">
                    Interests.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fResearch.tsx" class="file-name">
                    Research.tsx
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">server</span>
                </summary>
                <div class="children">
                    
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">chat_logs</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fchat_logs%2f11_27_bhgecihdhddid.txt" class="file-name">
                    11_27_bhgecihdhddid.txt
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fchat_logs%2f11_27_bhgeciicbhfhc.txt" class="file-name">
                    11_27_bhgeciicbhfhc.txt
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fchat_logs%2f11_27_bhgeciiecbcdf.txt" class="file-name">
                    11_27_bhgeciiecbcdf.txt
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#server%2findex.js" class="file-name">
                    index.js
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#App.tsx" class="file-name">
                    App.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#global.d.ts" class="file-name">
                    global.d.ts
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#index.css" class="file-name">
                    index.css
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#index.html" class="file-name">
                    index.html
                </a>
            </div>
        
    

                    </div>
                
            </div>
        </div>

        <div class="files">
            
                <section id="components/ChatBot.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">components/ChatBot.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -1,155 +0,0 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gd">-import React, { useState, useRef, useEffect } from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-import { MessageSquare, X, Send, Loader2, Users } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-import { ChatMessage } from &#39;../types&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-import { io, Socket } from &#39;socket.io-client&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-export const ChatBot: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [isOpen, setIsOpen] = useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [messages, setMessages] = useState&lt;ChatMessage[]&gt;([]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [input, setInput] = useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [isLoading, setIsLoading] = useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const messagesEndRef = useRef&lt;HTMLDivElement&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  // Socket State
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [socket, setSocket] = useState&lt;Socket | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [queuePosition, setQueuePosition] = useState&lt;number | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [isChatActive, setIsChatActive] = useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [isConnected, setIsConnected] = useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const scrollToBottom = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    messagesEndRef.current?.scrollIntoView({ behavior: &#39;smooth&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  useEffect(scrollToBottom, [messages]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  // Initialize Socket connection
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    if (isOpen &amp;&amp; !socket) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      const newSocket = io(&#39;https://personal-web-2025-production.up.railway.app&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      setSocket(newSocket);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      newSocket.on(&#39;connect&#39;, () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsConnected(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Join queue immediately upon connection
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        newSocket.emit(&#39;join_queue&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      newSocket.on(&#39;queue_status&#39;, (data: { position: number }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setQueuePosition(data.position);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsChatActive(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      newSocket.on(&#39;chat_started&#39;, (data: { position: number }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsChatActive(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setQueuePosition(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setMessages([{ role: &#39;model&#39;, text: &#39;You are now connected with the researcher. How can I help you?&#39; }]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      newSocket.on(&#39;receive_message&#39;, (data: { text: string, sender: string }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setMessages(prev =&gt; [...prev, { role: &#39;model&#39;, text: data.text }]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      newSocket.on(&#39;chat_ended&#39;, (data: { reason: string }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsChatActive(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setQueuePosition(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setMessages(prev =&gt; [...prev, { role: &#39;model&#39;, text: &#39;Chat ended. Refresh to join the queue again.&#39; }]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        newSocket.disconnect();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      return () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        newSocket.disconnect();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setSocket(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  }, [isOpen]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const handleSend = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    if (!input.trim() || !socket || !isChatActive) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const userMsg: ChatMessage = { role: &#39;user&#39;, text: input };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    setMessages(prev =&gt; [...prev, userMsg]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    socket.emit(&#39;send_message&#39;, { text: input });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    setInput(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // setIsLoading(true); // Optional: show loading state while waiting for reply? 
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Real-time chat usually doesn&#39;t show &#34;loading&#34; for every message sent, but maybe &#34;typing...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    &lt;div className=&#34;fixed bottom-6 right-6 z-50 flex flex-col items-end font-sans&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      {isOpen &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;div className=&#34;mb-4 w-80 sm:w-96 bg-white rounded-2xl shadow-2xl border border-slate-100 overflow-hidden flex flex-col h-96 transition-all duration-300&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;div className=&#34;bg-pastel-purple px-4 py-3 flex justify-between items-center border-b border-purple-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;h3 className=&#34;font-semibold text-pastel-darkPurple flex items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              The Person Behind This Site
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              {queuePosition !== null &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;span className=&#34;text-xs bg-white/50 px-2 py-0.5 rounded-full text-purple-700&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  Queue: {queuePosition}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;button onClick={() =&gt; setIsOpen(false)} className=&#34;text-purple-800 hover:text-purple-600&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;X size={18} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;div className=&#34;flex-1 overflow-y-auto p-4 space-y-3 bg-slate-50&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Queue Status Display */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {!isChatActive &amp;&amp; queuePosition !== null &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;div className=&#34;flex flex-col items-center justify-center h-full text-slate-500 space-y-3&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;Users size={32} className=&#34;text-purple-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;p className=&#34;text-center text-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  {queuePosition === 1
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    ? &#34;1 person ahead of you.&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    : `${queuePosition} people ahead of you.`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;p className=&#34;text-xs text-slate-400&#34;&gt;Waiting for agent...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Chat Messages */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {messages.map((msg, idx) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;div key={idx} className={`flex ${msg.role === &#39;user&#39; ? &#39;justify-end&#39; : &#39;justify-start&#39;}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className={`max-w-[80%] p-3 rounded-2xl text-sm ${msg.role === &#39;user&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  ? &#39;bg-pastel-blue text-blue-900 rounded-br-none&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  : &#39;bg-white border border-slate-200 text-slate-700 rounded-bl-none shadow-sm&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  {msg.text}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div ref={messagesEndRef} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;div className=&#34;p-3 bg-white border-t border-slate-100 flex gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              value={input}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              onChange={(e) =&gt; setInput(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              onKeyDown={(e) =&gt; e.key === &#39;Enter&#39; &amp;&amp; handleSend()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              placeholder={isChatActive ? &#34;Type a message...&#34; : &#34;Waiting for connection...&#34;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              disabled={!isChatActive}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              className=&#34;flex-1 bg-slate-50 border-none rounded-xl px-4 py-2 text-sm focus:ring-2 focus:ring-purple-200 outline-none disabled:opacity-50 disabled:cursor-not-allowed&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              onClick={handleSend}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              disabled={!isChatActive || !input.trim()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              className=&#34;bg-pastel-purple text-pastel-darkPurple p-2 rounded-xl hover:bg-purple-200 transition-colors disabled:opacity-50 disabled:cursor-not-allowed&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;Send size={18} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        onClick={() =&gt; setIsOpen(!isOpen)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        className=&#34;bg-white text-slate-800 p-4 rounded-full shadow-lg hover:shadow-xl border border-slate-100 transition-all duration-300 hover:scale-105 group&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        {isOpen ? &lt;X size={24} /&gt; : &lt;MessageSquare size={24} className=&#34;text-pastel-darkPurple&#34; /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-};
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>\ No newline at end of file
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/About.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/About.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -11,7 +11,7 @@ interface Milestone {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> export const About: React.FC = () =&gt; {
</span></span><span class="line"><span class="cl"><span class="gd">-    const [activeTab, setActiveTab] = useState&lt;&#39;me&#39; | &#39;website&#39;&gt;(&#39;me&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    const [activeTab, setActiveTab] = useState&lt;&#39;me&#39; | &#39;website&#39; | &#39;cv&#39;&gt;(&#39;me&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     const [milestones, setMilestones] = useState&lt;Milestone[]&gt;([]);
</span></span><span class="line"><span class="cl">     const [user, setUser] = useState&lt;any&gt;(null);
</span></span><span class="line"><span class="cl">     const [isAuthorized, setIsAuthorized] = useState(false);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -120,16 +120,20 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     const openModal = (milestone?: Milestone) =&gt; {
</span></span><span class="line"><span class="cl">         if (milestone) {
</span></span><span class="line"><span class="cl">             setEditingMilestone(milestone);
</span></span><span class="line"><span class="cl"><span class="gi">+            const date = new Date(milestone.date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const yearMonth = `${date.getFullYear()}-${String(date.getMonth() + 1).padStart(2, &#39;0&#39;)}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             setFormData({
</span></span><span class="line"><span class="cl"><span class="gd">-                date: new Date(milestone.date).toISOString().split(&#39;T&#39;)[0],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                date: yearMonth,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                 title: milestone.title,
</span></span><span class="line"><span class="cl">                 description: milestone.description,
</span></span><span class="line"><span class="cl">                 category: milestone.category
</span></span><span class="line"><span class="cl">             });
</span></span><span class="line"><span class="cl">         } else {
</span></span><span class="line"><span class="cl">             setEditingMilestone(null);
</span></span><span class="line"><span class="cl"><span class="gi">+            const now = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const yearMonth = `${now.getFullYear()}-${String(now.getMonth() + 1).padStart(2, &#39;0&#39;)}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             setFormData({
</span></span><span class="line"><span class="cl"><span class="gd">-                date: new Date().toISOString().split(&#39;T&#39;)[0],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                date: yearMonth,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                 title: &#39;&#39;,
</span></span><span class="line"><span class="cl">                 description: &#39;&#39;,
</span></span><span class="line"><span class="cl">                 category: &#39;WEB&#39;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -147,15 +151,15 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;div className=&#34;flex flex-col h-screen bg-white&#34;&gt;
</span></span><span class="line"><span class="cl">             {/* Fixed Header Section */}
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;pt-32 pb-6 px-6 bg-white border-b border-slate-100&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                &lt;div className=&#34;max-w-4xl mx-auto&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                &lt;div className=&#34;max-w-7xl mx-auto&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     &lt;div className=&#34;text-center mb-8&#34;&gt;
</span></span><span class="line"><span class="cl">                         &lt;h2 className=&#34;text-4xl font-bold text-slate-900 mb-4&#34;&gt;
</span></span><span class="line"><span class="cl">                             Intro
</span></span><span class="line"><span class="cl">                         &lt;/h2&gt;
</span></span><span class="line"><span class="cl">                     &lt;/div&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-                    {/* Tabs */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div className=&#34;flex justify-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    {/* Tabs - Equal spacing */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                         &lt;button
</span></span><span class="line"><span class="cl">                             onClick={() =&gt; setActiveTab(&#39;me&#39;)}
</span></span><span class="line"><span class="cl">                             className={`
</span></span><span class="line"><span class="cl"><span class="gu">@@ -178,13 +182,24 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                         &gt;
</span></span><span class="line"><span class="cl">                             Milestones
</span></span><span class="line"><span class="cl">                         &lt;/button&gt;
</span></span><span class="line"><span class="cl"><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={() =&gt; setActiveTab(&#39;cv&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className={`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                flex items-center gap-2 px-8 py-4 border-b-2 text-lg font-bold transition-all duration-300
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ${activeTab === &#39;cv&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    ? &#39;border-blue-600 text-blue-600&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    : &#39;border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            `}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Academic
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     &lt;/div&gt;
</span></span><span class="line"><span class="cl">                 &lt;/div&gt;
</span></span><span class="line"><span class="cl">             &lt;/div&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">             {/* Scrollable Content Area */}
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;flex-1 overflow-y-auto px-6 pb-20&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                &lt;div className=&#34;max-w-4xl mx-auto pt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                &lt;div className=&#34;max-w-7xl mx-auto pt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     {/* Content */}
</span></span><span class="line"><span class="cl">                     {activeTab === &#39;me&#39; ? (
</span></span><span class="line"><span class="cl">                         &lt;div className=&#34;animate-fadeIn space-y-8 text-slate-700 leading-relaxed text-lg&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -216,7 +231,7 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                 Looking forward, I aspire to leverage my expertise in a dynamic environment within the &lt;strong&gt;Pharmaceutical or IT industry&lt;/strong&gt;, contributing to drug discovery and precision medicine through advanced computational strategies.
</span></span><span class="line"><span class="cl">                             &lt;/p&gt;
</span></span><span class="line"><span class="cl">                         &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                    ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    ) : activeTab === &#39;website&#39; ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                         &lt;div className=&#34;animate-fadeIn relative min-h-[400px]&#34;&gt;
</span></span><span class="line"><span class="cl">                             {/* Admin Add Button - Fixed above Login */}
</span></span><span class="line"><span class="cl">                             {isAuthorized &amp;&amp; (
</span></span><span class="line"><span class="cl"><span class="gu">@@ -260,7 +275,7 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                     {/* Responsive Content Layout */}
</span></span><span class="line"><span class="cl">                                                     &lt;div className=&#34;flex flex-col lg:flex-row lg:items-center lg:gap-4&#34;&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;span className=&#34;text-xs font-bold text-slate-400 mb-2 lg:mb-0 lg:whitespace-nowrap&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            {new Date(milestone.date).toLocaleDateString()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            {new Date(milestone.date).toLocaleDateString(&#39;en-US&#39;, { year: &#39;numeric&#39;, month: &#39;short&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;div className=&#34;lg:border-l lg:border-slate-300 lg:pl-4 flex-1&#34;&gt;
</span></span><span class="line"><span class="cl">                                                             &lt;h3 className=&#34;text-lg font-bold text-slate-800 mb-2&#34;&gt;{milestone.title}&lt;/h3&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -287,7 +302,7 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                     {/* Responsive Content Layout */}
</span></span><span class="line"><span class="cl">                                                     &lt;div className=&#34;flex flex-col lg:flex-row lg:items-center lg:gap-4&#34;&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;span className=&#34;text-xs font-bold text-slate-400 mb-2 lg:mb-0 lg:whitespace-nowrap&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            {new Date(milestone.date).toLocaleDateString()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            {new Date(milestone.date).toLocaleDateString(&#39;en-US&#39;, { year: &#39;numeric&#39;, month: &#39;short&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;div className=&#34;lg:border-l lg:border-slate-300 lg:pl-4 flex-1&#34;&gt;
</span></span><span class="line"><span class="cl">                                                             &lt;h3 className=&#34;text-lg font-bold text-slate-800 mb-2&#34;&gt;{milestone.title}&lt;/h3&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -301,6 +316,78 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                 ))}
</span></span><span class="line"><span class="cl">                             &lt;/div&gt;
</span></span><span class="line"><span class="cl">                         &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gi">+                    ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;animate-fadeIn flex flex-col lg:flex-row gap-8 flex-1 min-h-0&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {/* Left Sidebar - Links Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;lg:w-64 flex-shrink-0 space-y-3 overflow-y-auto pr-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h3 className=&#34;text-xs font-bold text-slate-400 uppercase tracking-wider mb-2 sticky top-0 bg-white py-2&#34;&gt;Links&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;space-y-3&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* ORCiD Link */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;a
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        href=&#34;https://orcid.org/0000-0001-8767-4080&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        target=&#34;_blank&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        className=&#34;group cursor-pointer transition-all duration-200 bg-slate-50 px-4 py-3 rounded-lg border border-slate-200 hover:bg-blue-50 hover:border-blue-200 block&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;p className=&#34;text-sm font-medium&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;span style={{ color: &#39;#A6A8AB&#39; }}&gt;ORC&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;span style={{ color: &#39;#A5CD39&#39; }}&gt;iD&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Google Scholar Link */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;a
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        href=&#34;https://scholar.google.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        target=&#34;_blank&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        className=&#34;group cursor-pointer transition-all duration-200 bg-slate-50 px-4 py-3 rounded-lg border border-slate-200 hover:bg-blue-50 hover:border-blue-200 block&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;p className=&#34;text-sm font-medium text-slate-600 group-hover:text-blue-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            Google Scholar
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {/* Right Side - CV Content */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;flex-1 min-h-0 overflow-y-auto&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;bg-white rounded-2xl border border-slate-200 shadow-sm p-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-6&#34;&gt;Curriculum Vitae&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Education Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;mb-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;h4 className=&#34;text-xl font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2&#34;&gt;Education&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;p className=&#34;text-slate-600&#34;&gt;Your education information will go here...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Experience Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;mb-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;h4 className=&#34;text-xl font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2&#34;&gt;Experience&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;p className=&#34;text-slate-600&#34;&gt;Your experience information will go here...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Publications Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;mb-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;h4 className=&#34;text-xl font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2&#34;&gt;Publications&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;p className=&#34;text-slate-600&#34;&gt;Your publications will go here...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Skills Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;h4 className=&#34;text-xl font-bold text-slate-800 mb-4 border-b border-slate-200 pb-2&#34;&gt;Skills&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;p className=&#34;text-slate-600&#34;&gt;Your skills will go here...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     )}
</span></span><span class="line"><span class="cl">                 &lt;/div&gt;
</span></span><span class="line"><span class="cl">             &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -322,9 +409,9 @@ export const About: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">                         &lt;div className=&#34;space-y-4&#34;&gt;
</span></span><span class="line"><span class="cl">                             &lt;div&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-1&#34;&gt;Date&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-1&#34;&gt;Month&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                 &lt;input
</span></span><span class="line"><span class="cl"><span class="gd">-                                    type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                    type=&#34;month&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                     value={formData.date}
</span></span><span class="line"><span class="cl">                                     onChange={e =&gt; setFormData({ ...formData, date: e.target.value })}
</span></span><span class="line"><span class="cl">                                     className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Interests.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Interests.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -1,6 +1,6 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import React, { useState, useEffect, useRef, useMemo } from &#39;react&#39;;
</span></span><span class="line"><span class="cl"> import { useParams, useNavigate } from &#39;react-router-dom&#39;;
</span></span><span class="line"><span class="cl"><span class="gd">-import { Plane, Dumbbell, Gamepad2, Trophy, ChevronLeft, ChevronRight, PersonStanding, Footprints, Bike, Palette, MapPin, X } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+import { Plane, Dumbbell, Gamepad2, BarChart3, ChevronLeft, ChevronRight, PersonStanding, Footprints, Bike, Palette, MapPin, X } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> import { ComposableMap, Geographies, Geography, Marker, Annotation } from &#39;react-simple-maps&#39;;
</span></span><span class="line"><span class="cl"> import { geoCentroid, geoAlbersUsa } from &#39;d3-geo&#39;;
</span></span><span class="line"><span class="cl"> import {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -191,6 +191,14 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             : &#39;https://personal-web-2025-production.up.railway.app&#39;;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         if (activeTab === &#39;art&#39;) {
</span></span><span class="line"><span class="cl"><span class="gi">+            // Reset expanded state when entering Art submenu
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setExpandedState(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setClickPosition(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setExpandedCentroid(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setHoveredState(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setSelectedMuseum(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setSelectedArtwork(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             fetch(`${API_URL}/api/interests/art-museums`)
</span></span><span class="line"><span class="cl">                 .then(res =&gt; res.json())
</span></span><span class="line"><span class="cl">                 .then(data =&gt; setArtMuseums(data))
</span></span><span class="line"><span class="cl"><span class="gu">@@ -401,7 +409,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                             className={`
</span></span><span class="line"><span class="cl">                 flex items-center gap-2 px-6 py-4 border-b-2 text-lg font-bold transition-all duration-300
</span></span><span class="line"><span class="cl">                 ${activeTab === &#39;workout&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                    ? &#39;border-blue-500 text-blue-500&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                    ? &#39;border-[#FFA300] text-[#FFA300]&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                     : &#39;border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300&#39;}
</span></span><span class="line"><span class="cl">               `}
</span></span><span class="line"><span class="cl">                         &gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -413,7 +421,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                             className={`
</span></span><span class="line"><span class="cl">                 flex items-center gap-2 px-6 py-4 border-b-2 text-lg font-bold transition-all duration-300
</span></span><span class="line"><span class="cl">                 ${activeTab === &#39;art&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                    ? &#39;border-purple-500 text-purple-500&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                    ? &#39;border-[#FFA300] text-[#FFA300]&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                     : &#39;border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300&#39;}
</span></span><span class="line"><span class="cl">               `}
</span></span><span class="line"><span class="cl">                         &gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -425,11 +433,11 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                             className={`
</span></span><span class="line"><span class="cl">                 flex items-center gap-2 px-6 py-4 border-b-2 text-lg font-bold transition-all duration-300
</span></span><span class="line"><span class="cl">                 ${activeTab === &#39;data&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                    ? &#39;border-green-600 text-green-600&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                    ? &#39;border-[#FFA300] text-[#FFA300]&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                     : &#39;border-transparent text-slate-500 hover:text-slate-700 hover:border-slate-300&#39;}
</span></span><span class="line"><span class="cl">               `}
</span></span><span class="line"><span class="cl">                         &gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                            &lt;Trophy size={20} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                            &lt;BarChart3 size={20} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                             &lt;span&gt;Data&lt;/span&gt;
</span></span><span class="line"><span class="cl">                         &lt;/button&gt;
</span></span><span class="line"><span class="cl">                     &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -550,7 +558,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                 {import.meta.env.DEV &amp;&amp; (
</span></span><span class="line"><span class="cl">                                     &lt;button
</span></span><span class="line"><span class="cl">                                         onClick={handleStravaAuth}
</span></span><span class="line"><span class="cl"><span class="gd">-                                        className=&#34;px-6 py-3 bg-gradient-to-r from-blue-500 to-blue-600 text-white font-bold rounded-xl hover:from-blue-600 hover:to-blue-700 transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                        className=&#34;px-6 py-3 bg-gradient-to-r from-[#FFA300] to-[#FF8C00] text-white font-bold rounded-xl hover:from-[#FF8C00] hover:to-[#FF7700] transition-all duration-300 shadow-lg hover:shadow-xl transform hover:scale-105&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                     &gt;
</span></span><span class="line"><span class="cl">                                         Sync from Strava
</span></span><span class="line"><span class="cl">                                     &lt;/button&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -573,16 +581,16 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                 &lt;BarChart data={chartData}&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;defs&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;linearGradient id=&#34;walkGradient&#34; x1=&#34;0&#34; y1=&#34;0&#34; x2=&#34;0&#34; y2=&#34;1&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#93c5fd&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#60a5fa&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#FFCC80&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#FFB84D&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;/linearGradient&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;linearGradient id=&#34;runGradient&#34; x1=&#34;0&#34; y1=&#34;0&#34; x2=&#34;0&#34; y2=&#34;1&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#3b82f6&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#2563eb&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#FFA300&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#FF8C00&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;/linearGradient&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;linearGradient id=&#34;bikeGradient&#34; x1=&#34;0&#34; y1=&#34;0&#34; x2=&#34;0&#34; y2=&#34;1&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#1d4ed8&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#1e3a8a&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            &lt;stop offset=&#34;0%&#34; stopColor=&#34;#FF8C00&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;stop offset=&#34;100%&#34; stopColor=&#34;#FF7700&#34; stopOpacity={1} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;/linearGradient&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;/defs&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;CartesianGrid strokeDasharray=&#34;3 3&#34; stroke=&#34;#e2e8f0&#34; vertical={false} /&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -619,10 +627,15 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                         className={`
</span></span><span class="line"><span class="cl">                                                             aspect-square flex items-center justify-center text-sm rounded-lg
</span></span><span class="line"><span class="cl">                                                             ${day === null ? &#39;&#39; :
</span></span><span class="line"><span class="cl"><span class="gd">-                                                                workoutDays.has(day) ? &#39;bg-[#080C54] text-white font-bold&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                                workoutDays.has(day) ? &#39;text-white font-bold&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                                     day &gt; today ? &#39;text-slate-400&#39; :
</span></span><span class="line"><span class="cl">                                                                         &#39;text-black&#39;}
</span></span><span class="line"><span class="cl">                                                         `}
</span></span><span class="line"><span class="cl"><span class="gi">+                                                        style={
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            day !== null &amp;&amp; workoutDays.has(day)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                ? { background: &#39;linear-gradient(135deg, #FFCC80 0%, #FFA300 50%, #FF7700 100%)&#39; }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                : {}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                     &gt;
</span></span><span class="line"><span class="cl">                                                         {day}
</span></span><span class="line"><span class="cl">                                                     &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -638,7 +651,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                             &lt;div className=&#34;grid grid-cols-3 gap-4&#34;&gt;
</span></span><span class="line"><span class="cl">                                                 {/* Walk Counter */}
</span></span><span class="line"><span class="cl">                                                 &lt;div className=&#34;flex flex-col items-center&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-blue-300 to-blue-400 flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-[#FFCC80] to-[#FFB84D] flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;span className=&#34;text-2xl font-bold text-white&#34;&gt;{monthlyStats.walk.count}&lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;/div&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;span className=&#34;text-xs font-medium text-slate-600 mt-2&#34;&gt;Walk&lt;/span&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -646,7 +659,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">                                                 {/* Run Counter */}
</span></span><span class="line"><span class="cl">                                                 &lt;div className=&#34;flex flex-col items-center&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-blue-500 to-blue-600 flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-[#FFA300] to-[#FF8C00] flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;span className=&#34;text-2xl font-bold text-white&#34;&gt;{monthlyStats.run.count}&lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;/div&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;span className=&#34;text-xs font-medium text-slate-600 mt-2&#34;&gt;Run&lt;/span&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -654,7 +667,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">                                                 {/* Bike Counter */}
</span></span><span class="line"><span class="cl">                                                 &lt;div className=&#34;flex flex-col items-center&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-blue-700 to-blue-800 flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                    &lt;div className=&#34;w-20 h-20 rounded-full bg-gradient-to-br from-[#FF8C00] to-[#FF7700] flex items-center justify-center shadow-lg&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &lt;span className=&#34;text-2xl font-bold text-white&#34;&gt;{monthlyStats.bike.count}&lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;/div&gt;
</span></span><span class="line"><span class="cl">                                                     &lt;span className=&#34;text-xs font-medium text-slate-600 mt-2&#34;&gt;Bike&lt;/span&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -666,8 +679,8 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                     {/* Activity Table with Pagination */}
</span></span><span class="line"><span class="cl">                                     &lt;div className=&#34;bg-white rounded-2xl border border-slate-200 shadow-sm overflow-hidden&#34;&gt;
</span></span><span class="line"><span class="cl">                                         &lt;div className=&#34;overflow-x-auto&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                                            &lt;table className=&#34;w-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;thead className=&#34;bg-gradient-to-r from-blue-50 to-slate-50&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                            &lt;table className=&#34;w-full table-fixed&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;thead className=&#34;bg-gradient-to-r from-orange-50 to-slate-50&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                     &lt;tr&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;th className=&#34;px-6 py-4 text-left text-sm font-bold text-slate-700 border-b border-slate-200&#34;&gt;Date&lt;/th&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;th className=&#34;px-6 py-4 text-left text-sm font-bold text-slate-700 border-b border-slate-200&#34;&gt;Activity Name&lt;/th&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -682,7 +695,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                     {currentActivities.map((activity, index) =&gt; (
</span></span><span class="line"><span class="cl">                                                         &lt;tr
</span></span><span class="line"><span class="cl">                                                             key={activity.id}
</span></span><span class="line"><span class="cl"><span class="gd">-                                                            className={`hover:bg-blue-50 transition-colors ${index % 2 === 0 ? &#39;bg-white&#39; : &#39;bg-slate-50/50&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                            className={`hover:bg-orange-50 transition-colors ${index % 2 === 0 ? &#39;bg-white&#39; : &#39;bg-slate-50/50&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         &gt;
</span></span><span class="line"><span class="cl">                                                             &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;
</span></span><span class="line"><span class="cl">                                                                 {new Date(activity.start_date).toLocaleDateString(&#39;en-US&#39;, {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -696,11 +709,11 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                             &lt;/td&gt;
</span></span><span class="line"><span class="cl">                                                             &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;
</span></span><span class="line"><span class="cl">                                                                 {activity.sport_type.toLowerCase() === &#39;walk&#39; ? (
</span></span><span class="line"><span class="cl"><span class="gd">-                                                                    &lt;PersonStanding size={24} className=&#34;text-blue-400&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                                    &lt;PersonStanding size={24} className=&#34;text-[#FFCC80]&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                                 ) : activity.sport_type.toLowerCase().includes(&#39;ride&#39;) || activity.sport_type.toLowerCase() === &#39;bike&#39; || activity.sport_type.toLowerCase() === &#39;virtualride&#39; ? (
</span></span><span class="line"><span class="cl"><span class="gd">-                                                                    &lt;Bike size={24} className=&#34;text-blue-800&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                                    &lt;Bike size={24} className=&#34;text-[#FF7700]&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                                 ) : activity.sport_type.toLowerCase() === &#39;run&#39; || activity.sport_type.toLowerCase() === &#39;running&#39; ? (
</span></span><span class="line"><span class="cl"><span class="gd">-                                                                    &lt;Footprints size={24} className=&#34;text-blue-600&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                                    &lt;Footprints size={24} className=&#34;text-[#FFA300]&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                                 ) : (
</span></span><span class="line"><span class="cl">                                                                     &lt;span className=&#34;text-xs text-gray-600&#34;&gt;{activity.sport_type}&lt;/span&gt;
</span></span><span class="line"><span class="cl">                                                                 )}
</span></span><span class="line"><span class="cl"><span class="gu">@@ -719,6 +732,21 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                             &lt;/td&gt;
</span></span><span class="line"><span class="cl">                                                         &lt;/tr&gt;
</span></span><span class="line"><span class="cl">                                                     ))}
</span></span><span class="line"><span class="cl"><span class="gi">+                                                    {/* Fill empty rows to maintain 5-row height */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {Array.from({ length: Math.max(0, itemsPerPage - currentActivities.length) }).map((_, index) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;tr
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            key={`empty-${index}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            className={`${(currentActivities.length + index) % 2 === 0 ? &#39;bg-white&#39; : &#39;bg-slate-50/50&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            &lt;td className=&#34;px-6 py-4 text-sm text-slate-600 border-b border-slate-100&#34;&gt;&amp;nbsp;&lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                 &lt;/tbody&gt;
</span></span><span class="line"><span class="cl">                                             &lt;/table&gt;
</span></span><span class="line"><span class="cl">                                         &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -736,7 +764,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                     disabled={currentPage === 1}
</span></span><span class="line"><span class="cl">                                                     className={`px-4 py-2 rounded-lg font-medium transition-all ${currentPage === 1
</span></span><span class="line"><span class="cl">                                                         ? &#39;bg-slate-200 text-slate-400 cursor-not-allowed&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                        : &#39;bg-blue-500 text-white hover:bg-blue-600 shadow-sm hover:shadow-md&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                        : &#39;bg-[#FFA300] text-white hover:bg-[#FF8C00] shadow-sm hover:shadow-md&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         }`}
</span></span><span class="line"><span class="cl">                                                 &gt;
</span></span><span class="line"><span class="cl">                                                     &lt;ChevronLeft size={20} /&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -749,7 +777,7 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                                                     disabled={currentPage === totalPages}
</span></span><span class="line"><span class="cl">                                                     className={`px-4 py-2 rounded-lg font-medium transition-all ${currentPage === totalPages
</span></span><span class="line"><span class="cl">                                                         ? &#39;bg-slate-200 text-slate-400 cursor-not-allowed&#39;
</span></span><span class="line"><span class="cl"><span class="gd">-                                                        : &#39;bg-blue-500 text-white hover:bg-blue-600 shadow-sm hover:shadow-md&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                                        : &#39;bg-[#FFA300] text-white hover:bg-[#FF8C00] shadow-sm hover:shadow-md&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                                         }`}
</span></span><span class="line"><span class="cl">                                                 &gt;
</span></span><span class="line"><span class="cl">                                                     &lt;ChevronRight size={20} /&gt;
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Research.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Research.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -165,10 +165,10 @@ export const Research: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>   const navigate = useNavigate();
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">   const tabs = [
</span></span><span class="line"><span class="cl"><span class="gd">-    { label: &#39;PE Interactions&#39;, icon: GitBranch, color: &#39;text-blue-600 border-blue-200&#39;, activeBg: &#39;bg-blue-50 ring-blue-200&#39;, slug: &#39;peinteractions&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    { label: &#39;Single-cell Seq&#39;, icon: Database, color: &#39;text-green-600 border-green-200&#39;, activeBg: &#39;bg-green-50 ring-green-200&#39;, slug: &#39;singlecellseq&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    { label: &#39;Enhancer ID&#39;, icon: FileText, color: &#39;text-pink-600 border-pink-200&#39;, activeBg: &#39;bg-pink-50 ring-pink-200&#39;, slug: &#39;deeplearningenhancer&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    { label: &#39;LLM&#39;, icon: Sliders, color: &#39;text-purple-600 border-purple-200&#39;, activeBg: &#39;bg-purple-50 ring-purple-200&#39;, slug: &#39;llm&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    { label: &#39;PE Interactions&#39;, icon: GitBranch, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;peinteractions&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    { label: &#39;Single-cell Seq&#39;, icon: Database, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;singlecellseq&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    { label: &#39;Enhancer ID&#39;, icon: FileText, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;deeplearningenhancer&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    { label: &#39;LLM&#39;, icon: Sliders, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;llm&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   ];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">   // Determine active tab from URL, default to first tab
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/chat_logs/11_27_bhgecihdhddid.txt" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/chat_logs/11_27_bhgecihdhddid.txt</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,11 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== Chat Session: 2025-11-27T23:54:19.239Z ===
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+User: bhgecihdhddid
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Session ID: 1764287373383-ozwvzzojt
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[bhgecihdhddid]: ìëíì¸ì?
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[Distilled Child]: ë¤ ìëíì¸ì?
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[bhgecihdhddid]: ì ë ì²«ë²ì§¸ QUEUE1ìëë¤.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[Distilled Child]: ë¤ ìê³  ììµëë¤.
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== End of Session ===
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/chat_logs/11_27_bhgeciicbhfhc.txt" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/chat_logs/11_27_bhgeciicbhfhc.txt</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,8 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== Chat Session: 2025-11-28T00:03:50.189Z ===
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+User: bhgeciicbhfhc
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Session ID: 1764288217572-rsvfrf1yi
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[bhgeciicbhfhc]: ìë
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== End of Session ===
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/chat_logs/11_27_bhgeciiecbcdf.txt" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/chat_logs/11_27_bhgeciiecbcdf.txt</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,8 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== Chat Session: 2025-11-28T00:13:21.058Z ===
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+User: bhgeciiecbcdf
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+Session ID: 1764288421235-sz3yo4085
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+[bhgeciiecbcdf]: ìëíì¸ì?
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+=== End of Session ===
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/index.js" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/index.js</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -2,6 +2,12 @@ import express from &#39;express&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import { createServer } from &#39;http&#39;;
</span></span><span class="line"><span class="cl"> import { Server } from &#39;socket.io&#39;;
</span></span><span class="line"><span class="cl"> import cors from &#39;cors&#39;;
</span></span><span class="line"><span class="cl"><span class="gi">+import fs from &#39;fs&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import path from &#39;path&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { fileURLToPath } from &#39;url&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const __filename = fileURLToPath(import.meta.url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const __dirname = path.dirname(__filename);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> const app = express();
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -22,9 +28,6 @@ const corsOptions = {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> app.use(cors(corsOptions));
</span></span><span class="line"><span class="cl"> app.use(express.json());
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-// Handle preflight requests explicitly
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-app.options(&#39;*&#39;, cors(corsOptions));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> // Load environment variables
</span></span><span class="line"><span class="cl"> import dotenv from &#39;dotenv&#39;;
</span></span><span class="line"><span class="cl"> dotenv.config();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -224,9 +227,13 @@ const accessInfoSchema = new mongoose.Schema({
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     timestamp: { type: Date, default: Date.now },
</span></span><span class="line"><span class="cl">     session_id: String,
</span></span><span class="line"><span class="cl">     status_code: Number
</span></span><span class="line"><span class="cl"><span class="gd">-}, { collection: &#39;ACCESS_INFO&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+});
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Production collection
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const AccessInfo = mongoose.model(&#39;AccessInfo&#39;, accessInfoSchema.clone(), &#39;ACCESS_INFO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"><span class="gd">-const AccessInfo = mongoose.model(&#39;AccessInfo&#39;, accessInfoSchema);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+// Development collection (for local/test IPs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const AccessInfoDev = mongoose.model(&#39;AccessInfoDev&#39;, accessInfoSchema.clone(), &#39;ACCESS_INFO_DEV&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> // API endpoint to log access information
</span></span><span class="line"><span class="cl"> app.post(&#39;/api/access/log&#39;, async (req, res) =&gt; {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -250,8 +257,25 @@ app.post(&#39;/api/access/log&#39;, async (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         // Get user agent
</span></span><span class="line"><span class="cl">         const user_agent = req.headers[&#39;user-agent&#39;];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gi">+        // Check if IP is local/development (localhost, loopback, private IPs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const isLocalIP = (ip) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (!ip) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const ipStr = ip.toString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return ipStr === &#39;::1&#39; ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr === &#39;127.0.0.1&#39; ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr.startsWith(&#39;::ffff:127.&#39;) ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr.startsWith(&#39;192.168.&#39;) ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr.startsWith(&#39;10.&#39;) ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr.startsWith(&#39;172.16.&#39;) ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                   ipStr === &#39;localhost&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Determine which model to use based on IP
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const Model = isLocalIP(ip_address) ? AccessInfoDev : AccessInfo;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const collectionName = isLocalIP(ip_address) ? &#39;ACCESS_INFO_DEV&#39; : &#39;ACCESS_INFO&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         // Create access info entry
</span></span><span class="line"><span class="cl"><span class="gd">-        const accessInfo = new AccessInfo({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const accessInfo = new Model({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             ip_address,
</span></span><span class="line"><span class="cl">             page_url,
</span></span><span class="line"><span class="cl">             user_agent,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -261,9 +285,9 @@ app.post(&#39;/api/access/log&#39;, async (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             timestamp: new Date()
</span></span><span class="line"><span class="cl">         });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-        console.log(&#39;[ACCESS LOG] Saving to DB:&#39;, accessInfo.toObject());
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        console.log(`[ACCESS LOG] Saving to ${collectionName}:`, accessInfo.toObject());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         const saved = await accessInfo.save();
</span></span><span class="line"><span class="cl"><span class="gd">-        console.log(&#39;[ACCESS LOG] Saved successfully:&#39;, saved._id);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        console.log(`[ACCESS LOG] Saved successfully to ${collectionName}:`, saved._id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">         res.json({ success: true, message: &#39;Access logged&#39; });
</span></span><span class="line"><span class="cl">     } catch (err) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -601,9 +625,98 @@ const io = new Server(server, {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> // State
</span></span><span class="line"><span class="cl"><span class="gd">-let waitingQueue = []; // Array of socket IDs
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-let activeChat = null; // { visitorId: string, ownerId: string } | null
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+let waitingQueue = []; // Array of { socketId: string, userInfo: { email?: string, name?: string, avatar?: string } }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+let activeChat = null; // { visitorId: string, ownerId: string, userInfo: object } | null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> let ownerSocketId = null;
</span></span><span class="line"><span class="cl"><span class="gi">+let allChats = new Map(); // socketId -&gt; { messages: [], userInfo: {}, sessionId: string }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Helper: Generate readable name from session ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+function generateNickname(sessionId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Extract numbers from session ID (e.g., &#34;1764277055030-abc123&#34; -&gt; &#34;1764277055030&#34;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const numbers = sessionId.split(&#39;-&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Mapping: 0-9 to letters
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const map = [&#39;a&#39;, &#39;b&#39;, &#39;c&#39;, &#39;d&#39;, &#39;e&#39;, &#39;f&#39;, &#39;g&#39;, &#39;h&#39;, &#39;i&#39;, &#39;j&#39;];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let nickname = &#39;&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    for (let char of numbers) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        nickname += map[parseInt(char)];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return nickname;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Helper: Save chat to file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+function saveChatToFile(socketId, chatData) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const logsDir = path.join(__dirname, &#39;chat_logs&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Create directory if it doesn&#39;t exist
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!fs.existsSync(logsDir)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fs.mkdirSync(logsDir, { recursive: true });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const userInfo = chatData.userInfo || {};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const messages = chatData.messages || [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const sessionId = chatData.sessionId || socketId;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Generate identifier (email or nickname from session ID)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let identifier;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (userInfo.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        identifier = userInfo.email.split(&#39;@&#39;)[0]; // e.g., &#34;distilledchild&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        identifier = generateNickname(sessionId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Get current date in MM_DD format
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const now = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const month = String(now.getMonth() + 1).padStart(2, &#39;0&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const day = String(now.getDate()).padStart(2, &#39;0&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const datePrefix = `${month}_${day}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Base filename
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let baseFilename = `${datePrefix}_${identifier}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let filename = `${baseFilename}.txt`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let filePath = path.join(logsDir, filename);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Check if file exists and find the right sequence number
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let sequenceNumber = 1;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (fs.existsSync(filePath)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Read existing file to check if it&#39;s from today
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const existingContent = fs.readFileSync(filePath, &#39;utf-8&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const firstLine = existingContent.split(&#39;\n&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Check if last message is from today
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const today = now.toISOString().split(&#39;T&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (firstLine.includes(today)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Same day - append to existing file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Do nothing, will append below
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Different day - need to find sequence number
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            while (fs.existsSync(filePath)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                filename = `${baseFilename}_${sequenceNumber}.txt`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                filePath = path.join(logsDir, filename);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                sequenceNumber++;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Format messages
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const timestamp = new Date().toISOString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    let content = `\n=== Chat Session: ${timestamp} ===\n`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    content += `User: ${userInfo.name || identifier}\n`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    content += `Session ID: ${sessionId}\n\n`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    messages.forEach(msg =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const speaker = msg.sender === &#39;owner&#39; ? &#39;Distilled Child&#39; : (userInfo.name || identifier);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        content += `[${speaker}]: ${msg.text}\n`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    content += `\n=== End of Session ===\n`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Append to file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    fs.appendFileSync(filePath, content, &#39;utf-8&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    console.log(`Chat saved to: ${filename}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span><span class="line"><span class="cl">     console.log(&#39;User connected:&#39;, socket.id);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -613,10 +726,14 @@ io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         console.log(&#39;Owner registered:&#39;, socket.id);
</span></span><span class="line"><span class="cl">         ownerSocketId = socket.id;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-        // Send current queue count to owner
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // Send current queue and all waiting users to owner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         socket.emit(&#39;queue_update&#39;, {
</span></span><span class="line"><span class="cl">             count: waitingQueue.length,
</span></span><span class="line"><span class="cl"><span class="gd">-            active: !!activeChat
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            active: activeChat ? {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            } : null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         // If there&#39;s no active chat but people are waiting, start next chat automatically
</span></span><span class="line"><span class="cl"><span class="gu">@@ -626,24 +743,44 @@ io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     // 2. Visitor Joins Queue
</span></span><span class="line"><span class="cl"><span class="gd">-    socket.on(&#39;join_queue&#39;, () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    socket.on(&#39;join_queue&#39;, (data) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (socket.id === ownerSocketId) return; // Owner doesn&#39;t join queue
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gi">+        // data: { userInfo: { email?, name?, avatar? } }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const userInfo = data?.userInfo || {};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Check if owner is online
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!ownerSocketId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Owner is offline - notify visitor
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            socket.emit(&#39;owner_offline&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         // Check if already in queue or active
</span></span><span class="line"><span class="cl"><span class="gd">-        if (waitingQueue.includes(socket.id)) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        if (waitingQueue.some(q =&gt; q.socketId === socket.id)) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (activeChat &amp;&amp; activeChat.visitorId === socket.id) return;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-        console.log(&#39;Visitor joined queue:&#39;, socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        waitingQueue.push(socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        console.log(&#39;Visitor joined queue:&#39;, socket.id, userInfo);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        waitingQueue.push({ socketId: socket.id, userInfo });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Generate or retrieve session ID for this socket
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let sessionId = socket.handshake.query.sessionId || `${Date.now()}-${Math.random().toString(36).substring(2, 11)}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Initialize chat history with session ID
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        allChats.set(socket.id, { messages: [], userInfo, sessionId });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">         // Notify visitor of their position
</span></span><span class="line"><span class="cl">         updateVisitorStatus(socket.id);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-        // Notify owner of new queue count
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // Notify owner of new queue with user info
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (ownerSocketId) {
</span></span><span class="line"><span class="cl">             io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span><span class="line"><span class="cl">                 count: waitingQueue.length,
</span></span><span class="line"><span class="cl"><span class="gd">-                active: !!activeChat
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                active: activeChat ? {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } : null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             });
</span></span><span class="line"><span class="cl">         }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -655,31 +792,221 @@ io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">     // 3. Send Message
</span></span><span class="line"><span class="cl">     socket.on(&#39;send_message&#39;, (data) =&gt; {
</span></span><span class="line"><span class="cl"><span class="gd">-        // data: { text: string }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!activeChat) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // data: { text: string, targetSocketId?: string }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const targetSocketId = data.targetSocketId;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">         if (socket.id === ownerSocketId) {
</span></span><span class="line"><span class="cl"><span class="gd">-            // Owner sent message -&gt; send to active visitor
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            io.to(activeChat.visitorId).emit(&#39;receive_message&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                text: data.text,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                sender: &#39;owner&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            // Owner sent message -&gt; send to specified visitor or active visitor
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const recipientId = targetSocketId || (activeChat ? activeChat.visitorId : null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (recipientId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                io.to(recipientId).emit(&#39;receive_message&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    text: data.text,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    sender: &#39;owner&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Store message in chat history
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const chatData = allChats.get(recipientId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (chatData) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    chatData.messages.push({ sender: &#39;owner&#39;, text: data.text, timestamp: Date.now() });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Visitor sent message
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Store message in chat history regardless of owner being online
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const chatData = allChats.get(socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (chatData) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                chatData.messages.push({ sender: &#39;visitor&#39;, text: data.text, timestamp: Date.now() });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // If owner is online, send message to owner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (ownerSocketId &amp;&amp; activeChat &amp;&amp; socket.id === activeChat.visitorId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                io.to(ownerSocketId).emit(&#39;receive_message&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    text: data.text,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    sender: &#39;visitor&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    fromSocketId: socket.id
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // 4. Switch Chat (Owner selects different visitor)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    socket.on(&#39;switch_chat&#39;, (data) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (socket.id !== ownerSocketId) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const { targetSocketId } = data;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Check if target is in queue or already active
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const inQueue = waitingQueue.find(q =&gt; q.socketId === targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const isActive = activeChat &amp;&amp; activeChat.visitorId === targetSocketId;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!inQueue &amp;&amp; !isActive) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // If switching to someone in queue, move them to active and put current back in queue
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (inQueue &amp;&amp; !isActive) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Put current active back in queue (at front)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (activeChat) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                waitingQueue.unshift({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Notify previous active visitor they&#39;re back in queue
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                io.to(activeChat.visitorId).emit(&#39;queue_status&#39;, { position: 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Remove new active from queue
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            waitingQueue = waitingQueue.filter(q =&gt; q.socketId !== targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Set new active chat
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            activeChat = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                visitorId: targetSocketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                ownerId: ownerSocketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                userInfo: inQueue.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Notify new active visitor
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(targetSocketId).emit(&#39;chat_started&#39;, { position: 0 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Send chat history to owner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const chatData = allChats.get(targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            socket.emit(&#39;chat_history&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                socketId: targetSocketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                messages: chatData?.messages || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                userInfo: chatData?.userInfo || {}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Update owner&#39;s queue view
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            socket.emit(&#39;queue_update&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                count: waitingQueue.length,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                active: {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Update other waiters
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            waitingQueue.forEach((q, idx) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                io.to(q.socketId).emit(&#39;queue_status&#39;, { position: idx + 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else if (isActive) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Just send the chat history if clicking on already active user
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const chatData = allChats.get(targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            socket.emit(&#39;chat_history&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                socketId: targetSocketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                messages: chatData?.messages || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                userInfo: chatData?.userInfo || {}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // 5. Close Chat (Owner closes specific user&#39;s chat)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    socket.on(&#39;close_chat&#39;, (data) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (socket.id !== ownerSocketId) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const { targetSocketId } = data;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Save chat to file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const chatData = allChats.get(targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (chatData &amp;&amp; chatData.messages.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            saveChatToFile(targetSocketId, chatData);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Remove from queue or active
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const queueIndex = waitingQueue.findIndex(q =&gt; q.socketId === targetSocketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (queueIndex !== -1) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            waitingQueue.splice(queueIndex, 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (activeChat &amp;&amp; activeChat.visitorId === targetSocketId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Notify visitor that chat ended
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(targetSocketId).emit(&#39;chat_ended&#39;, { reason: &#39;owner_closed&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            activeChat = null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Start next chat if available
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            startNextChat();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Just notify the visitor in queue
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(targetSocketId).emit(&#39;chat_ended&#39;, { reason: &#39;owner_closed&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Update owner&#39;s queue
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (ownerSocketId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                count: waitingQueue.length,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                active: activeChat ? {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } : null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             });
</span></span><span class="line"><span class="cl"><span class="gd">-        } else if (socket.id === activeChat.visitorId) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // Visitor sent message -&gt; send to owner
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            io.to(ownerSocketId).emit(&#39;receive_message&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                text: data.text,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                sender: &#39;visitor&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Update other waiters
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        waitingQueue.forEach((q, idx) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(q.socketId).emit(&#39;queue_status&#39;, { position: idx + 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Don&#39;t delete chat data immediately - keep for potential reconnection
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // 6. Visitor closes chat
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    socket.on(&#39;visitor_close&#39;, () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (socket.id === ownerSocketId) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Save chat to file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const chatData = allChats.get(socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (chatData &amp;&amp; chatData.messages.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            saveChatToFile(socket.id, chatData);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Reset chat history but keep the data structure for potential reconnection
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (allChats.has(socket.id)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const chatData = allChats.get(socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            allChats.set(socket.id, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                messages: [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                userInfo: chatData.userInfo,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                sessionId: chatData.sessionId
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             });
</span></span><span class="line"><span class="cl">         }
</span></span><span class="line"><span class="cl"><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Remove from queue or active
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const queueIndex = waitingQueue.findIndex(q =&gt; q.socketId === socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (queueIndex !== -1) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            waitingQueue.splice(queueIndex, 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (activeChat &amp;&amp; activeChat.visitorId === socket.id) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            activeChat = null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Start next chat
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            startNextChat();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Update owner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (ownerSocketId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                count: waitingQueue.length,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                active: activeChat ? {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } : null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Update other waiters
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        waitingQueue.forEach((q, idx) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            io.to(q.socketId).emit(&#39;queue_status&#39;, { position: idx + 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    // 4. End Chat (Owner triggered)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    // 7. End Chat (Owner triggered - legacy)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     socket.on(&#39;end_chat&#39;, () =&gt; {
</span></span><span class="line"><span class="cl">         if (socket.id !== ownerSocketId) return;
</span></span><span class="line"><span class="cl">         endCurrentChat();
</span></span><span class="line"><span class="cl">     });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    // 5. Disconnect
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    // 8. Disconnect
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     socket.on(&#39;disconnect&#39;, () =&gt; {
</span></span><span class="line"><span class="cl">         console.log(&#39;User disconnected:&#39;, socket.id);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -688,18 +1015,23 @@ io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             // Optionally notify active visitor that owner left?
</span></span><span class="line"><span class="cl">         } else {
</span></span><span class="line"><span class="cl">             // Remove from queue if present
</span></span><span class="line"><span class="cl"><span class="gd">-            const queueIndex = waitingQueue.indexOf(socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            const queueIndex = waitingQueue.findIndex(q =&gt; q.socketId === socket.id);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             if (queueIndex !== -1) {
</span></span><span class="line"><span class="cl">                 waitingQueue.splice(queueIndex, 1);
</span></span><span class="line"><span class="cl"><span class="gd">-                // Notify everyone behind them that position changed? 
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // Simplification: Just notify everyone to update their status
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                waitingQueue.forEach(id =&gt; updateVisitorStatus(id));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                // Notify everyone behind them that position changed
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                waitingQueue.forEach((q, idx) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    io.to(q.socketId).emit(&#39;queue_status&#39;, { position: idx + 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                 // Notify owner
</span></span><span class="line"><span class="cl">                 if (ownerSocketId) {
</span></span><span class="line"><span class="cl">                     io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span><span class="line"><span class="cl">                         count: waitingQueue.length,
</span></span><span class="line"><span class="cl"><span class="gd">-                        active: !!activeChat
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        active: activeChat ? {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        } : null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     });
</span></span><span class="line"><span class="cl">                 }
</span></span><span class="line"><span class="cl">             }
</span></span><span class="line"><span class="cl"><span class="gu">@@ -711,6 +1043,9 @@ io.on(&#39;connection&#39;, (socket) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                 // Auto-start next chat?
</span></span><span class="line"><span class="cl">                 startNextChat();
</span></span><span class="line"><span class="cl">             }
</span></span><span class="line"><span class="cl"><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Keep chat history for a while (could clean up after timeout)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // For now, we keep it in memory
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         }
</span></span><span class="line"><span class="cl">     });
</span></span><span class="line"><span class="cl"> });
</span></span><span class="line"><span class="cl"><span class="gu">@@ -719,23 +1054,41 @@ function startNextChat() {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (waitingQueue.length === 0) return;
</span></span><span class="line"><span class="cl">     if (!ownerSocketId) return;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    const nextVisitorId = waitingQueue.shift();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    activeChat = { visitorId: nextVisitorId, ownerId: ownerSocketId };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    console.log(&#39;Starting chat with:&#39;, nextVisitorId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    const nextVisitor = waitingQueue.shift();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    activeChat = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        visitorId: nextVisitor.socketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        ownerId: ownerSocketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        userInfo: nextVisitor.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    console.log(&#39;Starting chat with:&#39;, nextVisitor.socketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Send chat history to owner
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const chatData = allChats.get(nextVisitor.socketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    io.to(ownerSocketId).emit(&#39;chat_history&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        socketId: nextVisitor.socketId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        messages: chatData?.messages || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        userInfo: chatData?.userInfo || {}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     // Notify Owner
</span></span><span class="line"><span class="cl"><span class="gd">-    io.to(ownerSocketId).emit(&#39;chat_started&#39;, { visitorId: nextVisitorId });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    io.to(ownerSocketId).emit(&#39;chat_started&#39;, { visitorId: nextVisitor.socketId });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span><span class="line"><span class="cl">         count: waitingQueue.length,
</span></span><span class="line"><span class="cl"><span class="gd">-        active: true
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        active: {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            socketId: activeChat.visitorId,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            userInfo: activeChat.userInfo
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     // Notify Visitor
</span></span><span class="line"><span class="cl"><span class="gd">-    io.to(nextVisitorId).emit(&#39;chat_started&#39;, { position: 0 });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    io.to(nextVisitor.socketId).emit(&#39;chat_started&#39;, { position: 0 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     // Update remaining queue
</span></span><span class="line"><span class="cl"><span class="gd">-    waitingQueue.forEach(id =&gt; updateVisitorStatus(id));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    waitingQueue.forEach((q, idx) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        io.to(q.socketId).emit(&#39;queue_status&#39;, { position: idx + 1 });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> function endCurrentChat() {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -752,7 +1105,8 @@ function endCurrentChat() {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (ownerSocketId) {
</span></span><span class="line"><span class="cl">         io.to(ownerSocketId).emit(&#39;queue_update&#39;, {
</span></span><span class="line"><span class="cl">             count: waitingQueue.length,
</span></span><span class="line"><span class="cl"><span class="gd">-            active: false
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            queue: waitingQueue,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            active: null
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         });
</span></span><span class="line"><span class="cl">     }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -761,9 +1115,9 @@ function endCurrentChat() {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> }
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> function updateVisitorStatus(socketId) {
</span></span><span class="line"><span class="cl"><span class="gd">-    const index = waitingQueue.indexOf(socketId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    const index = waitingQueue.findIndex(q =&gt; q.socketId === socketId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     if (index !== -1) {
</span></span><span class="line"><span class="cl"><span class="gd">-        // Position 1 means 0 people ahead
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // Position 1 means 1 person ahead (index 0 = position 1)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         io.to(socketId).emit(&#39;queue_status&#39;, { position: index + 1 });
</span></span><span class="line"><span class="cl">     }
</span></span><span class="line"><span class="cl"> }
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="App.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">App.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -2,12 +2,10 @@ import React, { useEffect, useState } from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import { BrowserRouter as Router, Routes, Route, Link, useLocation, useSearchParams, Navigate } from &#39;react-router-dom&#39;;
</span></span><span class="line"><span class="cl"> import { Dna, Mail, Github, MapPin, Loader2, Plus } from &#39;lucide-react&#39;;
</span></span><span class="line"><span class="cl"> import { ThreeDNA } from &#39;./components/ThreeDNA&#39;;
</span></span><span class="line"><span class="cl"><span class="gd">-import { ChatBot } from &#39;./components/ChatBot&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> import { Research } from &#39;./pages/Research&#39;;
</span></span><span class="line"><span class="cl"> import { Interests } from &#39;./pages/Interests&#39;;
</span></span><span class="line"><span class="cl"> import { About } from &#39;./pages/About&#39;;
</span></span><span class="line"><span class="cl"> import { StravaCallback } from &#39;./pages/StravaCallback&#39;;
</span></span><span class="line"><span class="cl"><span class="gd">-import { io, Socket } from &#39;socket.io-client&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> 
</span></span><span class="line"><span class="cl"> const Home: React.FC = () =&gt; (
</span></span><span class="line"><span class="cl">   &lt;div className=&#34;relative w-full h-screen flex flex-col items-center justify-center overflow-hidden bg-black&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -411,12 +409,12 @@ const Tech: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39; });
</span></span><span class="line"><span class="cl">   };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-  // Fixed Color Themes Order: Blue -&gt; Green -&gt; Pink -&gt; Purple
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+  // Unified Color Theme: All Pink
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   const colorThemes = [
</span></span><span class="line"><span class="cl"><span class="gd">-    { color: &#34;bg-blue-50&#34;, textColor: &#34;text-blue-700&#34;, borderColor: &#34;border-blue-100&#34;, hoverBorderColor: &#34;hover:border-blue-200&#34;, hoverColor: &#34;group-hover:text-blue-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    { color: &#34;bg-green-50&#34;, textColor: &#34;text-green-700&#34;, borderColor: &#34;border-green-100&#34;, hoverBorderColor: &#34;hover:border-green-200&#34;, hoverColor: &#34;group-hover:text-green-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>     { color: &#34;bg-pink-50&#34;, textColor: &#34;text-pink-700&#34;, borderColor: &#34;border-pink-100&#34;, hoverBorderColor: &#34;hover:border-pink-200&#34;, hoverColor: &#34;group-hover:text-pink-600&#34; },
</span></span><span class="line"><span class="cl"><span class="gd">-    { color: &#34;bg-purple-50&#34;, textColor: &#34;text-purple-700&#34;, borderColor: &#34;border-purple-100&#34;, hoverBorderColor: &#34;hover:border-purple-200&#34;, hoverColor: &#34;group-hover:text-purple-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    { color: &#34;bg-pink-50&#34;, textColor: &#34;text-pink-700&#34;, borderColor: &#34;border-pink-100&#34;, hoverBorderColor: &#34;hover:border-pink-200&#34;, hoverColor: &#34;group-hover:text-pink-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    { color: &#34;bg-pink-50&#34;, textColor: &#34;text-pink-700&#34;, borderColor: &#34;border-pink-100&#34;, hoverBorderColor: &#34;hover:border-pink-200&#34;, hoverColor: &#34;group-hover:text-pink-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    { color: &#34;bg-pink-50&#34;, textColor: &#34;text-pink-700&#34;, borderColor: &#34;border-pink-100&#34;, hoverBorderColor: &#34;hover:border-pink-200&#34;, hoverColor: &#34;group-hover:text-pink-600&#34; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   ];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">   // Combine blog posts with themes
</span></span><span class="line"><span class="cl"><span class="gu">@@ -843,9 +841,9 @@ const Contact: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;div className=&#34;space-y-8&#34;&gt;
</span></span><span class="line"><span class="cl">           &lt;button
</span></span><span class="line"><span class="cl">             onClick={handleCopy}
</span></span><span class="line"><span class="cl"><span class="gd">-            className=&#34;w-full flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-blue-50 transition-colors group border border-slate-100 hover:border-blue-100 cursor-pointer text-left&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            className=&#34;w-full flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-purple-50 transition-colors group border border-slate-100 hover:border-purple-100 cursor-pointer text-left&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>           &gt;
</span></span><span class="line"><span class="cl"><span class="gd">-            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-blue-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-purple-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>               &lt;Mail size={32} /&gt;
</span></span><span class="line"><span class="cl">             &lt;/div&gt;
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;ml-6 text-left&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -854,8 +852,8 @@ const Contact: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             &lt;/div&gt;
</span></span><span class="line"><span class="cl">           &lt;/button&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-          &lt;a href=&#34;https://github.com/distilledchild&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; className=&#34;flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-green-50 transition-colors group border border-slate-100 hover:border-green-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-green-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+          &lt;a href=&#34;https://github.com/distilledchild&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; className=&#34;flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-purple-50 transition-colors group border border-slate-100 hover:border-purple-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-purple-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>               &lt;Github size={32} /&gt;
</span></span><span class="line"><span class="cl">             &lt;/div&gt;
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;ml-6 text-left&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -864,8 +862,8 @@ const Contact: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             &lt;/div&gt;
</span></span><span class="line"><span class="cl">           &lt;/a&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-          &lt;a href=&#34;https://www.linkedin.com/in/pkim11/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; className=&#34;flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-pink-50 transition-colors group border border-slate-100 hover:border-pink-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-pink-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+          &lt;a href=&#34;https://www.linkedin.com/in/pkim11/&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; className=&#34;flex items-center p-6 bg-slate-50 rounded-2xl hover:bg-purple-50 transition-colors group border border-slate-100 hover:border-purple-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;bg-white p-4 rounded-full shadow-sm text-slate-700 group-hover:text-purple-600 transition-colors&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>               &lt;svg className=&#34;w-8 h-8&#34; fill=&#34;currentColor&#34; viewBox=&#34;0 0 24 24&#34;&gt;
</span></span><span class="line"><span class="cl">                 &lt;path d=&#34;M20.447 20.452h-3.554v-5.569c0-1.328-.027-3.037-1.852-3.037-1.853 0-2.136 1.445-2.136 2.939v5.667H9.351V9h3.414v1.561h.046c.477-.9 1.637-1.85 3.37-1.85 3.601 0 4.267 2.37 4.267 5.455v6.286zM5.337 7.433c-1.144 0-2.063-.926-2.063-2.065 0-1.138.92-2.063 2.063-2.063 1.14 0 2.064.925 2.064 2.063 0 1.139-.925 2.065-2.064 2.065zm1.782 13.019H3.555V9h3.564v11.452zM22.225 0H1.771C.792 0 0 .774 0 1.729v20.542C0 23.227.792 24 1.771 24h20.451C23.2 24 24 23.227 24 22.271V1.729C24 .774 23.2 0 22.222 0h.003z&#34; /&gt;
</span></span><span class="line"><span class="cl">               &lt;/svg&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -902,10 +900,10 @@ const LiquidTab = ({ to, label, active, colorClass, badgeCount }: { to: string;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>       font-extrabold tracking-tighter hover:scale-105
</span></span><span class="line"><span class="cl">       ${colorClass}
</span></span><span class="line"><span class="cl">     `}
</span></span><span class="line"><span class="cl"><span class="gd">-    style={{ fontSize: &#39;clamp(1.5rem, 3.8vw, 2.28rem)&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    style={{ fontSize: &#39;clamp(1.3rem, 3.2vw, 2rem)&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   &gt;
</span></span><span class="line"><span class="cl">     {/* Content with Floating Animation */}
</span></span><span class="line"><span class="cl"><span class="gd">-    &lt;span className=&#34;relative z-10 block transition-transform duration-300 ease-out group-hover:-translate-y-2 flex items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    &lt;span className=&#34;relative z-10 block transition-transform duration-300 ease-out group-hover:-translate-y-2 flex items-center gap-2 -translate-y-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>       {label}
</span></span><span class="line"><span class="cl">       {badgeCount !== undefined &amp;&amp; (
</span></span><span class="line"><span class="cl">         &lt;span className=&#34;bg-red-500 text-white text-xs rounded-full px-2 py-0.5 min-w-[1.5rem] text-center&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -921,10 +919,14 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>   const isHome = location.pathname === &#39;/&#39;;
</span></span><span class="line"><span class="cl">   const [mobileMenuOpen, setMobileMenuOpen] = React.useState(false);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-  // Owner Queue State
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [searchParams] = useSearchParams();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const isAdmin = searchParams.get(&#39;admin&#39;) === &#39;true&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  const [queueCount, setQueueCount] = useState&lt;number | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+  // Google Analytics - Track page views on route change
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (typeof window.gtag !== &#39;undefined&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      window.gtag(&#39;config&#39;, &#39;G-GD5495D6KD&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        page_path: location.pathname + location.search
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  }, [location]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">   // Log access information
</span></span><span class="line"><span class="cl">   useEffect(() =&gt; {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -969,23 +971,6 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     logAccess();
</span></span><span class="line"><span class="cl">   }, [location.pathname]); // Log on every page change
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-  useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    if (isAdmin) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      const socket = io(&#39;https://personal-web-2025-production.up.railway.app&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      socket.on(&#39;connect&#39;, () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        socket.emit(&#39;register_owner&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      socket.on(&#39;queue_update&#39;, (data: { count: number }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setQueueCount(data.count);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      return () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        socket.disconnect();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-  }, [isAdmin]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> 
</span></span><span class="line"><span class="cl">   return (
</span></span><span class="line"><span class="cl">     &lt;div className=&#34;min-h-screen font-sans text-slate-900&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1039,7 +1024,7 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>       )}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">       {/* Navigation Bar - Desktop Only */}
</span></span><span class="line"><span class="cl"><span class="gd">-      &lt;nav className=&#34;fixed top-0 right-0 w-full z-50 p-[0.9rem] md:p-[1.8rem] justify-end pointer-events-none hidden lg:flex&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+      &lt;nav className=&#34;fixed top-0 right-0 w-full z-50 p-4 md:p-8 justify-end pointer-events-none hidden lg:flex&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         &lt;div className=&#34;pointer-events-auto flex gap-3 items-center bg-white/0 backdrop-blur-none&#34;&gt;
</span></span><span class="line"><span class="cl">           {window.location.hostname === &#39;localhost&#39; &amp;&amp; (
</span></span><span class="line"><span class="cl">             &lt;LiquidTab
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1078,7 +1063,6 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             label=&#34;Contact&#34;
</span></span><span class="line"><span class="cl">             active={location.pathname === &#39;/contact&#39;}
</span></span><span class="line"><span class="cl">             colorClass=&#34;text-purple-500 hover:text-purple-300&#34;
</span></span><span class="line"><span class="cl"><span class="gd">-            badgeCount={queueCount !== null ? queueCount : undefined}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>           /&gt;
</span></span><span class="line"><span class="cl">         &lt;/div&gt;
</span></span><span class="line"><span class="cl">       &lt;/nav&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1096,7 +1080,6 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;Route path=&#34;/strava/callback&#34; element={&lt;StravaCallback /&gt;} /&gt;
</span></span><span class="line"><span class="cl">       &lt;/Routes&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-      &lt;ChatBot /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>       &lt;GoogleLogin /&gt;
</span></span><span class="line"><span class="cl">     &lt;/div&gt;
</span></span><span class="line"><span class="cl">   );
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="global.d.ts" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">global.d.ts</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,13 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+// Google Analytics gtag.js type definitions
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+interface Window {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  gtag: (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    command: &#39;config&#39; | &#39;event&#39; | &#39;js&#39; | &#39;set&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    targetId: string,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    config?: {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      page_path?: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      send_page_view?: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      [key: string]: any;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  ) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  dataLayer: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="index.css" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">index.css</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -138,4 +138,14 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>   100% {
</span></span><span class="line"><span class="cl">     opacity: 1;
</span></span><span class="line"><span class="cl">   }
</span></span><span class="line"><span class="cl"><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/* Hide scrollbar */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+.scrollbar-hide {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  -ms-overflow-style: none;  /* IE and Edge */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  scrollbar-width: none;  /* Firefox */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+.scrollbar-hide::-webkit-scrollbar {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  display: none;  /* Chrome, Safari and Opera */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> }
</span></span><span class="line"><span class="cl">\ No newline at end of file
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="index.html" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">index.html</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -33,6 +33,18 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>   &lt;link
</span></span><span class="line"><span class="cl">     href=&#34;https://fonts.googleapis.com/css2?family=Inter:wght@300;400;600;700&amp;family=Fira+Code:wght@400&amp;display=swap&#34;
</span></span><span class="line"><span class="cl">     rel=&#34;stylesheet&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  &lt;!-- Google Analytics --&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  &lt;script async src=&#34;https://www.googletagmanager.com/gtag/js?id=G-GD5495D6KD&#34;&gt;&lt;/script&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  &lt;script&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    window.dataLayer = window.dataLayer || [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    function gtag(){dataLayer.push(arguments);}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    gtag(&#39;js&#39;, new Date());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    gtag(&#39;config&#39;, &#39;G-GD5495D6KD&#39;, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      send_page_view: false // SPAì´ë¯ë¡ ìë íì´ì§ë·° ë¹íì±í
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+  &lt;/script&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>   &lt;style&gt;
</span></span><span class="line"><span class="cl">     body {
</span></span><span class="line"><span class="cl">       margin: 0;
</span></span></code></pre>
                        </div>
                    
                </section>
            
        </div>
    </div>

    </div>
</main>
<footer>
    Generated by <a href="https://github.com/antonmedv/gitmal">Gitmal</a>
</footer>
</body>
</html>
