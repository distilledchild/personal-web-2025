<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>1. code refactor 1-1. Blog.tsx &amp; BlogPostModal.tsx 1-2. Todo.tsx &amp; TodoComponents.tsx 2. Split 2-1. Research.tsx-&gt; ResearchHiCBrowser.tsx 2-2. Todo.tsx -&gt; TodoDev.tsx &amp; TodoPersonal.tsx 3. signedUrlHelper.ts for GCP bucket private setting: apiConfig.ts, csvLoader.ts, gcsHelper.js · personal-web-2025@cb00b7f</title>
    <style>
        
        :root {
          --c-indigo-1: #3451b2;
          --c-indigo-2: #3a5ccc;
          --c-indigo-3: #5672cd;
          --c-green: #1a7f37;
          --c-red: #c53030;
          --c-yellow: #9a6700;
          --c-dir: #54aeff;
          --c-gray-soft: rgba(142, 150, 170, .14);
          --c-bg: #ffffff;
          --c-bg-alt: #f6f6f7;
          --c-bg-elv: #ffffff;
          --c-text-1: rgba(60, 60, 67);
          --c-text-2: rgba(60, 60, 67, .78);
          --c-text-3: rgba(60, 60, 67, .56);
          --c-border: #c2c2c4;
          --c-divider: #e2e2e3;
        }

        

        :root {
          --c-brand-1: var(--c-indigo-1);
          --c-brand-2: var(--c-indigo-2);
          --c-brand-3: var(--c-indigo-3);
          --font-family: -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, "Helvetica Neue", Arial, sans-serif;
          --font-family-mono: ui-monospace, SFMono-Regular, "SF Mono", Menlo, Monaco, Consolas, "Liberation Mono", "Courier New", monospace;
          --code-line-height: 20px;
          --code-font-size: 12px;
          --code-color: var(--c-brand-1);
          --code-bg: var(--c-gray-soft);
          --code-block-bg: var(--c-bg-alt);
          --code-block-color: var(--c-text-1);
          --header-height: 46px;
          --border-radius: 6px;
          --max-content-width: 1470px;
        }

        * {
          box-sizing: border-box;
        }

        body {
          margin: 0;
          padding: 0;
          font-family: var(--font-family), sans-serif;
          font-size: 14px;
          line-height: 1;
          color: var(--c-text-1);
          background-color: var(--c-bg);
          text-rendering: optimizeLegibility;
          -webkit-font-smoothing: antialiased;
          -moz-osx-font-smoothing: grayscale;
          -moz-text-size-adjust: none;
          -webkit-text-size-adjust: none;
          text-size-adjust: none;
          min-height: 100vh;
          display: flex;
          flex-direction: column;
        }

        .nowrap {
          white-space: nowrap;
        }

        h1 {
          margin-inline: 0;
          margin-block: 16px;
          font-size: 20px;
          font-weight: 600;
        }

        a {
          color: var(--c-brand-1);
          font-weight: 500;
          text-decoration: underline;
          text-underline-offset: 2px;
          text-decoration: inherit;
          touch-action: manipulation;
        }

        a:hover {
          color: var(--c-brand-2);
          text-decoration: underline;
        }

        .menu {
          background-color: var(--c-bg-alt);
          border-bottom: 1px solid var(--c-divider);
          overflow-x: auto;
        }

        .menu-content {
          display: flex;
          flex-direction: row;
          align-items: center;
          gap: 16px;
          padding-inline: 16px;
          max-width: var(--max-content-width);
          margin-inline: auto;
        }

        .menu-item {
          display: flex;
          align-items: center;
          border-bottom: 2px solid transparent;
          height: 56px;
          padding-inline: 8px;
        }

        .menu-item a {
          display: flex;
          flex-direction: row;
          gap: 8px;
          align-items: center;
          color: var(--c-text-1);
          padding: 8px 10px;
          border-radius: 4px;
        }

        .menu-item a:hover {
          background-color: var(--c-bg-elv);
          text-decoration: none;
        }

        .menu-item.selected {
          border-bottom-color: var(--c-brand-1);
        }

        .project-name {
          font-weight: 600;
          font-size: 16px;
          margin-inline: 16px;
          color: var(--c-text-1);
          text-decoration: none;
        }

        main {
          flex-grow: 1;
          width: 100%;
          max-width: var(--max-content-width);
          margin: 16px auto;
        }

        .main-content {
          padding-inline: 16px;
        }

        footer {
          padding: 12px 16px;
          background-color: var(--c-bg-alt);
          border-top: 1px solid var(--c-divider);
          color: var(--c-text-3);
          font-size: 12px;
          text-align: center;
        }

        .header-container {
          container-type: scroll-state;
          position: sticky;
          top: 0;
        }

        .header-container {
          @container scroll-state(stuck: top) {
            header {
              border-top: none;
              border-top-left-radius: 0;
              border-top-right-radius: 0;
            }

            .goto-top {
              display: flex;
            }
          }
        }

        header {
          display: flex;
          flex-direction: row;
          align-items: center;
          min-height: var(--header-height);
          padding-inline: 16px;
          background: var(--c-bg-alt);
          border: 1px solid var(--c-border);
          border-top-left-radius: var(--border-radius);
          border-top-right-radius: var(--border-radius);
        }

        header h1 {
          word-break: break-all;
          font-weight: 600;
          font-size: 16px;
          margin: 0;
          padding: 0;
        }

        .header-ref {
          color: var(--c-text-2);
          border: 1px solid var(--c-border);
          border-radius: 6px;
          padding: 6px 10px;
          margin-right: 10px;
          margin-left: -6px;
        }

        header .path {
          font-size: 16px;
        }

        .breadcrumbs {
          display: flex;
          flex-direction: row;
          flex-wrap: wrap;
          gap: 6px;
          font-size: 16px;
        }

        .breadcrumbs a {
          word-break: break-all;
        }

        .goto-top {
          display: none;
          margin-left: auto;
          padding: 6px 10px;
          background: none;
          border: none;
          border-radius: 6px;
          gap: 4px;
          align-items: center;
          color: var(--c-text-1);
          cursor: pointer;
        }

        .goto-top:hover {
          background: var(--c-bg-elv);
        }
    </style>
    
    <style>
      h1 code {
        border-radius: var(--border-radius);
        background: var(--c-bg-alt);
        padding: 4px 8px;
        font-family: var(--font-family-mono), monospace;
        font-weight: 500;
      }

      .commit {
        display: flex;
        flex-direction: column;
        gap: 16px;
        margin-bottom: 16px;
      }

      .commit-info {
        display: flex;
        flex-direction: row;
        gap: 8px;
        align-items: flex-end;
      }

      .commit-author {
        color: var(--c-text-1);
        font-weight: 600;
        min-width: 0;
        overflow-wrap: break-word;
      }

      .commit-date {
        color: var(--c-text-2);
        font-size: 12px;
        font-family: var(--font-family-mono), monospace;
      }

      .commit-message {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
        padding: 16px;
      }

      .ref-badges {
        display: inline-flex;
        gap: 6px;
        margin-left: 8px;
      }

      .badge {
        font-size: 12px;
        color: var(--c-text-2);
        border: 1px solid var(--c-border);
        padding: 2px 6px;
        border-radius: 999px;
        white-space: nowrap;
      }

      .commit-subject {
        font-size: 16px;
        font-weight: 600;
        line-height: 1.3;
        hyphens: auto;
      }

      .commit-body {
        margin-top: 16px;
        white-space: pre-wrap;
        line-height: 1.5;
        hyphens: auto;
      }

      .commit-subinfo {
        display: flex;
        flex-direction: row;
        gap: 16px;
        justify-content: space-between;
      }

      .commit-layout {
        display: grid;
        grid-template-columns: 1fr;
        gap: 16px;
      }

      @media (min-width: 960px) {
        .commit-layout {
          grid-template-columns: 300px 1fr;
          align-items: start;
        }

        .files-tree {
          position: sticky;
          top: 16px;
        }

        .files-tree-content {
          max-height: calc(100vh - var(--header-height) - 40px);
          overflow: auto;
        }
      }

      .files-tree {
        border: 1px solid var(--c-border);
        border-radius: var(--border-radius);
      }

      .files-tree-header {
        display: flex;
        flex-direction: row;
        align-items: center;
        padding-inline: 16px;
        height: var(--header-height);
        border-bottom: 1px solid var(--c-border);
        border-top-left-radius: var(--border-radius);
        border-top-right-radius: var(--border-radius);
        background: var(--c-bg-alt);
        font-size: 14px;
        font-weight: 600;
      }

      .files-tree-content {
        display: block;
        padding-block: 6px;
      }

      .tree .children {
        margin-left: 16px;
        border-left: 1px dashed var(--c-border);
      }

      .tree .node {
        display: flex;
        align-items: center;
        gap: 8px;
        padding: 10px 16px;
      }

      .tree .file-name {
        flex: 1;
        font-weight: 500;
        color: var(--c-text-1);
        cursor: pointer;
      }

      .tree .file-name:hover {
        color: var(--c-brand-2);
        text-decoration: underline;
      }

      .tree .dir {
        color: var(--c-dir);
      }

      .tree .file-added {
        color: var(--c-green);
      }

      .tree .file-deleted {
        color: var(--c-red);
      }

      .tree .file-renamed {
        color: var(--c-yellow);
      }

       

      .files {
        min-width: 0;
      }

      .file-section + .file-section {
        margin-top: 16px;
      }

      pre {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: var(--border-radius);
        border-bottom-right-radius: var(--border-radius);
      }

      pre {
        margin: 0;
        padding: 8px 16px;
        overflow-x: auto;
        white-space: pre;
        word-spacing: normal;
        word-break: normal;
        word-wrap: normal;
        tab-size: 4;
        font-family: var(--font-family-mono), monospace;
      }

      pre > code {
        display: block;
        padding: 0 16px;
        width: fit-content;
        min-width: 100%;
        line-height: var(--code-line-height);
        font-size: var(--code-font-size);
      }

      .binary-file {
        padding: 8px 16px;
        font-style: italic;
      }

      .border {
        border: 1px solid var(--c-border);
        border-top: none;
        border-bottom-left-radius: 6px;
        border-bottom-right-radius: 6px;
      }

      .bg { background-color: #ffffff; }
.chroma { background-color: #ffffff; }
.chroma .err { color: #f6f8fa; background-color: #82071e }
.chroma .lnlinks { outline: none; text-decoration: none; color: inherit }
.chroma .lntd { vertical-align: top; padding: 0; margin: 0; border: 0; }
.chroma .lntable { border-spacing: 0; padding: 0; margin: 0; border: 0; }
.chroma .hl { background-color: #e5e5e5 }
.chroma .lnt { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .ln { white-space: pre; -webkit-user-select: none; user-select: none; margin-right: 0.4em; padding: 0 0.4em 0 0.4em;color: #7f7f7f }
.chroma .line { display: flex; }
.chroma .k { color: #cf222e }
.chroma .kc { color: #cf222e }
.chroma .kd { color: #cf222e }
.chroma .kn { color: #cf222e }
.chroma .kp { color: #cf222e }
.chroma .kr { color: #cf222e }
.chroma .kt { color: #cf222e }
.chroma .na { color: #1f2328 }
.chroma .nc { color: #1f2328 }
.chroma .no { color: #0550ae }
.chroma .nd { color: #0550ae }
.chroma .ni { color: #6639ba }
.chroma .nl { color: #990000; font-weight: bold }
.chroma .nn { color: #24292e }
.chroma .nx { color: #1f2328 }
.chroma .nt { color: #0550ae }
.chroma .nb { color: #6639ba }
.chroma .bp { color: #6a737d }
.chroma .nv { color: #953800 }
.chroma .vc { color: #953800 }
.chroma .vg { color: #953800 }
.chroma .vi { color: #953800 }
.chroma .vm { color: #953800 }
.chroma .nf { color: #6639ba }
.chroma .fm { color: #6639ba }
.chroma .s { color: #0a3069 }
.chroma .sa { color: #0a3069 }
.chroma .sb { color: #0a3069 }
.chroma .sc { color: #0a3069 }
.chroma .dl { color: #0a3069 }
.chroma .sd { color: #0a3069 }
.chroma .s2 { color: #0a3069 }
.chroma .se { color: #0a3069 }
.chroma .sh { color: #0a3069 }
.chroma .si { color: #0a3069 }
.chroma .sx { color: #0a3069 }
.chroma .sr { color: #0a3069 }
.chroma .s1 { color: #0a3069 }
.chroma .ss { color: #032f62 }
.chroma .m { color: #0550ae }
.chroma .mb { color: #0550ae }
.chroma .mf { color: #0550ae }
.chroma .mh { color: #0550ae }
.chroma .mi { color: #0550ae }
.chroma .il { color: #0550ae }
.chroma .mo { color: #0550ae }
.chroma .o { color: #0550ae }
.chroma .ow { color: #0550ae }
.chroma .p { color: #1f2328 }
.chroma .c { color: #57606a }
.chroma .ch { color: #57606a }
.chroma .cm { color: #57606a }
.chroma .c1 { color: #57606a }
.chroma .cs { color: #57606a }
.chroma .cp { color: #57606a }
.chroma .cpf { color: #57606a }
.chroma .gd { color: #82071e; background-color: #ffebe9;display: block; }
.chroma .ge { color: #1f2328 }
.chroma .gi { color: #116329; background-color: #dafbe1;display: block; }
.chroma .go { color: #1f2328 }
.chroma .gl { text-decoration: underline }
.chroma .w { color: #ffffff }

    </style>

</head>
<body>

    <svg style="display: none" aria-hidden="true" focusable="false">
        <symbol id="dir" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1.75 1A1.75 1.75 0 0 0 0 2.75v10.5C0 14.216.784 15 1.75 15h12.5A1.75 1.75 0 0 0 16 13.25v-8.5A1.75 1.75 0 0 0 14.25 3H7.5a.25.25 0 0 1-.2-.1l-.9-1.2C6.07 1.26 5.55 1 5 1H1.75Z"/>
        </symbol>
        <symbol id="file" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V6h-2.75A1.75 1.75 0 0 1 9 4.25V1.5Zm6.75.062V4.25c0 .138.112.25.25.25h2.688l-.011-.013-2.914-2.914-.013-.011Z"/>
        </symbol>
        <symbol id="file-added" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.48 3.758a.75.75 0 0 1 .755.745l.01 1.497h1.497a.75.75 0 0 1 0 1.5H9v1.507a.75.75 0 0 1-1.5 0V9.005l-1.502.01a.75.75 0 0 1-.01-1.5l1.507-.01-.01-1.492a.75.75 0 0 1 .745-.755Z"/>
        </symbol>
        <symbol id="file-modified" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 1.75C1 .784 1.784 0 2.75 0h7.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16H2.75A1.75 1.75 0 0 1 1 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h10.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073ZM8 3.25a.75.75 0 0 1 .75.75v1.5h1.5a.75.75 0 0 1 0 1.5h-1.5v1.5a.75.75 0 0 1-1.5 0V7h-1.5a.75.75 0 0 1 0-1.5h1.5V4A.75.75 0 0 1 8 3.25Zm-3 8a.75.75 0 0 1 .75-.75h4.5a.75.75 0 0 1 0 1.5h-4.5a.75.75 0 0 1-.75-.75Z"/>
        </symbol>
        <symbol id="file-deleted" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-9.5A1.75 1.75 0 0 1 2 14.25Zm1.75-.25a.25.25 0 0 0-.25.25v12.5c0 .138.112.25.25.25h9.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073Zm4.5 6h2.242a.75.75 0 0 1 0 1.5h-2.24l-2.254.015a.75.75 0 0 1-.01-1.5Z"/>
        </symbol>
        <symbol id="file-renamed" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M2 1.75C2 .784 2.784 0 3.75 0h6.586c.464 0 .909.184 1.237.513l2.914 2.914c.329.328.513.773.513 1.237v9.586A1.75 1.75 0 0 1 13.25 16h-3.5a.75.75 0 0 1 0-1.5h3.5a.25.25 0 0 0 .25-.25V4.664a.25.25 0 0 0-.073-.177l-2.914-2.914a.25.25 0 0 0-.177-.073H3.75a.25.25 0 0 0-.25.25v6.5a.75.75 0 0 1-1.5 0v-6.5Z"/>
            <path fill="currentColor"
                  d="m5.427 15.573 3.146-3.146a.25.25 0 0 0 0-.354L5.427 8.927A.25.25 0 0 0 5 9.104V11.5H.75a.75.75 0 0 0 0 1.5H5v2.396c0 .223.27.335.427.177Z"/>
        </symbol>
        <symbol id="arrow-top" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M3.47 7.78a.75.75 0 0 1 0-1.06l4.25-4.25a.75.75 0 0 1 1.06 0l4.25 4.25a.751.751 0 0 1-.018 1.042.751.751 0 0 1-1.042.018L9 4.81v7.44a.75.75 0 0 1-1.5 0V4.81L4.53 7.78a.75.75 0 0 1-1.06 0Z"></path>
        </symbol>
        <symbol id="commit" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M11.93 8.5a4.002 4.002 0 0 1-7.86 0H.75a.75.75 0 0 1 0-1.5h3.32a4.002 4.002 0 0 1 7.86 0h3.32a.75.75 0 0 1 0 1.5Zm-1.43-.75a2.5 2.5 0 1 0-5 0 2.5 2.5 0 0 0 5 0Z"></path>
        </symbol>
        <symbol id="branch" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M9.5 3.25a2.25 2.25 0 1 1 3 2.122V6A2.5 2.5 0 0 1 10 8.5H6a1 1 0 0 0-1 1v1.128a2.251 2.251 0 1 1-1.5 0V5.372a2.25 2.25 0 1 1 1.5 0v1.836A2.493 2.493 0 0 1 6 7h4a1 1 0 0 0 1-1v-.628A2.25 2.25 0 0 1 9.5 3.25Zm-6 0a.75.75 0 1 0 1.5 0 .75.75 0 0 0-1.5 0Zm8.25-.75a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5ZM4.25 12a.75.75 0 1 0 0 1.5.75.75 0 0 0 0-1.5Z"></path>
        </symbol>
        <symbol id="tag" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="M1 7.775V2.75C1 1.784 1.784 1 2.75 1h5.025c.464 0 .91.184 1.238.513l6.25 6.25a1.75 1.75 0 0 1 0 2.474l-5.026 5.026a1.75 1.75 0 0 1-2.474 0l-6.25-6.25A1.752 1.752 0 0 1 1 7.775Zm1.5 0c0 .066.026.13.073.177l6.25 6.25a.25.25 0 0 0 .354 0l5.025-5.025a.25.25 0 0 0 0-.354l-6.25-6.25a.25.25 0 0 0-.177-.073H2.75a.25.25 0 0 0-.25.25ZM6 5a1 1 0 1 1 0 2 1 1 0 0 1 0-2Z"></path>
        </symbol>
        <symbol id="code" viewBox="0 0 16 16">
            <path fill="currentColor"
                  d="m11.28 3.22 4.25 4.25a.75.75 0 0 1 0 1.06l-4.25 4.25a.749.749 0 0 1-1.275-.326.749.749 0 0 1 .215-.734L13.94 8l-3.72-3.72a.749.749 0 0 1 .326-1.275.749.749 0 0 1 .734.215Zm-6.56 0a.751.751 0 0 1 1.042.018.751.751 0 0 1 .018 1.042L2.06 8l3.72 3.72a.749.749 0 0 1-.326 1.275.749.749 0 0 1-.734-.215L.47 8.53a.75.75 0 0 1 0-1.06Z"></path>
        </symbol>
    </svg>

<div class="menu">
    <div class="menu-content">
        <a href="../index.html" class="project-name">personal-web-2025</a>
        <div class="menu-item ">
            <a href="../blob/main/index.html">
                <svg aria-hidden="true" width="16" height="16">
                    <use xlink:href="#code"></use>
                </svg>
                Code
            </a>
        </div>
        <div class="menu-item ">
            <a href="../branches.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#branch"></use>
                </svg>
                Branches
            </a>
        </div>
        <div class="menu-item ">
            <a href="../tags.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#tag"></use>
                </svg>
                Tags
            </a>
        </div>
        <div class="menu-item selected">
            <a href="../commits/main/index.html">
                <svg aria-hidden="true" focusable="false" width="16" height="16">
                    <use xlink:href="#commit"></use>
                </svg>
                Commits
            </a>
        </div>
    </div>
</div>
<main>
    <div class="main-content">
        
    <h1>Commit <code>cb00b7f</code></h1>

    <div class="commit">
        <div class="commit-info">
            <div class="commit-author">distilledchild &lt;sliceofmysoul@gmail.com&gt;</div>
            <div class="commit-date"><span class="nowrap">2025-12-05</span> <span class="nowrap">01:39:37</span></div>
        </div>
        <div class="commit-message">
            <div class="commit-subject">
                1. code refactor 1-1. Blog.tsx &amp; BlogPostModal.tsx 1-2. Todo.tsx &amp; TodoComponents.tsx 2. Split 2-1. Research.tsx-&gt; ResearchHiCBrowser.tsx 2-2. Todo.tsx -&gt; TodoDev.tsx &amp; TodoPersonal.tsx 3. signedUrlHelper.ts for GCP bucket private setting: apiConfig.ts, csvLoader.ts, gcsHelper.js
                
            </div>
            
        </div>
        <div class="commit-subinfo">
            <div class="commit-branch">
                
                    <a href="../commits/main/index.html" class="badge">main</a>
                
            </div>
            
                <div class="commit-parents">
                    
                        1 parent
                    
                    
                        
                        <a href="2e6e38c907ac6250242ea9f4a27357701ddda6f3.html"><code>2e6e38c</code></a>
                    
                </div>
            
        </div>
    </div>

    <div class="commit-layout">
        <div class="files-tree">
            <div class="files-tree-header">Changed files (16)</div>
            <div class="files-tree-content">
                
                    <div class="tree">
                        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">components</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#components%2fBlogPostModal.tsx" class="file-name">
                    BlogPostModal.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#components%2fTodoComponents.tsx" class="file-name">
                    TodoComponents.tsx
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">pages</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fBlog.tsx" class="file-name">
                    Blog.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fInterests.tsx" class="file-name">
                    Interests.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fResearch.tsx" class="file-name">
                    Research.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fResearchHiCBrowser.tsx" class="file-name">
                    ResearchHiCBrowser.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fTodo.tsx" class="file-name">
                    Todo.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fTodoDev.tsx" class="file-name">
                    TodoDev.tsx
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#pages%2fTodoPersonal.tsx" class="file-name">
                    TodoPersonal.tsx
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">server</span>
                </summary>
                <div class="children">
                    
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">utils</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2futils%2fgcsHelper.js" class="file-name">
                    gcsHelper.js
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#server%2findex.js" class="file-name">
                    index.js
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#server%2fsync-artworks.js" class="file-name">
                    sync-artworks.js
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <details open>
                <summary class="node">
                    <svg aria-hidden="true" focusable="false" width="16" height="16" class="dir">
                        <use xlink:href="#dir"></use>
                    </svg>
                    <span class="file-name">utils</span>
                </summary>
                <div class="children">
                    
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#utils%2fapiConfig.ts" class="file-name">
                    apiConfig.ts
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#utils%2fcsvLoader.ts" class="file-name">
                    csvLoader.ts
                </a>
            </div>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16" class="file-added">
                            <use xlink:href="#file-added"></use>
                        </svg>
                    
                </div>
                <a href="#utils%2fsignedUrlHelper.ts" class="file-name">
                    signedUrlHelper.ts
                </a>
            </div>
        
    

                </div>
            </details>
        
    
        
            <div class="node">
                <div class="icon" aria-hidden="true">
                    
                        <svg aria-hidden="true" focusable="false" width="16" height="16">
                            <use xlink:href="#file-modified"></use>
                        </svg>
                    
                </div>
                <a href="#App.tsx" class="file-name">
                    App.tsx
                </a>
            </div>
        
    

                    </div>
                
            </div>
        </div>

        <div class="files">
            
                <section id="components/BlogPostModal.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">components/BlogPostModal.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,224 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import React from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+interface BlogPostModalProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    mode: &#39;create&#39; | &#39;edit&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isOpen: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    editData: {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        category: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        title: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        content: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        tags: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        existingImages: string[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    postColor?: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    useOpal?: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    uploadingImage: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isDragging: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onSave: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onCategoryChange: (category: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTitleChange: (title: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onContentChange: (content: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTagInput: (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTagBlur: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onOpalChange?: (checked: boolean) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onImageUpload: (e: React.ChangeEvent&lt;HTMLInputElement&gt;) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onRemoveImage: (imageUrl: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDragOver: (e: React.DragEvent) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDragLeave: (e: React.DragEvent) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDrop: (e: React.DragEvent) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const BlogPostModal: React.FC&lt;BlogPostModalProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    mode,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isOpen,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    editData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    postColor = &#39;bg-pink-50&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    useOpal = false,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    uploadingImage,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isDragging,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onSave,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onCategoryChange,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTitleChange,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onContentChange,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTagInput,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTagBlur,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onOpalChange,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onImageUpload,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onRemoveImage,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDragOver,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDragLeave,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDrop,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!isOpen) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const isCreateMode = mode === &#39;create&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                className=&#34;bg-white rounded-3xl max-w-4xl w-full max-h-[85vh] overflow-hidden shadow-2xl relative&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className={`${postColor} p-8 pr-16 relative`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {/* Close Button */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        type=&#34;button&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className=&#34;absolute top-4 right-4 text-slate-600 hover:text-slate-900 text-2xl font-bold transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        title=&#34;Close&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ✕
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Category:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={editData.category}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; onCategoryChange(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                title=&#34;Select post category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;&#34;&gt;Select category...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;Biology&#34;&gt;Biology&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;Tech&#34;&gt;Tech&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Title:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={editData.title}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; onTitleChange(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                placeholder={isCreateMode ? &#34;Enter post title...&#34; : &#34;&#34;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Tags:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={editData.tags}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={onTagInput}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onBlur={onTagBlur}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                placeholder=&#34;tag1; tag2; tag3&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {isCreateMode &amp;&amp; onOpalChange &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;OPAL:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;flex items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        type=&#34;checkbox&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        id=&#34;use-opal&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        checked={useOpal}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        onChange={(e) =&gt; onOpalChange(e.target.checked)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        className=&#34;w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;label htmlFor=&#34;use-opal&#34; className=&#34;text-sm text-slate-600 cursor-pointer&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        Use OPAL workflow to generate content
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 overflow-y-auto max-h-[calc(85vh-300px)]&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {/* Image Upload Area */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onDragOver={onDragOver}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onDragLeave={onDragLeave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onDrop={onDrop}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className={`mb-4 border-2 border-dashed rounded-lg p-6 transition-colors ${isDragging
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ? &#39;border-blue-500 bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            : &#39;border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            }`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Existing Images Preview */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {editData.existingImages.length &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;mb-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;p className=&#34;text-sm font-medium text-slate-600 mb-3&#34;&gt;Current Images:&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;grid grid-cols-2 md:grid-cols-3 gap-3&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {editData.existingImages.map((imageUrl: string, index: number) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div key={index} className=&#34;relative group&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;img
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                src={imageUrl}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                alt={`Image ${index + 1}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full h-32 object-cover rounded-lg border border-slate-200&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;button&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onClick={() =&gt; onRemoveImage(imageUrl)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;absolute top-2 right-2 bg-red-500 hover:bg-red-600 text-white rounded-full p-1.5 opacity-0 group-hover:opacity-100 transition-opacity shadow-lg&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                title=&#34;Remove image&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;svg className=&#34;w-4 h-4&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; viewBox=&#34;0 0 24 24&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;path strokeLinecap=&#34;round&#34; strokeLinejoin=&#34;round&#34; strokeWidth={2} d=&#34;M6 18L18 6M6 6l12 12&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;border-t border-slate-200 my-4&#34;&gt;&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            type=&#34;file&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            accept=&#34;image/*&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onChange={onImageUpload}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            id={`image-upload-${mode}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;label htmlFor={`image-upload-${mode}`} className=&#34;cursor-pointer block&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;svg className=&#34;mx-auto h-12 w-12 text-slate-400 mb-3&#34; stroke=&#34;currentColor&#34; fill=&#34;none&#34; viewBox=&#34;0 0 48 48&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;path d=&#34;M28 8H12a4 4 0 00-4 4v20m32-12v8m0 0v8a4 4 0 01-4 4H12a4 4 0 01-4-4v-4m32-4l-3.172-3.172a4 4 0 00-5.656 0L28 28M8 32l9.172-9.172a4 4 0 015.656 0L28 28m0 0l4 4m4-24h8m-4-4v8m-12 4h.02&#34; strokeWidth=&#34;2&#34; strokeLinecap=&#34;round&#34; strokeLinejoin=&#34;round&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {uploadingImage ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;p className=&#34;text-blue-600 font-medium&#34;&gt;Uploading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;p className=&#34;text-slate-600 font-medium&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            {editData.existingImages.length &gt; 0 ? &#39;Add more images&#39; : &#39;Click to upload or drag and drop&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;p className=&#34;text-slate-400 text-sm&#34;&gt;PNG, JPG, GIF up to 5MB&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        value={editData.content}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onChange={(e) =&gt; onContentChange(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className=&#34;w-full h-64 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        placeholder=&#34;Write your content here... (Images will be inserted as markdown)&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className={`flex ${isCreateMode ? &#39;justify-end gap-4&#39; : &#39;justify-between&#39;} mt-8`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Cancel
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onSave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {isCreateMode ? &#39;Create&#39; : &#39;Save&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="components/TodoComponents.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">components/TodoComponents.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,992 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import React from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { Plus, Sun, Cloud, CloudRain, CloudSnow, CloudLightning, CloudFog } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ANALOG CLOCK COMPONENT
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const AnalogClock: React.FC&lt;{ timezone: string; label: string }&gt; = ({ timezone, label }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [time, setTime] = React.useState(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const timer = setInterval(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setTime(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }, 1000);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return () =&gt; clearInterval(timer);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const dateInTimezone = new Date(time.toLocaleString(&#39;en-US&#39;, { timeZone: timezone }));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const hours = dateInTimezone.getHours();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const minutes = dateInTimezone.getMinutes();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const hourDeg = (hours % 12) * 30 + minutes * 0.5;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const minuteDeg = minutes * 6;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div className=&#34;flex flex-col items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;relative w-24 h-24 border-4 border-slate-200 rounded-full bg-white shadow-inner&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Markers */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;absolute top-1 left-1/2 -translate-x-1/2 w-1 h-2 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-2 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;absolute left-1 top-1/2 -translate-y-1/2 w-2 h-1 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;absolute right-1 top-1/2 -translate-y-1/2 w-2 h-1 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Hour Hand */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className=&#34;absolute w-1.5 h-6 bg-slate-800 left-1/2 top-1/2 origin-bottom rounded-full&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    style={{
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        transform: `translateX(-50%) translateY(-100%) rotate(${hourDeg}deg)`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Minute Hand */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className=&#34;absolute w-1 h-8 bg-slate-500 left-1/2 top-1/2 origin-bottom rounded-full&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    style={{
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        transform: `translateX(-50%) translateY(-100%) rotate(${minuteDeg}deg)`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Center Dot */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;absolute w-2 h-2 bg-slate-800 rounded-full left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;mt-3 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;text-sm font-bold text-slate-700&#34;&gt;{label}&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;text-xs text-slate-500 font-mono&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {dateInTimezone.toLocaleTimeString(&#39;en-US&#39;, { hour: &#39;2-digit&#39;, minute: &#39;2-digit&#39;, hour12: true })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// WEATHER WIDGET COMPONENT
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const WeatherWidget: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [weather, setWeather] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [locationName, setLocationName] = React.useState(&#39;Loading...&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [loading, setLoading] = React.useState(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const fetchWeather = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                let lat = 37.5665;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                let lon = 126.9780;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                let name = &#39;Seoul&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    // 1. Get location from Contact API
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const contactResponse = await fetch(`${API_URL}/api/contact`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    if (contactResponse.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        const contactData = await contactResponse.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        if (contactData?.Location) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            // Prefer explicit coordinates if available
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            if (contactData.Location.latitude &amp;&amp; contactData.Location.longitude) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                lat = contactData.Location.latitude;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                lon = contactData.Location.longitude;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            // Construct location name
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            const parts = [contactData.Location.city, contactData.Location.state].filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            if (parts.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                name = parts.join(&#39;, &#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            } else if (contactData.Location.country) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                name = contactData.Location.country;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } catch (e) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    console.warn(&#39;Failed to get contact location, defaulting to Seoul&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setLocationName(name);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // 2. Fetch weather
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const response = await fetch(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&amp;longitude=${lon}&amp;daily=weather_code,temperature_2m_max,temperature_2m_min&amp;timezone=auto&amp;forecast_days=1`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setWeather(data.daily);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                console.error(&#39;Failed to fetch weather:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setLocationName(&#39;Error&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            } finally {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Fetch weather immediately
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchWeather();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Refresh weather every 10 minutes (600000 ms)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const weatherInterval = setInterval(fetchWeather, 600000);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Cleanup interval on unmount
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return () =&gt; clearInterval(weatherInterval);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fixedClass = &#34;fixed bottom-[21rem] left-6 w-14 h-14 bg-white rounded-full transition-all hover:scale-110 flex items-center justify-center z-[100] cursor-pointer group&#34;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const strongShadow = { boxShadow: &#39;0 20px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 20px -8px rgba(0, 0, 0, 0.4)&#39; };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (loading) return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div className={fixedClass} style={strongShadow}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;w-6 h-6 border-2 border-slate-200 border-t-blue-500 rounded-full animate-spin&#34;&gt;&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!weather) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const code = weather.weather_code[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const maxTemp = Math.round(weather.temperature_2m_max[0]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const minTemp = Math.round(weather.temperature_2m_min[0]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const getWeatherIcon = (code: number) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code === 0) return &lt;Sun className=&#34;w-6 h-6 text-yellow-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 1 &amp;&amp; code &lt;= 3) return &lt;Cloud className=&#34;w-6 h-6 text-slate-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 45 &amp;&amp; code &lt;= 48) return &lt;CloudFog className=&#34;w-6 h-6 text-slate-400&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 51 &amp;&amp; code &lt;= 67) return &lt;CloudRain className=&#34;w-6 h-6 text-blue-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 71 &amp;&amp; code &lt;= 77) return &lt;CloudSnow className=&#34;w-6 h-6 text-blue-300&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 80 &amp;&amp; code &lt;= 82) return &lt;CloudRain className=&#34;w-6 h-6 text-blue-600&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 85 &amp;&amp; code &lt;= 86) return &lt;CloudSnow className=&#34;w-6 h-6 text-blue-400&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (code &gt;= 95) return &lt;CloudLightning className=&#34;w-6 h-6 text-purple-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return &lt;Sun className=&#34;w-6 h-6 text-yellow-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className={fixedClass}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            style={strongShadow}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            title={`${locationName} Weather`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;flex flex-col items-center justify-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {getWeatherIcon(code)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;span className=&#34;text-[10px] font-bold text-slate-700 mt-[-2px]&#34;&gt;{maxTemp}°&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Tooltip */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;absolute left-16 bg-slate-800 text-white text-xs font-bold py-1 px-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {locationName}: {maxTemp}° / {minTemp}°
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// KANBAN BOARD COMPONENT
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface KanbanBoardProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todos: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTodoClick: (todo: any) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onProjectClick: (project: any) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onAddProjectClick: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onUpdateStatus: (todoId: string, newStatus: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getPriorityColor: (priority: string) =&gt; string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    formatDate: (dateString: string) =&gt; string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const KanbanBoard: React.FC&lt;KanbanBoardProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todos,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onTodoClick,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onProjectClick,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onAddProjectClick,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onUpdateStatus,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getPriorityColor,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    formatDate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [draggedTodoId, setDraggedTodoId] = React.useState&lt;string | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [dragOverColumn, setDragOverColumn] = React.useState&lt;string | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Changed &#34;cancelled&#34; to &#34;project&#34; as first column
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const columns = [
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        { id: &#39;project&#39;, title: &#39;Project&#39;, color: &#39;bg-purple-50 border-purple-200&#39;, isProject: true },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        { id: &#39;pending&#39;, title: &#39;Pending&#39;, color: &#39;bg-slate-50 border-slate-200&#39;, isProject: false },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        { id: &#39;in_progress&#39;, title: &#39;In Progress&#39;, color: &#39;bg-blue-50 border-blue-200&#39;, isProject: false },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        { id: &#39;completed&#39;, title: &#39;Completed&#39;, color: &#39;bg-green-50 border-green-200&#39;, isProject: false }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    ];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const getTodosByStatus = (status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return todos.filter(todo =&gt; todo.status === status);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDragStart = (e: React.DragEvent, todoId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setDraggedTodoId(todoId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        e.dataTransfer.effectAllowed = &#39;move&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        e.dataTransfer.setData(&#39;text/plain&#39;, todoId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDragOver = (e: React.DragEvent, columnId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Don&#39;t allow dropping on project column
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (columnId !== &#39;project&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setDragOverColumn(columnId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDrop = (e: React.DragEvent, status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setDragOverColumn(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Don&#39;t allow dropping on project column
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (status === &#39;project&#39;) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const todoId = draggedTodoId;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (todoId) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onUpdateStatus(todoId, status);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setDraggedTodoId(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div className=&#34;grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {columns.map(column =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const isDragOver = dragOverColumn === column.id;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        key={column.id}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className={`flex flex-col rounded-xl transition-colors duration-200 ${!column.isProject &amp;&amp; isDragOver ? &#39;bg-slate-100 ring-2 ring-blue-400 ring-opacity-50&#39; : &#39;&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onDragOver={(e) =&gt; handleDragOver(e, column.id)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onDrop={(e) =&gt; handleDrop(e, column.id)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className={`${column.color} border-2 rounded-xl p-4 mb-3`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;h3 className=&#34;font-bold text-slate-800 text-sm uppercase tracking-wider flex items-center justify-between flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span&gt;{column.title}&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className=&#34;text-xs bg-white px-2 py-0.5 rounded-full whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {column.isProject
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        ? (projects || []).filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).length
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        : getTodosByStatus(column.id).length}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex-1 space-y-3 p-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {column.isProject ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                // Project Column
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {(projects || []).filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            key={project._id}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={() =&gt; onProjectClick(project)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className={`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                ${column.color} border rounded-xl p-4 cursor-pointer
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            `}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;h4 className=&#34;font-bold text-slate-900 text-sm break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {/* Add Project Button - Always visible for authorized users */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={onAddProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className={`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                ${column.color} border-2 border-dashed rounded-xl p-4 cursor-pointer
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                flex items-center justify-center min-h-[100px]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            `}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;Plus className=&#34;w-8 h-8 text-purple-400&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                // TODO Columns
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {getTodosByStatus(column.id).map(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        const isStrikethrough = todo.status === &#39;completed&#39; || todo.status === &#39;cancelled&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        const isDragging = draggedTodoId === todo._id;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                key={todo._id}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                draggable
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onDragStart={(e) =&gt; handleDragStart(e, todo._id)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onClick={() =&gt; onTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className={`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ${column.color} border rounded-xl p-4 cursor-grab active:cursor-grabbing 
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ${isDragging ? &#39;opacity-50 scale-95&#39; : &#39;opacity-100&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                `}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;h4 className={`font-bold text-slate-900 mb-2 text-sm break-all ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;&#39;}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {todo.title}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;p className={`text-xs text-slate-600 mb-3 line-clamp-2 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;&#39;}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {todo.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;div className=&#34;flex items-center justify-between text-xs&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;span className={`font-bold capitalize ${getPriorityColor(todo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        {todo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;span className=&#34;text-slate-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        {formatDate(todo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {getTodosByStatus(column.id).length === 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;text-center text-slate-400 text-sm py-8 border-2 border-dashed border-slate-200 rounded-xl&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            Drop items here
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// UTILITY FUNCTIONS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const getApiUrl = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const sortTodos = (todosToSort: any[]) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return [...todosToSort].sort((a, b) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // 1. Priority: High &gt; Medium &gt; Low
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const priorityOrder: { [key: string]: number } = { high: 3, medium: 2, low: 1 };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const priorityDiff = (priorityOrder[b.priority] || 0) - (priorityOrder[a.priority] || 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (priorityDiff !== 0) return priorityDiff;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // 2. Deadline: Closest date first (ascending)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Treat missing deadline as far future
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const dateA = a.due_date ? new Date(a.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const dateB = b.due_date ? new Date(b.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (dateA !== dateB) return dateA - dateB;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // 3. Status: In Progress &gt; Pending &gt; Completed &gt; Cancelled
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const statusOrder: { [key: string]: number } = { in_progress: 1, pending: 2, completed: 3, cancelled: 4 };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const statusDiff = (statusOrder[a.status] || 5) - (statusOrder[b.status] || 5);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return statusDiff;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const formatDate = (dateString: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!dateString) return &#39;-&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return new Date(dateString).toLocaleDateString(&#39;en-US&#39;, { month: &#39;short&#39;, day: &#39;numeric&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const getPriorityColor = (priority: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (priority === &#39;high&#39;) return &#39;text-red-500&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (priority === &#39;medium&#39;) return &#39;text-yellow-500&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return &#39;text-green-500&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const getStatusColor = (status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (status === &#39;completed&#39;) return &#39;bg-green-50/50&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (status === &#39;cancelled&#39;) return &#39;bg-red-50/50&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (status === &#39;in_progress&#39;) return &#39;bg-blue-50/50&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return &#39;&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// TODO FORM DATA INTERFACE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface TodoFormData {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    title: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    description: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    priority: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    status: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    due_date: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    category: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    sort: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// CREATE TODO MODAL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface CreateTodoModalProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    show: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onCreate: (formData: TodoFormData) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    defaultCategory?: &#39;personal&#39; | &#39;dev&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const CreateTodoModal: React.FC&lt;CreateTodoModalProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    show,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onCreate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    defaultCategory = &#39;personal&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [formData, setFormData] = React.useState&lt;TodoFormData&gt;({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        title: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        priority: &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        status: &#39;pending&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        due_date: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        category: defaultCategory,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        sort: &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Reset form when modal opens
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (show) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                title: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                priority: &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                status: &#39;pending&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                due_date: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                category: defaultCategory,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                sort: &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [show, defaultCategory]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!show) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSubmit = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!formData.title.trim() || !formData.description.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Title and Description are required&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        onCreate(formData);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                className=&#34;bg-white rounded-2xl max-w-2xl w-full shadow-2xl overflow-hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                style={{ maxHeight: &#39;85vh&#39;, display: &#39;flex&#39;, flexDirection: &#39;column&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Header */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pb-4 flex-shrink-0 border-b border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;h3 className=&#34;text-2xl font-bold text-slate-900&#34;&gt;Create New TODO&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Scrollable Content */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 flex-1 overflow-y-auto scrollbar-hide&#34; style={{ minHeight: 0 }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Category Select */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Category&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.category}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, category: e.target.value, sort: &#39;&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Select category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;dev&#34;&gt;Dev&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Sort Select */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {formData.category === &#39;dev&#39; ? &#39;Project&#39; : &#39;Sort&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.sort}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, sort: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Select sort&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;&#34;&gt;Select...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {formData.category === &#39;personal&#39; ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Academy&#34;&gt;Academy&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Work&#34;&gt;Work&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {(projects || []).filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;option key={project._id} value={project._id}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Title *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.title}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                placeholder=&#34;Enter title&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                placeholder=&#34;Enter description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Priority&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.priority}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, priority: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Select priority&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;low&#34;&gt;Low&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;medium&#34;&gt;Medium&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;high&#34;&gt;High&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Deadline&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.due_date}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, due_date: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Select deadline&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Footer */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pt-4 flex-shrink-0 border-t border-slate-100 bg-white&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-end gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Cancel
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={handleSubmit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Save
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// TODO DETAIL MODAL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface TodoDetailModalProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todo: any;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onEdit: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDelete: (todoId: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const TodoDetailModal: React.FC&lt;TodoDetailModalProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todo,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onEdit,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onDelete,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!todo) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const getSortDisplay = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!todo.sort) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (todo.category === &#39;dev&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return projects.find(p =&gt; p._id === todo.sort)?.project_name || &#39;Unknown Project&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return todo.sort;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                className=&#34;bg-white rounded-2xl max-w-2xl w-full shadow-2xl overflow-hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                style={{ maxHeight: &#39;85vh&#39;, display: &#39;flex&#39;, flexDirection: &#39;column&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Header */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pb-4 flex-shrink-0 border-b border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-between items-start&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900&#34;&gt;{todo.title}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;text-slate-400 hover:text-slate-600 text-xl font-bold&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ✕
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Scrollable Content */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 flex-1 overflow-y-auto scrollbar-hide&#34; style={{ minHeight: 0 }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;space-y-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Category Badge */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Category&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;span className={`px-3 py-1 rounded-full text-sm font-bold capitalize inline-block ${todo.category === &#39;dev&#39; ? &#39;bg-purple-100 text-purple-700&#39; : &#39;bg-blue-100 text-blue-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {todo.category || &#39;personal&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {getSortDisplay() &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {todo.category === &#39;dev&#39; ? &#39;Project&#39; : &#39;Sort&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className=&#34;text-slate-700 font-medium&#34;&gt;{getSortDisplay()}&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Description&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;p className=&#34;text-slate-700 leading-relaxed whitespace-pre-wrap&#34;&gt;{todo.description}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;grid grid-cols-3 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Status&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className={`px-3 py-1 rounded-full text-sm font-bold capitalize inline-block ${todo.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    todo.status === &#39;in_progress&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        todo.status === &#39;cancelled&#39; ? &#39;bg-red-100 text-red-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &#39;bg-slate-100 text-slate-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {todo.status?.replace(&#39;_&#39;, &#39; &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Priority&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className={`text-sm font-bold capitalize ${getPriorityColor(todo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {todo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Deadline&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className=&#34;text-slate-700 font-medium&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {formatDate(todo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Footer */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pt-4 flex-shrink-0 border-t border-slate-100 bg-white&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-between gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={onEdit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    Update
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; onDelete(todo._id)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;px-6 py-3 bg-red-100 text-red-600 rounded-full font-bold hover:bg-red-200 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    Delete
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                Close
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// TODO EDIT MODAL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface EditTodoModalProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todo: any;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onSave: (formData: TodoFormData) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const EditTodoModal: React.FC&lt;EditTodoModalProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    todo,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onSave,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [formData, setFormData] = React.useState&lt;TodoFormData&gt;({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        title: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        priority: &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        status: &#39;pending&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        due_date: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        category: &#39;personal&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        sort: &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (todo) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                title: todo.title || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                description: todo.description || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                priority: todo.priority || &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                status: todo.status || &#39;pending&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                due_date: todo.due_date || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                category: todo.category || &#39;personal&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                sort: todo.sort || &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todo]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!todo) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSubmit = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!formData.title.trim() || !formData.description.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Title and Description are required&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        onSave(formData);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                className=&#34;bg-white rounded-2xl max-w-2xl w-full shadow-2xl overflow-hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                style={{ maxHeight: &#39;85vh&#39;, display: &#39;flex&#39;, flexDirection: &#39;column&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Header */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pb-4 flex-shrink-0 border-b border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-between items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900&#34;&gt;Edit TODO&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;text-slate-400 hover:text-slate-600 text-xl font-bold&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ✕
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Scrollable Content */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 flex-1 overflow-y-auto scrollbar-hide&#34; style={{ minHeight: 0 }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Category Select */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Category&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.category}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, category: e.target.value, sort: &#39;&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Edit category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;dev&#34;&gt;Dev&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Sort Select */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {formData.category === &#39;dev&#39; ? &#39;Project&#39; : &#39;Sort&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.sort}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, sort: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Edit sort&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;option value=&#34;&#34;&gt;Select...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {formData.category === &#39;personal&#39; ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Academy&#34;&gt;Academy&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;option value=&#34;Work&#34;&gt;Work&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {projects.filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;option key={project._id} value={project._id}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Title *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.title}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Edit title&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Edit description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    value={formData.status}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onChange={(e) =&gt; setFormData({ ...formData, status: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    aria-label=&#34;Edit status&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;pending&#34;&gt;Pending&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;in_progress&#34;&gt;In Progress&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;completed&#34;&gt;Completed&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;cancelled&#34;&gt;Cancelled&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Priority&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    value={formData.priority}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onChange={(e) =&gt; setFormData({ ...formData, priority: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    aria-label=&#34;Edit priority&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;low&#34;&gt;Low&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;medium&#34;&gt;Medium&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;option value=&#34;high&#34;&gt;High&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Deadline&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={formData.due_date ? new Date(formData.due_date).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setFormData({ ...formData, due_date: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                aria-label=&#34;Edit deadline&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Footer */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;p-8 pt-4 flex-shrink-0 border-t border-slate-100 bg-white&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-end gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Cancel
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={handleSubmit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            Save Changes
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// SUCCESS POPUP
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export interface SuccessPopupProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    show: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    message: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    onClose: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const SuccessPopup: React.FC&lt;SuccessPopupProps&gt; = ({ show, message, onClose }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (show) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const handleKeyDown = (e: KeyboardEvent) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (e.key === &#39;Enter&#39; || e.key === &#39; &#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            window.addEventListener(&#39;keydown&#39;, handleKeyDown);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return () =&gt; window.removeEventListener(&#39;keydown&#39;, handleKeyDown);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [show, onClose]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (!show) return null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                className=&#34;bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-4&#34;&gt;Success&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;p className=&#34;text-slate-600 mb-6&#34;&gt;{message}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;flex justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={onClose}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        OK
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Blog.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Blog.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -3,6 +3,7 @@ import { useLocation } from &#39;react-router-dom&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import { Plus } from &#39;lucide-react&#39;;
</span></span><span class="line"><span class="cl"> import ReactMarkdown from &#39;react-markdown&#39;;
</span></span><span class="line"><span class="cl"> import remarkGfm from &#39;remark-gfm&#39;;
</span></span><span class="line"><span class="cl"><span class="gi">+import { BlogPostModal } from &#39;../components/BlogPostModal&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> export const Blog: React.FC = () =&gt; {
</span></span><span class="line"><span class="cl">     const location = useLocation();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -15,7 +16,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     const [toastMessage, setToastMessage] = React.useState(&#39;&#39;);
</span></span><span class="line"><span class="cl">     const [toastPos, setToastPos] = React.useState({ x: 0, y: 0 });
</span></span><span class="line"><span class="cl">     const [isEditMode, setIsEditMode] = React.useState(false);
</span></span><span class="line"><span class="cl"><span class="gd">-    const [editData, setEditData] = React.useState({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    const [editData, setEditData] = React.useState({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] as string[] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     const [showDiscardDialog, setShowDiscardDialog] = React.useState(false);
</span></span><span class="line"><span class="cl">     const [showDeleteDialog, setShowDeleteDialog] = React.useState(false);
</span></span><span class="line"><span class="cl">     const [isCreateMode, setIsCreateMode] = React.useState(false);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -184,11 +185,21 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     // Handle edit button click
</span></span><span class="line"><span class="cl">     const handleEdit = () =&gt; {
</span></span><span class="line"><span class="cl">         if (selectedPost !== null &amp;&amp; allPosts[selectedPost]) {
</span></span><span class="line"><span class="cl"><span class="gi">+            const content = allPosts[selectedPost].content || &#39;&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Extract existing images from markdown content
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const imageRegex = /!\[.*?\]\((https?:\/\/[^\)]+)\)/g;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const existingImages: string[] = [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            let match: RegExpExecArray | null;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            while ((match = imageRegex.exec(content)) !== null) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                existingImages.push(match[1]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             setEditData({
</span></span><span class="line"><span class="cl">                 category: allPosts[selectedPost].category || &#39;&#39;,
</span></span><span class="line"><span class="cl">                 title: allPosts[selectedPost].title || &#39;&#39;,
</span></span><span class="line"><span class="cl"><span class="gd">-                content: allPosts[selectedPost].content || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                tags: allPosts[selectedPost].tags ? allPosts[selectedPost].tags.join(&#39;; &#39;) : &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                content: content,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                tags: allPosts[selectedPost].tags ? allPosts[selectedPost].tags.join(&#39;; &#39;) : &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                existingImages: existingImages
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             });
</span></span><span class="line"><span class="cl">             setIsEditMode(true);
</span></span><span class="line"><span class="cl">         }
</span></span><span class="line"><span class="cl"><span class="gu">@@ -295,7 +306,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">     // Handle create button click
</span></span><span class="line"><span class="cl">     const handleCreate = () =&gt; {
</span></span><span class="line"><span class="cl"><span class="gd">-        setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         setIsCreateMode(true);
</span></span><span class="line"><span class="cl">     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -363,7 +374,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                     // Add to local state
</span></span><span class="line"><span class="cl">                     setBlogPosts(prev =&gt; [newPost, ...prev]);
</span></span><span class="line"><span class="cl">                     setIsCreateMode(false);
</span></span><span class="line"><span class="cl"><span class="gd">-                    setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     setUseOpal(false);
</span></span><span class="line"><span class="cl">                 }
</span></span><span class="line"><span class="cl">             }
</span></span><span class="line"><span class="cl"><span class="gu">@@ -383,7 +394,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         } else {
</span></span><span class="line"><span class="cl">             // No content, just close
</span></span><span class="line"><span class="cl">             setIsCreateMode(false);
</span></span><span class="line"><span class="cl"><span class="gd">-            setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         }
</span></span><span class="line"><span class="cl">     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -391,7 +402,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     const handleDiscardCreate = () =&gt; {
</span></span><span class="line"><span class="cl">         setIsCreateMode(false);
</span></span><span class="line"><span class="cl">         setShowDiscardDialog(false);
</span></span><span class="line"><span class="cl"><span class="gd">-        setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     // Handle tag input with auto-formatting
</span></span><span class="line"><span class="cl"><span class="gu">@@ -441,7 +452,11 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                 const data = await response.json();
</span></span><span class="line"><span class="cl">                 // Insert markdown image syntax at the beginning of content (after title)
</span></span><span class="line"><span class="cl">                 const imageMarkdown = `![${file.name}](${data.url})\n\n`;
</span></span><span class="line"><span class="cl"><span class="gd">-                setEditData({ ...editData, content: imageMarkdown + editData.content });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                setEditData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    ...editData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    content: imageMarkdown + editData.content,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    existingImages: [...editData.existingImages, data.url]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             } else {
</span></span><span class="line"><span class="cl">                 alert(&#39;Failed to upload image&#39;);
</span></span><span class="line"><span class="cl">             }
</span></span><span class="line"><span class="cl"><span class="gu">@@ -482,6 +497,22 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         }
</span></span><span class="line"><span class="cl">     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gi">+    // Handle removing existing image
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleRemoveImage = (imageUrl: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Remove image markdown from content
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const imageMarkdownPattern = new RegExp(`!\\[.*?\\]\\(${imageUrl.replace(/[.*+?^${}()|[\]\\]/g, &#39;\\$&amp;&#39;)}\\)\\n*`, &#39;g&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const newContent = editData.content.replace(imageMarkdownPattern, &#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Remove from existingImages array
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const newExistingImages = editData.existingImages.filter((img: string) =&gt; img !== imageUrl);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setEditData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            ...editData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            content: newContent,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            existingImages: newExistingImages
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     // Unified Color Theme: All Pink
</span></span><span class="line"><span class="cl">     const colorThemes = [
</span></span><span class="line"><span class="cl">         { color: &#34;bg-pink-50&#34;, textColor: &#34;text-pink-700&#34;, borderColor: &#34;border-pink-100&#34;, hoverBorderColor: &#34;hover:border-pink-200&#34;, hoverColor: &#34;group-hover:text-pink-600&#34; },
</span></span><span class="line"><span class="cl"><span class="gu">@@ -929,117 +960,39 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             )}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">             {/* Edit Mode Modal */}
</span></span><span class="line"><span class="cl"><span class="gd">-            {selectedPost !== null &amp;&amp; allPosts[selectedPost] &amp;&amp; isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-4xl w-full max-h-[85vh] overflow-hidden shadow-2xl relative&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className={`${allPosts[selectedPost].color} p-8`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Category:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.category}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditData({ ...editData, category: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        title=&#34;Select post category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;&#34;&gt;Select category...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;Biology&#34;&gt;Biology&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;Tech&#34;&gt;Tech&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Title:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditData({ ...editData, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Tags:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.tags}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={handleTagInput}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onBlur={handleTagBlur}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        placeholder=&#34;tag1; tag2; tag3&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;p-8 overflow-y-auto max-h-[calc(85vh-300px)]&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Image Upload Area */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDragOver={handleDragOver}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDragLeave={handleDragLeave}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDrop={handleDrop}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className={`mb-4 border-2 border-dashed rounded-lg p-6 text-center transition-colors ${isDragging
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ? &#39;border-blue-500 bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    : &#39;border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    }`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;file&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    accept=&#34;image/*&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={handleFileSelect}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    id=&#34;image-upload-edit&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label htmlFor=&#34;image-upload-edit&#34; className=&#34;cursor-pointer&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex flex-col items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;svg className=&#34;w-12 h-12 text-slate-400&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; viewBox=&#34;0 0 24 24&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;path strokeLinecap=&#34;round&#34; strokeLinejoin=&#34;round&#34; strokeWidth={2} d=&#34;M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {uploadingImage ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;p className=&#34;text-blue-600 font-medium&#34;&gt;Uploading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;p className=&#34;text-slate-600 font-medium&#34;&gt;Click to upload or drag and drop&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;p className=&#34;text-slate-400 text-sm&#34;&gt;PNG, JPG, GIF up to 5MB&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                value={editData.content}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onChange={(e) =&gt; setEditData({ ...editData, content: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;w-full h-64 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                placeholder=&#34;Write your content here... (Images will be inserted as markdown)&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex justify-between mt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onClick={handleCloseEdit}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    Cancel
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onClick={handleSave}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    Save
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            {selectedPost !== null &amp;&amp; allPosts[selectedPost] &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;BlogPostModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    mode=&#34;edit&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    isOpen={isEditMode}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    editData={editData}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    postColor={allPosts[selectedPost].color}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    uploadingImage={uploadingImage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    isDragging={isDragging}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose={handleCloseEdit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onSave={handleSave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onCategoryChange={(category: string) =&gt; setEditData({ ...editData, category })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onTitleChange={(title: string) =&gt; setEditData({ ...editData, title })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onContentChange={(content: string) =&gt; setEditData({ ...editData, content })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onTagInput={handleTagInput}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onTagBlur={handleTagBlur}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onImageUpload={handleFileSelect}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onRemoveImage={handleRemoveImage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onDragOver={handleDragOver}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onDragLeave={handleDragLeave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onDrop={handleDrop}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             )}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">             {/* Discard Confirmation Dialog */}
</span></span><span class="line"><span class="cl">             {showDiscardDialog &amp;&amp; (
</span></span><span class="line"><span class="cl"><span class="gd">-                &lt;div className=&#34;fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className=&#34;fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onKeyDown={(e: React.KeyboardEvent) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        if (e.key === &#39;Enter&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            isCreateMode ? handleDiscardCreate() : handleDiscard();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     &lt;div className=&#34;bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl relative&#34;&gt;
</span></span><span class="line"><span class="cl">                         &lt;button
</span></span><span class="line"><span class="cl">                             onClick={isCreateMode ? () =&gt; setShowDiscardDialog(false) : handleContinueEdit}
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1096,129 +1049,28 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             )}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">             {/* Create Mode Modal */}
</span></span><span class="line"><span class="cl"><span class="gd">-            {isCreateMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-4xl w-full max-h-[85vh] overflow-hidden shadow-2xl relative&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;bg-blue-50 p-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Category:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.category}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditData({ ...editData, category: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        title=&#34;Select post category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;&#34;&gt;Select category...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;Biology&#34;&gt;Biology&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;Tech&#34;&gt;Tech&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Title:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditData({ ...editData, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        placeholder=&#34;Enter post title...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;Tags:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editData.tags}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={handleTagInput}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onBlur={handleTagBlur}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        placeholder=&#34;tag1; tag2; tag3&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex items-center gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;text-sm font-bold text-slate-700 w-24&#34;&gt;OPAL:&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;checkbox&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            id=&#34;use-opal&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            checked={useOpal}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setUseOpal(e.target.checked)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-5 h-5 text-blue-600 rounded focus:ring-2 focus:ring-blue-500 cursor-pointer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label htmlFor=&#34;use-opal&#34; className=&#34;text-sm text-slate-600 cursor-pointer&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            Use OPAL workflow to generate content
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;p-8 overflow-y-auto max-h-[calc(85vh-300px)]&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Image Upload Area */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDragOver={handleDragOver}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDragLeave={handleDragLeave}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onDrop={handleDrop}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className={`mb-4 border-2 border-dashed rounded-lg p-6 text-center transition-colors ${isDragging
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ? &#39;border-blue-500 bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    : &#39;border-slate-300 bg-slate-50 hover:border-blue-400 hover:bg-blue-50&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    }`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;file&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    accept=&#34;image/*&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={handleFileSelect}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;hidden&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    id=&#34;image-upload&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label htmlFor=&#34;image-upload&#34; className=&#34;cursor-pointer&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex flex-col items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;svg className=&#34;w-12 h-12 text-slate-400&#34; fill=&#34;none&#34; stroke=&#34;currentColor&#34; viewBox=&#34;0 0 24 24&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;path strokeLinecap=&#34;round&#34; strokeLinejoin=&#34;round&#34; strokeWidth={2} d=&#34;M7 16a4 4 0 01-.88-7.903A5 5 0 1115.9 6L16 6a5 5 0 011 9.9M15 13l-3-3m0 0l-3 3m3-3v12&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {uploadingImage ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;p className=&#34;text-blue-600 font-medium&#34;&gt;Uploading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;p className=&#34;text-slate-600 font-medium&#34;&gt;Click to upload or drag and drop&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;p className=&#34;text-slate-400 text-sm&#34;&gt;PNG, JPG, GIF up to 5MB&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                value={editData.content}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onChange={(e) =&gt; setEditData({ ...editData, content: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;w-full h-64 px-4 py-3 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 font-mono text-sm&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                placeholder=&#34;Write your content here... (Images will be inserted as markdown)&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex justify-end gap-4 mt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onClick={handleCreateCancel}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    Cancel
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onClick={handleCreateSave}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    Save
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            &lt;BlogPostModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                mode=&#34;create&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                isOpen={isCreateMode}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                editData={editData}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                postColor=&#34;bg-pink-50&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                useOpal={useOpal}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                uploadingImage={uploadingImage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                isDragging={isDragging}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClose={handleCreateCancel}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onSave={handleCreateSave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onCategoryChange={(category: string) =&gt; setEditData({ ...editData, category })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onTitleChange={(title: string) =&gt; setEditData({ ...editData, title })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onContentChange={(content: string) =&gt; setEditData({ ...editData, content })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onTagInput={handleTagInput}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onTagBlur={handleTagBlur}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onOpalChange={setUseOpal}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onImageUpload={handleFileSelect}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onRemoveImage={handleRemoveImage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onDragOver={handleDragOver}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onDragLeave={handleDragLeave}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onDrop={handleDrop}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">             {/* OPAL Success Dialog */}
</span></span><span class="line"><span class="cl">             {showOpalDialog &amp;&amp; (
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1233,7 +1085,7 @@ export const Blog: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                             onClick={() =&gt; {
</span></span><span class="line"><span class="cl">                                 setShowOpalDialog(false);
</span></span><span class="line"><span class="cl">                                 setIsCreateMode(false);
</span></span><span class="line"><span class="cl"><span class="gd">-                                setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                                setEditData({ category: &#39;&#39;, title: &#39;&#39;, content: &#39;&#39;, tags: &#39;&#39;, existingImages: [] });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                                 setUseOpal(false);
</span></span><span class="line"><span class="cl">                             }}
</span></span><span class="line"><span class="cl">                             className=&#34;w-full px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Interests.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Interests.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -211,62 +211,11 @@ export const Interests: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         }
</span></span><span class="line"><span class="cl">     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    // Function to load artworks from public/art-images/{museum_code} folder
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const loadArtworksForMuseum = async (museum: ArtMuseum): Promise&lt;ArtMuseum&gt; =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const museumCode = museum.museum_code;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const basePath = `/art-images/${museumCode}`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // We can&#39;t directly list files in a static folder from the frontend,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // so we&#39;ll try to load images by convention (e.g., NOMA1.JPG, NOMA2.JPG, etc.)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // We&#39;ll try up to 50 images and filter out the ones that don&#39;t exist
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const artworkPromises: Promise&lt;string | null&gt;[] = [];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // Try loading images with common naming patterns
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            for (let i = 1; i &lt;= 50; i++) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // Try both .JPG and .jpg extensions
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const imagePathJPG = `${basePath}/${museumCode}${i}.JPG`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const imagePathJpg = `${basePath}/${museumCode}${i}.jpg`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const imagePathPNG = `${basePath}/${museumCode}${i}.PNG`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const imagePathPng = `${basePath}/${museumCode}${i}.png`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // Create a promise that resolves to the path if image exists, null otherwise
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const checkImage = async (path: string): Promise&lt;string | null&gt; =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    return new Promise((resolve) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        const img = new Image();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        img.onload = () =&gt; resolve(path);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        img.onerror = () =&gt; resolve(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        img.src = path;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                artworkPromises.push(
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    checkImage(imagePathJPG).then(result =&gt; result || checkImage(imagePathJpg)).then(result =&gt; result || checkImage(imagePathPNG)).then(result =&gt; result || checkImage(imagePathPng))
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const results = await Promise.all(artworkPromises);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const localArtworks = results.filter((path): path is string =&gt; path !== null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // Merge with existing artworks (from backend/GCS)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const existingArtworks = museum.artworks || [];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // distinct artworks
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const allArtworks = Array.from(new Set([...existingArtworks, ...localArtworks]));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ...museum,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                artworks: allArtworks
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to load artworks for museum:&#39;, museum.museum_name, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return museum;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> 
</span></span><span class="line"><span class="cl">     // Handler for museum pin click
</span></span><span class="line"><span class="cl">     const handleMuseumClick = async (museum: ArtMuseum) =&gt; {
</span></span><span class="line"><span class="cl"><span class="gd">-        const museumWithArtworks = await loadArtworksForMuseum(museum);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setSelectedMuseum(museumWithArtworks);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        // Artworks are already loaded from backend API
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setSelectedMuseum(museum);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     useEffect(() =&gt; {
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Research.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Research.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -2,7 +2,7 @@ import React, { useState } from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import { useParams, useNavigate } from &#39;react-router-dom&#39;;
</span></span><span class="line"><span class="cl"> import { ResponsiveContainer, ComposedChart, Line, Bar, XAxis, YAxis, CartesianGrid, Tooltip, Legend, ScatterChart, Scatter, ZAxis } from &#39;recharts&#39;;
</span></span><span class="line"><span class="cl"> import { FileText, GitBranch, Database, Sliders, Search } from &#39;lucide-react&#39;;
</span></span><span class="line"><span class="cl"><span class="gd">-import { GenomeVisualizationEnhanced as GenomeVisualization } from &#39;../components/GenomeVisualizationEnhanced&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+import { ResearchHiCBrowser } from &#39;./ResearchHiCBrowser&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> const mockInteractionData = Array.from({ length: 50 }, (_, i) =&gt; ({
</span></span><span class="line"><span class="cl">   name: `Loc ${i * 10}kb`,
</span></span><span class="line"><span class="cl"><span class="gu">@@ -166,10 +166,10 @@ export const Research: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>   const navigate = useNavigate();
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">   const tabs = [
</span></span><span class="line"><span class="cl"><span class="gi">+    { label: &#39;Hi-C Browser&#39;, icon: Search, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;hicbrowser&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     { label: &#39;PE Interactions&#39;, icon: GitBranch, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;peinteractions&#39; },
</span></span><span class="line"><span class="cl">     { label: &#39;Single-cell Seq&#39;, icon: Database, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;singlecellseq&#39; },
</span></span><span class="line"><span class="cl">     { label: &#39;DL &amp; Enhancer&#39;, icon: FileText, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;deeplearningenhancer&#39; },
</span></span><span class="line"><span class="cl"><span class="gd">-    { label: &#39;Hi-C Browser&#39;, icon: Search, color: &#39;text-teal-500 border-teal-500&#39;, activeBg: &#39;bg-teal-50 ring-teal-200&#39;, slug: &#39;hicbrowser&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>   ];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">   // Determine active tab from URL, default to first tab
</span></span><span class="line"><span class="cl"><span class="gu">@@ -238,26 +238,10 @@ export const Research: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>       {/* Scrollable Content Area */}
</span></span><span class="line"><span class="cl">       &lt;div className=&#34;flex-1 overflow-y-auto px-6 pb-20&#34;&gt;
</span></span><span class="line"><span class="cl">         &lt;div className=&#34;max-w-7xl mx-auto pt-8&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-          {activeTab === 0 &amp;&amp; &lt;PEInteractions /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          {activeTab === 1 &amp;&amp; &lt;SingleCell /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          {activeTab === 2 &amp;&amp; &lt;EnhancerID /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          {activeTab === 3 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#39;space-y-8 animate-fadeIn&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;div className=&#34;border-b border-slate-100 pb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;h3 className=&#39;text-2xl font-bold text-slate-900 flex items-center gap-3&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  &lt;Search size={24} className=&#34;text-teal-500&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  Hi-C Browser - Chromatin Loops &amp; Gene Regulation
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;p className=&#39;text-slate-500 mt-2 text-lg&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                  Interactive visualization of chromatin loops, transcription start site (TSS)/promoter locations, and gene last exon positions
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;div className=&#39;h-[500px] flex flex-col&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;GenomeVisualization /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-              &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-          )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+          {activeTab === 0 &amp;&amp; &lt;ResearchHiCBrowser /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          {activeTab === 1 &amp;&amp; &lt;PEInteractions /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          {activeTab === 2 &amp;&amp; &lt;SingleCell /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+          {activeTab === 3 &amp;&amp; &lt;EnhancerID /&gt;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         &lt;/div&gt;
</span></span><span class="line"><span class="cl">       &lt;/div&gt;
</span></span><span class="line"><span class="cl">     &lt;/div&gt;
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/ResearchHiCBrowser.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/ResearchHiCBrowser.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,23 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import React from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { Search } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { GenomeVisualizationEnhanced as GenomeVisualization } from &#39;../components/GenomeVisualizationEnhanced&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const ResearchHiCBrowser: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;div className=&#39;space-y-8 animate-fadeIn&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;border-b border-slate-100 pb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;h3 className=&#39;text-2xl font-bold text-slate-900 flex items-center gap-3&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;Search size={24} className=&#34;text-teal-500&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    Hi-C Browser - Chromatin Loops &amp; Gene Regulation
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;p className=&#39;text-slate-500 mt-2 text-lg&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    Interactive visualization of chromatin loops, transcription start site (TSS)/promoter locations, and gene last exon positions
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#39;h-[500px] flex flex-col&#39;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;GenomeVisualization /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/Todo.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/Todo.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -1,349 +1,8 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import React from &#39;react&#39;;
</span></span><span class="line"><span class="cl"> import { useNavigate, useParams } from &#39;react-router-dom&#39;;
</span></span><span class="line"><span class="cl"><span class="gd">-import { Plus, Bell, Sun, Cloud, CloudRain, CloudSnow, CloudLightning, CloudFog } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-const AnalogClock: React.FC&lt;{ timezone: string; label: string }&gt; = ({ timezone, label }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [time, setTime] = React.useState(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const timer = setInterval(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setTime(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }, 1000);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return () =&gt; clearInterval(timer);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const dateInTimezone = new Date(time.toLocaleString(&#39;en-US&#39;, { timeZone: timezone }));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const hours = dateInTimezone.getHours();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const minutes = dateInTimezone.getMinutes();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const hourDeg = (hours % 12) * 30 + minutes * 0.5;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const minuteDeg = minutes * 6;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;div className=&#34;flex flex-col items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;relative w-24 h-24 border-4 border-slate-200 rounded-full bg-white shadow-inner&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {/* Markers */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;absolute top-1 left-1/2 -translate-x-1/2 w-1 h-2 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;absolute bottom-1 left-1/2 -translate-x-1/2 w-1 h-2 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;absolute left-1 top-1/2 -translate-y-1/2 w-2 h-1 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;absolute right-1 top-1/2 -translate-y-1/2 w-2 h-1 bg-slate-300&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {/* Hour Hand */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;absolute w-1.5 h-6 bg-slate-800 left-1/2 top-1/2 origin-bottom rounded-full&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    style={{
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        transform: `translateX(-50%) translateY(-100%) rotate(${hourDeg}deg)`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {/* Minute Hand */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;absolute w-1 h-8 bg-slate-500 left-1/2 top-1/2 origin-bottom rounded-full&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    style={{
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        transform: `translateX(-50%) translateY(-100%) rotate(${minuteDeg}deg)`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {/* Center Dot */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;absolute w-2 h-2 bg-slate-800 rounded-full left-1/2 top-1/2 -translate-x-1/2 -translate-y-1/2&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;mt-3 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;text-sm font-bold text-slate-700&#34;&gt;{label}&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;text-xs text-slate-500 font-mono&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    {dateInTimezone.toLocaleTimeString(&#39;en-US&#39;, { hour: &#39;2-digit&#39;, minute: &#39;2-digit&#39;, hour12: true })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-};
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-const WeatherWidget: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [weather, setWeather] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [locationName, setLocationName] = React.useState(&#39;Loading...&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [loading, setLoading] = React.useState(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const fetchWeather = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                let lat = 37.5665;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                let lon = 126.9780;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                let name = &#39;Seoul&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    // 1. Get location from Contact API
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const contactResponse = await fetch(`${API_URL}/api/contact`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    if (contactResponse.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        const contactData = await contactResponse.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        if (contactData?.Location) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            // Prefer explicit coordinates if available
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            if (contactData.Location.latitude &amp;&amp; contactData.Location.longitude) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                lat = contactData.Location.latitude;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                lon = contactData.Location.longitude;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            // Construct location name
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            const parts = [contactData.Location.city, contactData.Location.state].filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            if (parts.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                name = parts.join(&#39;, &#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            } else if (contactData.Location.country) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                name = contactData.Location.country;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                } catch (e) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    console.warn(&#39;Failed to get contact location, defaulting to Seoul&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setLocationName(name);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // 2. Fetch weather
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const response = await fetch(
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    `https://api.open-meteo.com/v1/forecast?latitude=${lat}&amp;longitude=${lon}&amp;daily=weather_code,temperature_2m_max,temperature_2m_min&amp;timezone=auto&amp;forecast_days=1`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setWeather(data.daily);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                console.error(&#39;Failed to fetch weather:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setLocationName(&#39;Error&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            } finally {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Fetch weather immediately
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        fetchWeather();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Refresh weather every 10 minutes (600000 ms)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const weatherInterval = setInterval(fetchWeather, 600000);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Cleanup interval on unmount
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return () =&gt; clearInterval(weatherInterval);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const fixedClass = &#34;fixed bottom-[21rem] left-6 w-14 h-14 bg-white rounded-full transition-all hover:scale-110 flex items-center justify-center z-[100] cursor-pointer group&#34;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const strongShadow = { boxShadow: &#39;0 20px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 20px -8px rgba(0, 0, 0, 0.4)&#39; };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    if (loading) return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;div className={fixedClass} style={strongShadow}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;w-6 h-6 border-2 border-slate-200 border-t-blue-500 rounded-full animate-spin&#34;&gt;&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    if (!weather) return null;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const code = weather.weather_code[0];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const maxTemp = Math.round(weather.temperature_2m_max[0]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const minTemp = Math.round(weather.temperature_2m_min[0]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const getWeatherIcon = (code: number) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code === 0) return &lt;Sun className=&#34;w-6 h-6 text-yellow-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 1 &amp;&amp; code &lt;= 3) return &lt;Cloud className=&#34;w-6 h-6 text-slate-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 45 &amp;&amp; code &lt;= 48) return &lt;CloudFog className=&#34;w-6 h-6 text-slate-400&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 51 &amp;&amp; code &lt;= 67) return &lt;CloudRain className=&#34;w-6 h-6 text-blue-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 71 &amp;&amp; code &lt;= 77) return &lt;CloudSnow className=&#34;w-6 h-6 text-blue-300&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 80 &amp;&amp; code &lt;= 82) return &lt;CloudRain className=&#34;w-6 h-6 text-blue-600&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 85 &amp;&amp; code &lt;= 86) return &lt;CloudSnow className=&#34;w-6 h-6 text-blue-400&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (code &gt;= 95) return &lt;CloudLightning className=&#34;w-6 h-6 text-purple-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return &lt;Sun className=&#34;w-6 h-6 text-yellow-500&#34; /&gt;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            className={fixedClass}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            style={strongShadow}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            title={`${locationName} Weather`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;flex flex-col items-center justify-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {getWeatherIcon(code)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;span className=&#34;text-[10px] font-bold text-slate-700 mt-[-2px]&#34;&gt;{maxTemp}°&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Tooltip */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;div className=&#34;absolute left-16 bg-slate-800 text-white text-xs font-bold py-1 px-3 rounded-lg opacity-0 group-hover:opacity-100 transition-opacity whitespace-nowrap pointer-events-none&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                {locationName}: {maxTemp}° / {minTemp}°
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-};
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-// Kanban Board Component
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-interface KanbanBoardProps {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    todos: any[];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onTodoClick: (todo: any) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onProjectClick: (project: any) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onAddProjectClick: () =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onUpdateStatus: (todoId: string, newStatus: string) =&gt; void;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    getPriorityColor: (priority: string) =&gt; string;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    formatDate: (dateString: string) =&gt; string;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    isAuthorized: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-const KanbanBoard: React.FC&lt;KanbanBoardProps&gt; = ({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    todos,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    projects,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onTodoClick,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onProjectClick,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onAddProjectClick,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    onUpdateStatus,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    getPriorityColor,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    formatDate,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    isAuthorized
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-}) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [draggedTodoId, setDraggedTodoId] = React.useState&lt;string | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [dragOverColumn, setDragOverColumn] = React.useState&lt;string | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Changed &#34;cancelled&#34; to &#34;project&#34; as first column
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const columns = [
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        { id: &#39;project&#39;, title: &#39;Project&#39;, color: &#39;bg-purple-50 border-purple-200&#39;, isProject: true },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        { id: &#39;pending&#39;, title: &#39;Pending&#39;, color: &#39;bg-slate-50 border-slate-200&#39;, isProject: false },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        { id: &#39;in_progress&#39;, title: &#39;In Progress&#39;, color: &#39;bg-blue-50 border-blue-200&#39;, isProject: false },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        { id: &#39;completed&#39;, title: &#39;Completed&#39;, color: &#39;bg-green-50 border-green-200&#39;, isProject: false }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    ];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const getTodosByStatus = (status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return todos.filter(todo =&gt; todo.status === status);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDragStart = (e: React.DragEvent, todoId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setDraggedTodoId(todoId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        e.dataTransfer.effectAllowed = &#39;move&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        e.dataTransfer.setData(&#39;text/plain&#39;, todoId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDragOver = (e: React.DragEvent, columnId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Don&#39;t allow dropping on project column
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (columnId !== &#39;project&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setDragOverColumn(columnId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDrop = (e: React.DragEvent, status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setDragOverColumn(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Don&#39;t allow dropping on project column
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (status === &#39;project&#39;) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const todoId = draggedTodoId;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (todoId) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            onUpdateStatus(todoId, status);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setDraggedTodoId(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;div className=&#34;grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-4 gap-4 min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {columns.map(column =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const isDragOver = dragOverColumn === column.id;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        key={column.id}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className={`flex flex-col rounded-xl transition-colors duration-200 ${!column.isProject &amp;&amp; isDragOver ? &#39;bg-slate-100 ring-2 ring-blue-400 ring-opacity-50&#39; : &#39;&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onDragOver={(e) =&gt; handleDragOver(e, column.id)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onDrop={(e) =&gt; handleDrop(e, column.id)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className={`${column.color} border-2 rounded-xl p-4 mb-3`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;h3 className=&#34;font-bold text-slate-800 text-sm uppercase tracking-wider flex items-center justify-between flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;span&gt;{column.title}&lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;span className=&#34;text-xs bg-white px-2 py-0.5 rounded-full whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {column.isProject
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        ? projects.filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).length
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        : getTodosByStatus(column.id).length}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex-1 space-y-3 p-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {column.isProject ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                // Project Column
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {projects.filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            key={project._id}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onClick={() =&gt; onProjectClick(project)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className={`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ${column.color} border rounded-xl p-4 cursor-pointer
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            `}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;h4 className=&#34;font-bold text-slate-900 text-sm break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {/* Add Project Button - Always visible for authorized users */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onClick={onAddProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className={`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ${column.color} border-2 border-dashed rounded-xl p-4 cursor-pointer
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                flex items-center justify-center min-h-[100px]
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            `}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;Plus className=&#34;w-8 h-8 text-purple-400&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                // TODO Columns
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {getTodosByStatus(column.id).map(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        const isStrikethrough = todo.status === &#39;completed&#39; || todo.status === &#39;cancelled&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        const isDragging = draggedTodoId === todo._id;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                key={todo._id}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                draggable
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onDragStart={(e) =&gt; handleDragStart(e, todo._id)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; onTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className={`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    ${column.color} border rounded-xl p-4 cursor-grab active:cursor-grabbing 
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    hover:shadow-md transition-all duration-200 hover:scale-[1.02]
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    ${isDragging ? &#39;opacity-50 scale-95&#39; : &#39;opacity-100&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                `}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;h4 className={`font-bold text-slate-900 mb-2 text-sm break-all ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;&#39;}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {todo.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;p className={`text-xs text-slate-600 mb-3 line-clamp-2 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;&#39;}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {todo.description}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;div className=&#34;flex items-center justify-between text-xs&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;span className={`font-bold capitalize ${getPriorityColor(todo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        {todo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;span className=&#34;text-slate-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        {formatDate(todo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {getTodosByStatus(column.id).length === 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;text-center text-slate-400 text-sm py-8 border-2 border-dashed border-slate-200 rounded-xl&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            Drop items here
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        &lt;/div &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-};
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+import { TodoPersonal } from &#39;./TodoPersonal&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { TodoDev } from &#39;./TodoDev&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { getApiUrl } from &#39;../components/TodoComponents&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> export const Todo: React.FC = () =&gt; {
</span></span><span class="line"><span class="cl">     // ============================================================================
</span></span><span class="line"><span class="cl"><span class="gu">@@ -353,120 +12,20 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     const { tab } = useParams&lt;{ tab: string }&gt;();
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     // ============================================================================
</span></span><span class="line"><span class="cl"><span class="gd">-    // CORE STATE - Todos, User, Authorization
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    // CORE STATE - User, Authorization
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     // ============================================================================
</span></span><span class="line"><span class="cl"><span class="gd">-    const [todos, setTodos] = React.useState&lt;any[]&gt;([]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>     const [user, setUser] = React.useState&lt;any&gt;(null);
</span></span><span class="line"><span class="cl">     const [isAuthorized, setIsAuthorized] = React.useState(false);
</span></span><span class="line"><span class="cl"><span class="gd">-    const [loading, setLoading] = React.useState(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>     const [authLoading, setAuthLoading] = React.useState(true);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     // ============================================================================
</span></span><span class="line"><span class="cl"><span class="gd">-    // TODO CREATION/EDIT STATE
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [showCreateModal, setShowCreateModal] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [newTodo, setNewTodo] = React.useState({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        title: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        priority: &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        due_date: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        category: &#39;personal&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        sort: &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [selectedDate, setSelectedDate] = React.useState(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [selectedTodo, setSelectedTodo] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [isEditMode, setIsEditMode] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [editFormData, setEditFormData] = React.useState({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        title: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        priority: &#39;medium&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        status: &#39;pending&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        due_date: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        category: &#39;personal&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        sort: &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // UI STATE - Popups, Pagination
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [showSuccessPopup, setShowSuccessPopup] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [successMessage, setSuccessMessage] = React.useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [currentPage, setCurrentPage] = React.useState(1);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const itemsPerPage = 10;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // FILTER &amp; SEARCH STATE
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [filterDate, setFilterDate] = React.useState&lt;Date | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [filterMode, setFilterMode] = React.useState&lt;&#39;all&#39; | &#39;until_date&#39; | &#39;today&#39;&gt;(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [searchQuery, setSearchQuery] = React.useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [isSearching, setIsSearching] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // LOCATION &amp; TIMEZONE STATE
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [locationTimezone, setLocationTimezone] = React.useState&lt;string&gt;(&#39;America/Chicago&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [locationLabel, setLocationLabel] = React.useState&lt;string&gt;(&#39;Location&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // PROJECT STATE (Dev Tab)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    // PROJECT STATE (shared for both tabs)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>     // ============================================================================
</span></span><span class="line"><span class="cl">     const [projects, setProjects] = React.useState&lt;any[]&gt;([]);
</span></span><span class="line"><span class="cl"><span class="gd">-    const [selectedProject, setSelectedProject] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [showProjectModal, setShowProjectModal] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [isProjectEditMode, setIsProjectEditMode] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const [projectFormData, setProjectFormData] = React.useState({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        project_name: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        github_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        web_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        expected_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        actual_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        status: &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        team_members: [] as any[],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        technologies: [] as string[],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        tags: [] as string[],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        budget: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        progress_percent: 0
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span> 
</span></span><span class="line"><span class="cl">     // Derive activeTab from URL parameter
</span></span><span class="line"><span class="cl">     const activeTab = (tab === &#39;dev&#39; ? &#39;dev&#39; : &#39;personal&#39;) as &#39;personal&#39; | &#39;dev&#39;;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    // Handle keyboard shortcuts for success popup
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (showSuccessPopup) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const handleKeyDown = (e: KeyboardEvent) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                if (e.key === &#39;Enter&#39; || e.key === &#39; &#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    setShowSuccessPopup(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            window.addEventListener(&#39;keydown&#39;, handleKeyDown);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return () =&gt; window.removeEventListener(&#39;keydown&#39;, handleKeyDown);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }, [showSuccessPopup]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const sortTodos = (todosToSort: any[]) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return [...todosToSort].sort((a, b) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // 1. Priority: High &gt; Medium &gt; Low
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const priorityOrder: { [key: string]: number } = { high: 3, medium: 2, low: 1 };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const priorityDiff = (priorityOrder[b.priority] || 0) - (priorityOrder[a.priority] || 0);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (priorityDiff !== 0) return priorityDiff;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // 2. Deadline: Closest date first (ascending)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // Treat missing deadline as far future
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const dateA = a.due_date ? new Date(a.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const dateB = b.due_date ? new Date(b.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (dateA !== dateB) return dateA - dateB;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            // 3. Status: In Progress &gt; Pending &gt; Completed &gt; Cancelled
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const statusOrder: { [key: string]: number } = { in_progress: 1, pending: 2, completed: 3, cancelled: 4 };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const statusDiff = (statusOrder[a.status] || 5) - (statusOrder[b.status] || 5);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return statusDiff;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>     React.useEffect(() =&gt; {
</span></span><span class="line"><span class="cl">         const checkAuth = async () =&gt; {
</span></span><span class="line"><span class="cl">             // Get user data
</span></span><span class="line"><span class="cl"><span class="gu">@@ -477,11 +36,7 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>                     setUser(parsedUser);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">                     // Check authorization
</span></span><span class="line"><span class="cl"><span class="gd">-                    const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     const response = await fetch(`${API_URL}/api/member/role/${parsedUser.email}`);
</span></span><span class="line"><span class="cl">                     const data = await response.json();
</span></span><span class="line"><span class="cl">                     setIsAuthorized(data.authorized);
</span></span><span class="line"><span class="cl"><span class="gu">@@ -492,67 +47,22 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             setAuthLoading(false);
</span></span><span class="line"><span class="cl">         };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-        const fetchLocationTimezone = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const fetchProjects = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             try {
</span></span><span class="line"><span class="cl"><span class="gd">-                const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const response = await fetch(`${API_URL}/api/contact`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const response = await fetch(`${API_URL}/api/projects`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                 if (response.ok) {
</span></span><span class="line"><span class="cl">                     const data = await response.json();
</span></span><span class="line"><span class="cl"><span class="gd">-                    if (data?.Location) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // Determine timezone based on location
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        const { city, state, country, latitude, longitude } = data.Location;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // Try to determine timezone from coordinates or location name
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        let timezone = &#39;America/Chicago&#39;; // default
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        let label = &#39;Location&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // Build location label
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        const locationParts = [city, state, country].filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        if (locationParts.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            label = locationParts[0]; // Use first available part (usually city)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        // Simple timezone mapping based on country/state
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        if (country === &#39;South Korea&#39; || country === &#39;Korea&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            timezone = &#39;Asia/Seoul&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        } else if (country === &#39;United States&#39; || country === &#39;USA&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            // Map US states to timezones
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            const stateTimezones: { [key: string]: string } = {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;Illinois&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;Texas&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;Wisconsin&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;California&#39;: &#39;America/Los_Angeles&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;New York&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &#39;Florida&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                // Add more as needed
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            timezone = stateTimezones[state] || &#39;America/Chicago&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        } else if (country === &#39;United Kingdom&#39; || country === &#39;UK&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            timezone = &#39;Europe/London&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        } else if (country === &#39;Japan&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            timezone = &#39;Asia/Tokyo&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        } else if (country === &#39;China&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            timezone = &#39;Asia/Shanghai&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        setLocationTimezone(timezone);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        setLocationLabel(label);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    setProjects(data);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                 }
</span></span><span class="line"><span class="cl">             } catch (error) {
</span></span><span class="line"><span class="cl"><span class="gd">-                console.error(&#39;Failed to fetch location timezone:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                console.error(&#39;Failed to fetch projects:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             }
</span></span><span class="line"><span class="cl">         };
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         checkAuth();
</span></span><span class="line"><span class="cl"><span class="gd">-        fetchTodos();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        fetchLocationTimezone();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        fetchProjects(); // Always fetch projects for both personal and dev tabs
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }, [activeTab]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        fetchProjects();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     React.useEffect(() =&gt; {
</span></span><span class="line"><span class="cl">         if (!authLoading &amp;&amp; !isAuthorized) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -560,487 +70,13 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         }
</span></span><span class="line"><span class="cl">     }, [authLoading, isAuthorized, navigate]);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // API FUNCTIONS - Data Fetching
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const fetchTodos = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/todos`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setTodos(sortTodos(data));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to fetch todos:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } finally {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const fetchProjects = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.log(&#39;[TODO] Fetching projects from:&#39;, `${API_URL}/api/projects`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/projects`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                console.log(&#39;[TODO] Fetched projects:&#39;, data);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                console.log(&#39;[TODO] Projects with ongoing/paused status:&#39;, data.filter((p: any) =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setProjects(data);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            } else {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                console.error(&#39;[TODO] Failed to fetch projects, status:&#39;, response.status);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to fetch projects:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // TODO HANDLERS - Create, Edit, Delete
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleCreateTodo = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Please login to create a TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!newTodo.title.trim() || !newTodo.description.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Title and Description are required&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Default deadline logic: 7 days from now if not set
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        let finalDueDate = newTodo.due_date;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!finalDueDate) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const nextWeek = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            nextWeek.setDate(nextWeek.getDate() + 7);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            finalDueDate = nextWeek.toISOString().split(&#39;T&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const todoData = {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ...newTodo,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                due_date: finalDueDate,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                email: user.email
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.log(&#39;[TODO CREATE] Sending data:&#39;, todoData);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.log(&#39;[TODO CREATE] Sort value:&#39;, newTodo.sort);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/todos`, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                method: &#39;POST&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                body: JSON.stringify(todoData)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const createdTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setTodos(sortTodos([createdTodo, ...todos]));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowCreateModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setNewTodo({ title: &#39;&#39;, description: &#39;&#39;, priority: &#39;medium&#39;, due_date: &#39;&#39;, category: &#39;personal&#39;, sort: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to create todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleTodoClick = (todo: any) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setSelectedTodo(todo);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleEditClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (selectedTodo) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setEditFormData({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                title: selectedTodo.title,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                description: selectedTodo.description,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                priority: selectedTodo.priority,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                status: selectedTodo.status,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                due_date: selectedTodo.due_date || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                category: selectedTodo.category || &#39;personal&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                sort: selectedTodo.sort || &#39;&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setIsEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleSaveEdit = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!selectedTodo || !user || !user.email) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/todos/${selectedTodo._id}`, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                method: &#39;PUT&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    ...editFormData
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const updatedTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setTodos(sortTodos(todos.map(t =&gt; t._id === selectedTodo._id ? updatedTodo : t)));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSelectedTodo(updatedTodo);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSuccessMessage(&#39;TODO has been updated successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to update todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDeleteTodo = async (todoId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Please login to delete TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!confirm(&#39;Are you sure you want to delete this TODO?&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                method: &#39;DELETE&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    email: user.email
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setTodos(todos.filter(t =&gt; t._id !== todoId));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSelectedTodo(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // Show success message
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSuccessMessage(&#39;TODO has been deleted successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to delete todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // PROJECT HANDLERS (Dev Tab)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleProjectClick = (project: any) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setSelectedProject(project);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleAddProjectClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            project_name: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            github_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            web_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            expected_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            actual_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            status: &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            team_members: [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            technologies: [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            tags: [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            budget: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            progress_percent: 0
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setIsProjectEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setShowProjectModal(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleEditProjectClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (selectedProject) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                project_name: selectedProject.project_name || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                github_url: selectedProject.github_url || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                web_url: selectedProject.web_url || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                expected_end_at: selectedProject.expected_end_at ? new Date(selectedProject.expected_end_at).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                actual_end_at: selectedProject.actual_end_at ? new Date(selectedProject.actual_end_at).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                description: selectedProject.description || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                status: selectedProject.status || &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                team_members: selectedProject.team_members || [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                technologies: selectedProject.technologies || [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                tags: selectedProject.tags || [],
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                budget: selectedProject.budget?.toString() || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                progress_percent: selectedProject.progress_percent || 0
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setIsProjectEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setShowProjectModal(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleSaveProject = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Please login to save project&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!projectFormData.project_name.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Project name is required&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const method = selectedProject ? &#39;PUT&#39; : &#39;POST&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const url = selectedProject
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? `${API_URL}/api/projects/${selectedProject._id}`
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : `${API_URL}/api/projects`;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(url, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                method,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    budget: projectFormData.budget ? parseFloat(projectFormData.budget) : undefined
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                await fetchProjects();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSuccessMessage(!selectedProject ? &#39;Project created successfully!&#39; : &#39;Project updated successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to save project:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDeleteProject = async (projectId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            alert(&#39;Please login to delete project&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!confirm(&#39;Are you sure you want to delete this project?&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const response = await fetch(`${API_URL}/api/projects/${projectId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                method: &#39;DELETE&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    email: user.email
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setProjects(projects.filter(p =&gt; p._id !== projectId));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setSuccessMessage(&#39;Project deleted successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            console.error(&#39;Failed to delete project:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const formatDate = (dateString: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (!dateString) return &#39;N/A&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const date = new Date(dateString);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return date.toLocaleDateString(&#39;en-US&#39;, { month: &#39;short&#39;, day: &#39;numeric&#39;, year: &#39;numeric&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Filter Logic
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Filter Logic
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const filteredTodos = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        let result = todos;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Filter by Category based on Active Tab
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (activeTab === &#39;personal&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            result = result.filter(todo =&gt; !todo.category || todo.category === &#39;personal&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } else if (activeTab === &#39;dev&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            result = result.filter(todo =&gt; todo.category === &#39;dev&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // 1. Apply Search Filter if active
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (isSearching &amp;&amp; searchQuery.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const query = searchQuery.toLowerCase();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            result = result.filter(todo =&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                todo.title.toLowerCase().includes(query) ||
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                todo.description.toLowerCase().includes(query)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // 2. Apply Date/Mode Filters
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (filterMode !== &#39;all&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            result = result.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const todoDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                if (filterMode === &#39;until_date&#39; &amp;&amp; filterDate) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    return todoDate.toDateString() === filterDate.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                if (filterMode === &#39;today&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    return todoDate.toDateString() === today.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                return true;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // 3. Sort Results
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // If searching, prioritize deadline (closest first)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (isSearching) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return [...result].sort((a, b) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const dateA = a.due_date ? new Date(a.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                const dateB = b.due_date ? new Date(b.due_date).getTime() : Number.MAX_SAFE_INTEGER;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                return dateA - dateB;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Otherwise use default sorting (Priority &gt; Deadline &gt; Status)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Note: &#39;todos&#39; is already sorted by default fetch, but filtering might need re-sort if we want strict order
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // However, filter preserves order, so we can just return result
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return result;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }, [todos, filterMode, filterDate, isSearching, searchQuery, activeTab]);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Handle Search
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleSearch = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (searchQuery.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setIsSearching(true);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setCurrentPage(1);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } else {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setIsSearching(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setCurrentPage(1);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Pagination Logic
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const indexOfLastItem = currentPage * itemsPerPage;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const indexOfFirstItem = indexOfLastItem - itemsPerPage;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const currentTodos = filteredTodos.slice(indexOfFirstItem, indexOfLastItem);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const totalPages = Math.ceil(filteredTodos.length / itemsPerPage);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handlePageChange = (pageNumber: number) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        setCurrentPage(pageNumber);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Calendar Click Handler
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const handleDateClick = (date: Date) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (filterMode === &#39;until_date&#39; &amp;&amp; filterDate &amp;&amp; date.toDateString() === filterDate.toDateString()) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setFilterMode(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setFilterDate(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        } else {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setFilterMode(&#39;until_date&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            setFilterDate(date);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Today&#39;s Count
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const todayCount = todos.filter(t =&gt; t.due_date &amp;&amp; new Date(t.due_date).toDateString() === new Date().toDateString()).length;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    // Get dates with todos for calendar highlighting
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const todoDates = todos.map(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        if (todo.due_date) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const date = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            return date.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return null;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    }).filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const renderCalendar = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const year = selectedDate.getFullYear();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const month = selectedDate.getMonth();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const firstDay = new Date(year, month, 1);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const lastDay = new Date(year, month + 1, 0);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const daysInMonth = lastDay.getDate();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const startingDayOfWeek = firstDay.getDay();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const todayString = today.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        const days = [];
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Empty cells before first day
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        for (let i = 0; i &lt; startingDayOfWeek; i++) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            days.push(&lt;div key={`empty-${i}`} className=&#34;h-12&#34;&gt;&lt;/div&gt;);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        // Days of month
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        for (let day = 1; day &lt;= daysInMonth; day++) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const currentDate = new Date(year, month, day);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const dateString = currentDate.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const hasTodo = todoDates.includes(dateString);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const isToday = dateString === todayString;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            const isSelected = filterMode === &#39;until_date&#39; &amp;&amp; filterDate?.toDateString() === dateString;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            days.push(
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    key={day}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; handleDateClick(currentDate)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className={`h-12 flex items-center justify-center rounded-lg cursor-pointer transition-colors 
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        ${isSelected ? &#39;bg-slate-800 text-white font-bold&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            hasTodo ? &#39;bg-blue-100 text-blue-700 font-bold&#39; : &#39;hover:bg-slate-100&#39;} 
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        ${isToday &amp;&amp; !isSelected ? &#39;border-2 border-gray-500 rounded-full&#39; : &#39;&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    {day}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        return days;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const getPriorityColor = (priority: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        switch (priority) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;high&#39;: return &#39;text-red-600 font-bold&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;medium&#39;: return &#39;text-yellow-600 font-medium&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;low&#39;: return &#39;text-green-600&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            default: return &#39;text-slate-600&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    const getStatusColor = (status: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        switch (status) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;completed&#39;: return &#39;bg-green-50 border-green-200&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;in_progress&#39;: return &#39;bg-blue-50 border-blue-200&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            case &#39;cancelled&#39;: return &#39;bg-red-50 border-red-200&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            default: return &#39;bg-slate-50 border-slate-200&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-    };
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+    if (authLoading) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;flex flex-col h-screen bg-white items-center justify-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;p className=&#34;text-slate-500&#34;&gt;Loading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">     return (
</span></span><span class="line"><span class="cl">         &lt;div className=&#34;flex flex-col h-screen bg-white&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -1084,1009 +120,20 @@ export const Todo: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             {/* Scrollable Content Area */}
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;flex-1 overflow-y-auto px-6 pb-20 pt-8 scrollbar-hide&#34;&gt;
</span></span><span class="line"><span class="cl">                 &lt;div className=&#34;max-w-7xl mx-auto w-full min-h-full&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-                    {/* ================================================================ */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    {/* PERSONAL TAB - Table View                                        */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    {/* ================================================================ */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>                     {activeTab === &#39;personal&#39; ? (
</span></span><span class="line"><span class="cl"><span class="gd">-                        &lt;div className=&#34;flex gap-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Left: Calendar */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;w-1/3 flex flex-col gap-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;flex items-center justify-between mb-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ←
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;h3 className=&#34;text-lg font-bold text-slate-900&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedDate.toLocaleDateString(&#39;en-US&#39;, { month: &#39;long&#39;, year: &#39;numeric&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                →
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;grid grid-cols-7 gap-2 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {[&#39;Sun&#39;, &#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thu&#39;, &#39;Fri&#39;, &#39;Sat&#39;].map(day =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;div key={day} className=&#34;text-xs font-bold text-slate-500 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {day}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;grid grid-cols-7 gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {renderCalendar()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {/* World Clocks */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;grid grid-cols-2 gap-4 justify-items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;AnalogClock timezone={locationTimezone} label={locationLabel} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;AnalogClock timezone=&#34;Asia/Seoul&#34; label=&#34;Seoul&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Right: TODO Table */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex-1 max-w-6xl&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;table className=&#34;w-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;thead className=&#34;bg-slate-50 border-b border-slate-200&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Title&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Description&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Status&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Priority&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Deadline&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/thead&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;tbody&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {filteredTodos.length === 0 ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;td colSpan={5} className=&#34;px-4 py-12 text-center text-slate-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        {filterMode === &#39;all&#39; ? &#39;No TODO items found&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            filterMode === &#39;today&#39; ? &#39;No tasks due today&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                &#39;No tasks found for selected period&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                currentTodos.map((todo) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    const isStrikethrough = todo.status === &#39;completed&#39; || todo.status === &#39;cancelled&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    return (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        &lt;tr key={todo._id} className={`border-b border-slate-100 hover:bg-slate-50 transition-colors ${getStatusColor(todo.status)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;td
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                className={`px-4 py-3 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;text-slate-900&#39;} cursor-pointer hover:text-blue-600 font-medium`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                onClick={() =&gt; handleTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                {todo.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;td
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                className={`px-4 py-3 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;text-slate-600&#39;} text-sm cursor-pointer hover:text-blue-600`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                onClick={() =&gt; handleTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                {todo.description}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;td className=&#34;px-4 py-3 whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                &lt;span className={`px-2 py-1 rounded-full text-xs font-bold capitalize ${todo.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                    todo.status === &#39;in_progress&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                        todo.status === &#39;cancelled&#39; ? &#39;bg-red-100 text-red-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                            &#39;bg-slate-100 text-slate-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                    }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                    {todo.status.replace(&#39;_&#39;, &#39; &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;td className=&#34;px-4 py-3&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                &lt;span className={`text-sm font-bold capitalize ${getPriorityColor(todo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                    {todo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;td className=&#34;px-4 py-3 text-sm text-slate-600 whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                                {formatDate(todo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    );
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/tbody&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/table&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {/* Pagination and Search Section - Always show */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex justify-between items-center gap-4 mt-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {/* Empty spacer for alignment */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex-1 max-w-sm&#34;&gt;&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {/* Pagination Controls */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex justify-center items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onClick={() =&gt; handlePageChange(currentPage - 1)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            disabled={currentPage === 1}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;px-3 py-1 rounded-lg border border-slate-200 text-slate-600 disabled:opacity-50 hover:bg-slate-50&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            Previous
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {Array.from({ length: totalPages || 1 }, (_, i) =&gt; i + 1).map((page) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                key={page}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; handlePageChange(page)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className={`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold transition-colors ${currentPage === page
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    ? &#39;bg-gray-500 text-white&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    : &#39;text-slate-600 hover:bg-slate-100&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    }`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {page}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onClick={() =&gt; handlePageChange(currentPage + 1)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            disabled={currentPage === (totalPages || 1)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;px-3 py-1 rounded-lg border border-slate-200 text-slate-600 disabled:opacity-50 hover:bg-slate-50&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            Next
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {/* Search Section */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;flex items-center gap-2 flex-1 max-w-sm justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={searchQuery}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setSearchQuery(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onKeyDown={(e) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                if (e.key === &#39;Enter&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    handleSearch();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;Search...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-48 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 text-sm&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onClick={handleSearch}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-10 h-10 rounded-lg bg-white border border-slate-300 hover:border-slate-400 transition-all flex items-center justify-center group&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            title=&#34;Search&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;svg
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;w-5 h-5 text-slate-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                fill=&#34;currentColor&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                viewBox=&#34;0 0 20 20&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;path
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    fillRule=&#34;evenodd&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    d=&#34;M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    clipRule=&#34;evenodd&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        &lt;TodoPersonal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            user={user}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     ) : (
</span></span><span class="line"><span class="cl"><span class="gd">-                        /* ================================================================ */
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        /* DEV TAB - Kanban Board                                           */
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        /* ================================================================ */
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex gap-8 min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Left: Calendar */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;w-1/3 flex flex-col gap-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;flex items-center justify-between mb-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ←
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;h3 className=&#34;text-lg font-bold text-slate-900&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedDate.toLocaleDateString(&#39;en-US&#39;, { month: &#39;long&#39;, year: &#39;numeric&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                →
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;grid grid-cols-7 gap-2 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {[&#39;Sun&#39;, &#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thu&#39;, &#39;Fri&#39;, &#39;Sat&#39;].map(day =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;div key={day} className=&#34;text-xs font-bold text-slate-500 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {day}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;grid grid-cols-7 gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {renderCalendar()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {/* World Clocks */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;grid grid-cols-2 gap-4 justify-items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;AnalogClock timezone={locationTimezone} label={locationLabel} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;AnalogClock timezone=&#34;Asia/Seoul&#34; label=&#34;Seoul&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Right: Kanban Board */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex-1&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {loading ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div className=&#34;text-center py-12&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;p className=&#34;text-slate-500&#34;&gt;Loading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;KanbanBoard
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            todos={filteredTodos}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onTodoClick={handleTodoClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onProjectClick={handleProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onAddProjectClick={handleAddProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onUpdateStatus={async (todoId, newStatus) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                if (!user || !user.email) return;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                try {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    const API_URL = window.location.hostname === &#39;localhost&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        ? &#39;http://localhost:4000&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        // : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        : &#39;https://api.distilledchild.space&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    const todo = todos.find(t =&gt; t._id === todoId);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        method: &#39;PUT&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            ...todo,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                            status: newStatus
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        })
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        const updatedTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        setTodos(sortTodos(todos.map(t =&gt; t._id === todoId ? updatedTodo : t)));
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    console.error(&#39;Failed to update status:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            getPriorityColor={getPriorityColor}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            formatDate={formatDate}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                        &lt;TodoDev
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            user={user}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                     )}
</span></span><span class="line"><span class="cl">                 &lt;/div&gt;
</span></span><span class="line"><span class="cl">             &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Weather Widget (Always visible) */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            &lt;WeatherWidget /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Create Button (Admin/Editor only) */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    {/* Notification Bell Button - Above Cal.com (bottom-64 approx) */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={() =&gt; setFilterMode(prev =&gt; prev === &#39;today&#39; ? &#39;all&#39; : &#39;today&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className={`fixed bottom-64 left-6 w-14 h-14 rounded-full transition-all hover:scale-110 flex items-center justify-center z-40
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                ${filterMode === &#39;today&#39; ? &#39;bg-blue-600 text-white&#39; : &#39;bg-gray-500 text-white hover:bg-gray-600&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        style={{ boxShadow: &#39;0 20px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 20px -8px rgba(0, 0, 0, 0.4)&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        title=&#34;Show today&#39;s tasks&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;relative&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;Bell size={24} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {todayCount &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;span className=&#34;absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-gray-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {todayCount}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={() =&gt; setShowCreateModal(true)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;fixed bottom-24 left-6 w-14 h-14 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all hover:scale-110 flex items-center justify-center z-40&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        style={{ boxShadow: &#39;0 20px 50px -12px rgba(0, 0, 0, 0.5), 0 10px 20px -8px rgba(0, 0, 0, 0.4)&#39; }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        title=&#34;Create new TODO&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;Plus size={28} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* ================================================================ */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* MODALS - Create TODO                                             */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* ================================================================ */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {showCreateModal &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; setShowCreateModal(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-6&#34;&gt;Create New TODO&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Category&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.category}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setNewTodo({ ...newTodo, category: e.target.value, sort: &#39;&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Select category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;dev&#34;&gt;Dev&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Sort Select - Always visible */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Sort&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.sort}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        console.log(&#39;[SORT CHANGE] Selected value:&#39;, e.target.value);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        setNewTodo({ ...newTodo, sort: e.target.value });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Select sort&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;&#34;&gt;Select...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {newTodo.category === &#39;personal&#39; ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Academy&#34;&gt;Academy&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Work&#34;&gt;Work&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {projects.filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;option key={project._id} value={project._id}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Title *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setNewTodo({ ...newTodo, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    placeholder=&#34;Enter title&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.description}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setNewTodo({ ...newTodo, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    placeholder=&#34;Enter description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Priority&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setNewTodo({ ...newTodo, priority: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Select priority&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    title=&#34;Select priority&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;low&#34;&gt;Low&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;medium&#34;&gt;Medium&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;high&#34;&gt;High&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Deadline&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={newTodo.due_date}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setNewTodo({ ...newTodo, due_date: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Select deadline&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    title=&#34;Select deadline&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-end gap-4 mt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    setShowCreateModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    setNewTodo({ title: &#39;&#39;, description: &#39;&#39;, priority: &#39;medium&#39;, due_date: &#39;&#39;, category: &#39;personal&#39;, sort: &#39;&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                Cancel
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={handleCreateTodo}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                Save
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Detail Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {selectedTodo &amp;&amp; !isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; setSelectedTodo(null)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-between items-start mb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;h3 className=&#34;text-2xl font-bold text-slate-900&#34;&gt;{selectedTodo.title}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={() =&gt; setSelectedTodo(null)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;text-slate-400 hover:text-slate-600&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                ✕
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;space-y-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {selectedTodo.sort &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {selectedTodo.category === &#39;dev&#39; ? &#39;Project&#39; : &#39;Sort&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;span className=&#34;text-slate-700 font-medium&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {selectedTodo.category === &#39;dev&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ? projects.find(p =&gt; p._id === selectedTodo.sort)?.project_name || &#39;Unknown Project&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            : selectedTodo.sort
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        }
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Description&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;p className=&#34;text-slate-700 leading-relaxed whitespace-pre-wrap&#34;&gt;{selectedTodo.description}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;grid grid-cols-3 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Status&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;span className={`px-3 py-1 rounded-full text-sm font-bold capitalize inline-block ${selectedTodo.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        selectedTodo.status === &#39;in_progress&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            selectedTodo.status === &#39;cancelled&#39; ? &#39;bg-red-100 text-red-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &#39;bg-slate-100 text-slate-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {selectedTodo.status.replace(&#39;_&#39;, &#39; &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Priority&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;span className={`text-sm font-bold capitalize ${getPriorityColor(selectedTodo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {selectedTodo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;h4 className=&#34;text-sm font-bold text-slate-500 uppercase tracking-wider mb-2&#34;&gt;Deadline&lt;/h4&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;span className=&#34;text-slate-700 font-medium&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {formatDate(selectedTodo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-between gap-4 mt-8 pt-6 border-t border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Left side: Update button (admin only) */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onClick={handleEditClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;px-6 py-3 bg-slate-900 text-white rounded-full font-bold hover:bg-slate-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        Update
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Right side: Delete and Close buttons */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onClick={() =&gt; handleDeleteTodo(selectedTodo._id)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;px-6 py-3 bg-red-100 text-red-600 rounded-full font-bold hover:bg-red-200 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        Delete
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onClick={() =&gt; setSelectedTodo(null)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    Close
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Edit Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {selectedTodo &amp;&amp; isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; setIsEditMode(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-2xl w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-6&#34;&gt;Edit TODO&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Category&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={editFormData.category}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setEditFormData({ ...editFormData, category: e.target.value, sort: &#39;&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Edit category&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;dev&#34;&gt;Dev&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            {/* Sort Select - Always visible */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Sort&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={editFormData.sort}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setEditFormData({ ...editFormData, sort: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Edit sort&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;option value=&#34;&#34;&gt;Select...&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {editFormData.category === &#39;personal&#39; ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Academy&#34;&gt;Academy&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Personal&#34;&gt;Personal&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;option value=&#34;Work&#34;&gt;Work&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            {projects.filter(p =&gt; p.status === &#39;ongoing&#39; || p.status === &#39;paused&#39;).map(project =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;option key={project._id} value={project._id}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    {project.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Title *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={editFormData.title}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setEditFormData({ ...editFormData, title: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Edit title&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={editFormData.description}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setEditFormData({ ...editFormData, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500 h-24 resize-none&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Edit description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editFormData.status}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditFormData({ ...editFormData, status: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        aria-label=&#34;Edit status&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;pending&#34;&gt;Pending&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;in_progress&#34;&gt;In Progress&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;completed&#34;&gt;Completed&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;cancelled&#34;&gt;Cancelled&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Priority&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        value={editFormData.priority}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onChange={(e) =&gt; setEditFormData({ ...editFormData, priority: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        aria-label=&#34;Edit priority&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;low&#34;&gt;Low&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;medium&#34;&gt;Medium&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;option value=&#34;high&#34;&gt;High&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Deadline&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    value={editFormData.due_date ? new Date(editFormData.due_date).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    onChange={(e) =&gt; setEditFormData({ ...editFormData, due_date: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    aria-label=&#34;Edit deadline&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-end gap-4 mt-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={() =&gt; setIsEditMode(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                Cancel
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={handleSaveEdit}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                Save Changes
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Success Popup */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {showSuccessPopup &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-4&#34;&gt;Success&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;p className=&#34;text-slate-600 mb-6&#34;&gt;{successMessage}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                OK
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Success Popup */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {showSuccessPopup &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    onClick={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        className=&#34;bg-white rounded-3xl max-w-md w-full p-8 shadow-2xl&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        onClick={(e) =&gt; e.stopPropagation()}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-4&#34;&gt;Success&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;p className=&#34;text-slate-600 mb-6&#34;&gt;{successMessage}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;div className=&#34;flex justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                onClick={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                className=&#34;px-6 py-3 bg-blue-600 text-white rounded-full font-bold hover:bg-blue-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                OK
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {/* Project Detail/Edit Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            {(selectedProject || showProjectModal) &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;div className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4 overflow-y-auto&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;div className=&#34;bg-white rounded-2xl max-w-3xl w-full p-8 shadow-2xl my-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        {!isProjectEditMode &amp;&amp; selectedProject ? (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            // Detail View
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;h3 className=&#34;text-3xl font-bold text-slate-900 mb-6&#34;&gt;{selectedProject.project_name}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;space-y-4 mb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject.description &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;p className=&#34;text-slate-600&#34;&gt;{selectedProject.description}&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;span className={`px-3 py-1 rounded-full text-sm ${selectedProject.status === &#39;ongoing&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                selectedProject.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &#39;bg-yellow-100 text-yellow-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedProject.status}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Progress&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;p className=&#34;text-slate-600&#34;&gt;{selectedProject.progress_percent}%&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject.github_url &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;GitHub&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;a href={selectedProject.github_url} target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;text-blue-600 hover:underline break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedProject.github_url}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject.web_url &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Website&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;a href={selectedProject.web_url} target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;text-blue-600 hover:underline break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedProject.web_url}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject.technologies &amp;&amp; selectedProject.technologies.length &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Technologies&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;div className=&#34;flex flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedProject.technologies.map((tech: string, idx: number) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;span key={idx} className=&#34;px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        {tech}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject.tags &amp;&amp; selectedProject.tags.length &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Tags&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;div className=&#34;flex flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                {selectedProject.tags.map((tag: string, idx: number) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;span key={idx} className=&#34;px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                        {tag}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ))}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex gap-4 mt-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onClick={() =&gt; setSelectedProject(null)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        Close
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={handleEditProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;flex-1 px-6 py-3 bg-purple-600 text-white rounded-full font-bold hover:bg-purple-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                Edit
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onClick={() =&gt; handleDeleteProject(selectedProject._id)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;flex-1 px-6 py-3 bg-red-600 text-white rounded-full font-bold hover:bg-red-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                Delete
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        ) : (
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            // Edit/Create Form
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;h3 className=&#34;text-2xl font-bold text-slate-900 mb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    {selectedProject ? &#39;Edit Project&#39; : &#39;Create New Project&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;space-y-4 max-h-[60vh] overflow-y-auto scrollbar-hide p-1&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Project Name *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({ ...projectFormData, project_name: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.description}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({ ...projectFormData, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            rows={3}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                value={projectFormData.status}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, status: e.target.value as any })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;option value=&#34;ongoing&#34;&gt;Ongoing&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;option value=&#34;completed&#34;&gt;Completed&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                &lt;option value=&#34;paused&#34;&gt;Paused&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Progress (%)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                type=&#34;number&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                min=&#34;0&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                max=&#34;100&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                value={projectFormData.progress_percent}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, progress_percent: parseInt(e.target.value) || 0 })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;GitHub URL&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;url&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.github_url}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({ ...projectFormData, github_url: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;https://github.com/username/repo&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Website URL&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;url&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.web_url}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({ ...projectFormData, web_url: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;https://example.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Expected End Date&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                value={projectFormData.expected_end_at}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, expected_end_at: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Actual End Date&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                value={projectFormData.actual_end_at}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, actual_end_at: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Technologies (comma-separated)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.technologies.join(&#39;, &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                technologies: e.target.value.split(&#39;,&#39;).map(t =&gt; t.trim()).filter(Boolean)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;React, Node.js, MongoDB&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Tags (comma-separated)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.tags.join(&#39;, &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                                tags: e.target.value.split(&#39;,&#39;).map(t =&gt; t.trim()).filter(Boolean)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;web, frontend, backend&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Budget&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            type=&#34;number&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            value={projectFormData.budget}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            onChange={(e) =&gt; setProjectFormData({ ...projectFormData, budget: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            placeholder=&#34;0&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;div className=&#34;flex gap-4 mt-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onClick={() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                            setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        }}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        Cancel
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        onClick={handleSaveProject}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        className=&#34;flex-1 px-6 py-3 bg-purple-600 text-white rounded-full font-bold hover:bg-purple-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                        {selectedProject ? &#39;Update&#39; : &#39;Create&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-            )}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span>         &lt;/div&gt;
</span></span><span class="line"><span class="cl">     );
</span></span><span class="line"><span class="cl"> };
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/TodoDev.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/TodoDev.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,1088 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import React from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { Plus, Bell } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import ReactMarkdown from &#39;react-markdown&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import remarkGfm from &#39;remark-gfm&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    AnalogClock,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    WeatherWidget,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    KanbanBoard,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getApiUrl,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    sortTodos,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    formatDate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getPriorityColor,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    CreateTodoModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    TodoDetailModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    EditTodoModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    SuccessPopup,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    TodoFormData
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+} from &#39;../components/TodoComponents&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+interface TodoDevProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    user: any;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const TodoDev: React.FC&lt;TodoDevProps&gt; = ({ user, isAuthorized, projects: initialProjects }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // CORE STATE - Todos &amp; Projects
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [todos, setTodos] = React.useState&lt;any[]&gt;([]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [projects, setProjects] = React.useState&lt;any[]&gt;(initialProjects);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [loading, setLoading] = React.useState(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // TODO CREATION/EDIT STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showCreateModal, setShowCreateModal] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [selectedDate, setSelectedDate] = React.useState(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [selectedTodo, setSelectedTodo] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [isEditMode, setIsEditMode] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // PROJECT STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [selectedProject, setSelectedProject] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showProjectModal, setShowProjectModal] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [isProjectEditMode, setIsProjectEditMode] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [projectFormData, setProjectFormData] = React.useState({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        project_name: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        github_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        web_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        expected_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        actual_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        status: &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        team_members: [] as any[],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        technologies: [] as string[],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        tags: [] as string[],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        budget: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        progress_percent: 0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // UI STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showSuccessPopup, setShowSuccessPopup] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [successMessage, setSuccessMessage] = React.useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showDiscardDialog, setShowDiscardDialog] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // FILTER STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [filterDate, setFilterDate] = React.useState&lt;Date | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [filterMode, setFilterMode] = React.useState&lt;&#39;all&#39; | &#39;exact_date&#39; | &#39;today&#39;&gt;(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // LOCATION &amp; TIMEZONE STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [locationTimezone, setLocationTimezone] = React.useState&lt;string&gt;(&#39;America/Chicago&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [locationLabel, setLocationLabel] = React.useState&lt;string&gt;(&#39;Location&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchTodos();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchProjects();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchLocationTimezone();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Update local projects when props change
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setProjects(initialProjects);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [initialProjects]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Lock body scroll when modal is open
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (selectedProject || showProjectModal) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            document.body.style.overflow = &#39;hidden&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            document.body.style.overflow = &#39;unset&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            document.body.style.overflow = &#39;unset&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [selectedProject, showProjectModal]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // API FUNCTIONS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fetchTodos = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Filter only dev category todos
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const devTodos = data.filter((todo: any) =&gt; todo.category === &#39;dev&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setTodos(sortTodos(devTodos));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to fetch todos:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } finally {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fetchProjects = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/projects`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setProjects(data);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to fetch projects:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fetchLocationTimezone = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/contact`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (data?.Location) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const { city, state, country } = data.Location;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    let timezone = &#39;America/Chicago&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    let label = &#39;Location&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const locationParts = [city, state, country].filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    if (locationParts.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        label = locationParts[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    if (country === &#39;South Korea&#39; || country === &#39;Korea&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Seoul&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;United States&#39; || country === &#39;USA&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        const stateTimezones: { [key: string]: string } = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Illinois&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Texas&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Wisconsin&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;California&#39;: &#39;America/Los_Angeles&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;New York&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Florida&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = stateTimezones[state] || &#39;America/Chicago&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;United Kingdom&#39; || country === &#39;UK&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Europe/London&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;Japan&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Tokyo&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;China&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Shanghai&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setLocationTimezone(timezone);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setLocationLabel(label);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to fetch location timezone:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // TODO HANDLERS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleCreateTodo = async (formData: TodoFormData) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to create a TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let finalDueDate = formData.due_date;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!finalDueDate) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const nextWeek = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            nextWeek.setDate(nextWeek.getDate() + 7);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            finalDueDate = nextWeek.toISOString().split(&#39;T&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const todoData = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                ...formData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                due_date: finalDueDate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                email: user.email
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;POST&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify(todoData)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const createdTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Only add if it matches current tab&#39;s category
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (createdTodo.category === &#39;dev&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos([createdTodo, ...todos]));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowCreateModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO created successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to create todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleTodoClick = (todo: any) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setSelectedTodo(todo);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleEditClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSaveEdit = async (formData: TodoFormData) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!selectedTodo || !user || !user.email) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos/${selectedTodo._id}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;PUT&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    ...formData
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const updatedTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // If category changed to personal, remove from this list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (updatedTodo.category === &#39;personal&#39; || !updatedTodo.category) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos(todos.filter(t =&gt; t._id !== selectedTodo._id)));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos(todos.map(t =&gt; t._id === selectedTodo._id ? updatedTodo : t)));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedTodo(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO has been updated successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to update todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDeleteTodo = async (todoId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to delete TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!confirm(&#39;Are you sure you want to delete this TODO?&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;DELETE&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({ email: user.email })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setTodos(todos.filter(t =&gt; t._id !== todoId));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedTodo(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO has been deleted successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to delete todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleUpdateStatus = async (todoId: string, newStatus: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const todo = todos.find(t =&gt; t._id === todoId);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;PUT&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    ...todo,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    status: newStatus
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const updatedTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setTodos(sortTodos(todos.map(t =&gt; t._id === todoId ? updatedTodo : t)));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to update status:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // PROJECT HANDLERS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleProjectClick = (project: any) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setSelectedProject(project);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleAddProjectClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            project_name: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            github_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            web_url: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            expected_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            actual_end_at: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            status: &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            team_members: [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            technologies: [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            tags: [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            budget: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            progress_percent: 0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsProjectEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setShowProjectModal(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleEditProjectClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (selectedProject) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                project_name: selectedProject.project_name || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                github_url: selectedProject.github_url || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                web_url: selectedProject.web_url || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                expected_end_at: selectedProject.expected_end_at ? new Date(selectedProject.expected_end_at).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                actual_end_at: selectedProject.actual_end_at ? new Date(selectedProject.actual_end_at).toISOString().split(&#39;T&#39;)[0] : &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                description: selectedProject.description || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                status: selectedProject.status || &#39;ongoing&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                team_members: selectedProject.team_members || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                technologies: selectedProject.technologies || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                tags: selectedProject.tags || [],
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                budget: selectedProject.budget?.toString() || &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                progress_percent: selectedProject.progress_percent || 0
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setIsProjectEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setShowProjectModal(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSaveProject = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to save project&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!projectFormData.project_name.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Project name is required&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const projectData = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                budget: projectFormData.budget ? parseFloat(projectFormData.budget) : undefined
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const url = selectedProject
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                ? `${API_URL}/api/projects/${selectedProject._id}`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                : `${API_URL}/api/projects`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(url, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: selectedProject ? &#39;PUT&#39; : &#39;POST&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify(projectData)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                await fetchProjects();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(selectedProject ? &#39;Project updated successfully!&#39; : &#39;Project created successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to save project:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDeleteProject = async (projectId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to delete project&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!confirm(&#39;Are you sure you want to delete this project?&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/projects/${projectId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;DELETE&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({ email: user.email })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setProjects(projects.filter(p =&gt; p._id !== projectId));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;Project deleted successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to delete project:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // FILTER &amp; CALENDAR
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDateClick = (date: Date) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (filterDate &amp;&amp; filterDate.toDateString() === date.toDateString() &amp;&amp; filterMode === &#39;exact_date&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterDate(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterMode(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterDate(date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterMode(&#39;exact_date&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const filteredTodos = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let result = todos;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (filterMode === &#39;today&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            today.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const tomorrow = new Date(today);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            tomorrow.setDate(tomorrow.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            result = result.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return dueDate &gt;= today &amp;&amp; dueDate &lt; tomorrow;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else if (filterMode === &#39;exact_date&#39; &amp;&amp; filterDate) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Exact date matching - show only todos with this deadline
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const targetDate = new Date(filterDate);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            targetDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const nextDay = new Date(targetDate);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            nextDay.setDate(nextDay.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            result = result.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return dueDate &gt;= targetDate &amp;&amp; dueDate &lt; nextDay;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return result;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos, filterMode, filterDate]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const todayCount = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        today.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const tomorrow = new Date(today);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        tomorrow.setDate(tomorrow.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return todos.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return dueDate &gt;= today &amp;&amp; dueDate &lt; tomorrow;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }).length;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Get dates that have todos with deadlines
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const deadlineDates = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const dates = new Set&lt;string&gt;();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        todos.forEach(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (todo.due_date) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const date = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dates.add(date.toDateString());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return dates;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const renderCalendar = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const year = selectedDate.getFullYear();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const month = selectedDate.getMonth();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const firstDay = new Date(year, month, 1).getDay();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const daysInMonth = new Date(year, month + 1, 0).getDate();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const days = [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        for (let i = 0; i &lt; firstDay; i++) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            days.push(&lt;div key={`empty-${i}`} className=&#34;w-8 h-8&#34; /&gt;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        for (let day = 1; day &lt;= daysInMonth; day++) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const date = new Date(year, month, day);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const isToday = new Date().toDateString() === date.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const isSelected = filterDate &amp;&amp; filterDate.toDateString() === date.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const hasDeadline = deadlineDates.has(date.toDateString());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            days.push(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    key={day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClick={() =&gt; handleDateClick(date)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className={`w-8 h-8 flex items-center justify-center text-sm rounded-full transition-colors relative
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${isToday ? &#39;bg-blue-500 text-white font-bold&#39; : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${isSelected ? &#39;ring-2 ring-blue-400&#39; : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${!isToday ? &#39;hover:bg-slate-100&#39; : &#39;&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {hasDeadline &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;span className=&#34;absolute bottom-0.5 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-red-500&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return days;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (loading) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;text-center py-12&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;p className=&#34;text-slate-500&#34;&gt;Loading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;flex gap-8 min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Left: Calendar */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;w-1/3 flex flex-col gap-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;flex items-center justify-between mb-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    ←
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h3 className=&#34;text-lg font-bold text-slate-900&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {selectedDate.toLocaleDateString(&#39;en-US&#39;, { month: &#39;long&#39;, year: &#39;numeric&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    →
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;grid grid-cols-7 gap-2 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {[&#39;Sun&#39;, &#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thu&#39;, &#39;Fri&#39;, &#39;Sat&#39;].map(day =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div key={day} className=&#34;text-xs font-bold text-slate-500 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;grid grid-cols-7 gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {renderCalendar()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {/* World Clocks */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;grid grid-cols-2 gap-4 justify-items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;AnalogClock timezone={locationTimezone} label={locationLabel} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;AnalogClock timezone=&#34;Asia/Seoul&#34; label=&#34;Seoul&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Right: Kanban Board */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;flex-1&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm min-h-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;KanbanBoard
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            todos={filteredTodos}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onTodoClick={handleTodoClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onProjectClick={handleProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onAddProjectClick={handleAddProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onUpdateStatus={handleUpdateStatus}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            getPriorityColor={getPriorityColor}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            formatDate={formatDate}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Weather Widget */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;WeatherWidget /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Fixed Action Buttons */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={() =&gt; setFilterMode(prev =&gt; prev === &#39;today&#39; ? &#39;all&#39; : &#39;today&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className={`fixed bottom-64 left-6 w-14 h-14 rounded-full transition-all hover:scale-110 flex items-center justify-center z-40 todo-action-button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ${filterMode === &#39;today&#39; ? &#39;bg-blue-600 text-white&#39; : &#39;bg-gray-500 text-white hover:bg-gray-600&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        title=&#34;Show today&#39;s tasks&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;relative&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;Bell size={24} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {todayCount &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className=&#34;absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-gray-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {todayCount}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={() =&gt; setShowCreateModal(true)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className=&#34;fixed bottom-24 left-6 w-14 h-14 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all hover:scale-110 flex items-center justify-center z-40 todo-action-button&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        title=&#34;Create new TODO&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;Plus size={28} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Create Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;CreateTodoModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                show={showCreateModal}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClose={() =&gt; setShowCreateModal(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onCreate={handleCreateTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                defaultCategory=&#34;dev&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Detail Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {selectedTodo &amp;&amp; !isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;TodoDetailModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    todo={selectedTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose={() =&gt; setSelectedTodo(null)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onEdit={handleEditClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onDelete={handleDeleteTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Edit Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {selectedTodo &amp;&amp; isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;EditTodoModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    todo={selectedTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose={() =&gt; setIsEditMode(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onSave={handleSaveEdit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Project Detail/Edit Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {(selectedProject || showProjectModal) &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-50 flex items-center justify-center p-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white rounded-2xl max-w-3xl w-full shadow-2xl overflow-hidden&#34; style={{ maxHeight: &#39;85vh&#39;, display: &#39;flex&#39;, flexDirection: &#39;column&#39; }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {!isProjectEditMode &amp;&amp; selectedProject ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            // Detail View
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 pb-4 flex-shrink-0 border-b border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;h3 className=&#34;text-3xl font-bold text-slate-900&#34;&gt;{selectedProject.project_name}&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 flex-1 overflow-y-auto scrollbar-hide&#34; style={{ minHeight: 0 }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;space-y-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {selectedProject.description &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;div className=&#34;markdown-content text-slate-600 leading-relaxed&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;ReactMarkdown
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        remarkPlugins={[remarkGfm]}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        components={{
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Headings
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h1: ({ node, ...props }) =&gt; &lt;h1 className=&#34;text-2xl font-bold mb-3 mt-4 text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h2: ({ node, ...props }) =&gt; &lt;h2 className=&#34;text-xl font-bold mb-2 mt-3 text-slate-900 border-b pb-1&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h3: ({ node, ...props }) =&gt; &lt;h3 className=&#34;text-lg font-bold mb-2 mt-3 text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h4: ({ node, ...props }) =&gt; &lt;h4 className=&#34;text-base font-bold mb-1 mt-2 text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h5: ({ node, ...props }) =&gt; &lt;h5 className=&#34;text-sm font-bold mb-1 mt-2 text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            h6: ({ node, ...props }) =&gt; &lt;h6 className=&#34;text-xs font-bold mb-1 mt-2 text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Paragraphs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            p: ({ node, ...props }) =&gt; &lt;p className=&#34;mb-2 leading-6&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Lists
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            ul: ({ node, ...props }) =&gt; &lt;ul className=&#34;list-disc list-inside mb-2 ml-2 space-y-1&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            ol: ({ node, ...props }) =&gt; &lt;ol className=&#34;list-decimal list-inside mb-2 ml-2 space-y-1&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            li: ({ node, ...props }) =&gt; &lt;li className=&#34;leading-6&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Links
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            a: ({ node, ...props }) =&gt; &lt;a className=&#34;text-blue-600 hover:text-blue-800 underline&#34; target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Code
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            code: ({ node, inline, ...props }: any) =&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                inline
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                    ? &lt;code className=&#34;bg-slate-100 text-red-600 px-1 py-0.5 rounded text-xs font-mono&#34; {...props} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                    : &lt;code className=&#34;block bg-slate-900 text-green-400 p-3 rounded-lg overflow-x-auto text-xs font-mono mb-2&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            pre: ({ node, ...props }) =&gt; &lt;pre className=&#34;mb-2&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Blockquotes
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            blockquote: ({ node, ...props }) =&gt; &lt;blockquote className=&#34;border-l-4 border-slate-300 pl-3 italic my-2 text-slate-600&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Horizontal rule
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            hr: ({ node, ...props }) =&gt; &lt;hr className=&#34;my-4 border-slate-300&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Tables
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            table: ({ node, ...props }) =&gt; &lt;table className=&#34;min-w-full border-collapse border border-slate-300 mb-2&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            thead: ({ node, ...props }) =&gt; &lt;thead className=&#34;bg-slate-100&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            tbody: ({ node, ...props }) =&gt; &lt;tbody {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            tr: ({ node, ...props }) =&gt; &lt;tr className=&#34;border-b border-slate-300&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            th: ({ node, ...props }) =&gt; &lt;th className=&#34;border border-slate-300 px-3 py-1 text-left font-bold&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            td: ({ node, ...props }) =&gt; &lt;td className=&#34;border border-slate-300 px-3 py-1&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Images
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            img: ({ node, ...props }) =&gt; &lt;img className=&#34;max-w-full h-auto rounded-lg my-2&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            // Strong and emphasis
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            strong: ({ node, ...props }) =&gt; &lt;strong className=&#34;font-bold text-slate-900&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            em: ({ node, ...props }) =&gt; &lt;em className=&#34;italic&#34; {...props} /&gt;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        {selectedProject.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;/ReactMarkdown&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;span className={`px-3 py-1 rounded-full text-sm ${selectedProject.status === &#39;ongoing&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    selectedProject.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &#39;bg-yellow-100 text-yellow-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {selectedProject.status}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Progress&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;p className=&#34;text-slate-600&#34;&gt;{selectedProject.progress_percent}%&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {selectedProject.github_url &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;GitHub&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;a href={selectedProject.github_url} target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;text-blue-600 hover:underline break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {selectedProject.github_url}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {selectedProject.web_url &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Website&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;a href={selectedProject.web_url} target=&#34;_blank&#34; rel=&#34;noopener noreferrer&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;text-blue-600 hover:underline break-all&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {selectedProject.web_url}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/a&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {selectedProject.technologies &amp;&amp; selectedProject.technologies.length &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Technologies&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;div className=&#34;flex flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {selectedProject.technologies.map((tech: string, idx: number) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;span key={idx} className=&#34;px-3 py-1 bg-slate-100 text-slate-700 rounded-full text-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            {tech}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {selectedProject.tags &amp;&amp; selectedProject.tags.length &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Tags&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;div className=&#34;flex flex-wrap gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {selectedProject.tags.map((tag: string, idx: number) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;span key={idx} className=&#34;px-3 py-1 bg-purple-100 text-purple-700 rounded-full text-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            {tag}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 pt-4 flex-shrink-0 border-t border-slate-100 bg-white&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={() =&gt; setSelectedProject(null)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className=&#34;flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            Close
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onClick={handleEditProjectClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;flex-1 px-6 py-3 bg-purple-600 text-white rounded-full font-bold hover:bg-purple-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    Edit
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onClick={() =&gt; handleDeleteProject(selectedProject._id)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;flex-1 px-6 py-3 bg-red-600 text-white rounded-full font-bold hover:bg-red-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    Delete
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            // Edit/Create Form
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 pb-4 flex-shrink-0 border-b border-slate-100&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;flex justify-between items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;h3 className=&#34;text-2xl font-bold text-slate-900&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            {selectedProject ? &#39;Edit Project&#39; : &#39;Create New Project&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={() =&gt; setShowDiscardDialog(true)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className=&#34;text-slate-400 hover:text-slate-600 text-xl font-bold&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            ✕
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 flex-1 overflow-y-auto scrollbar-hide&#34; style={{ minHeight: 0 }}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;space-y-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Project Name *&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.project_name}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, project_name: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;Enter project name&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Project name&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Description&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;textarea
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, description: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                rows={3}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;Enter project description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Project description&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Status&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;select
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    value={projectFormData.status}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onChange={(e) =&gt; setProjectFormData({ ...projectFormData, status: e.target.value as any })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    aria-label=&#34;Project status&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;option value=&#34;ongoing&#34;&gt;Ongoing&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;option value=&#34;completed&#34;&gt;Completed&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;option value=&#34;paused&#34;&gt;Paused&lt;/option&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/select&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Progress (%)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    type=&#34;number&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    min=&#34;0&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    max=&#34;100&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    value={projectFormData.progress_percent}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onChange={(e) =&gt; setProjectFormData({ ...projectFormData, progress_percent: parseInt(e.target.value) || 0 })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    placeholder=&#34;0-100&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    aria-label=&#34;Progress percentage&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;GitHub URL&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;url&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.github_url}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, github_url: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;https://github.com/username/repo&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;GitHub URL&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Website URL&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;url&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.web_url}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, web_url: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;https://example.com&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Website URL&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div className=&#34;grid grid-cols-2 gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Expected End Date&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    value={projectFormData.expected_end_at}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onChange={(e) =&gt; setProjectFormData({ ...projectFormData, expected_end_at: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    aria-label=&#34;Expected end date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Actual End Date&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    type=&#34;date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    value={projectFormData.actual_end_at}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onChange={(e) =&gt; setProjectFormData({ ...projectFormData, actual_end_at: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    aria-label=&#34;Actual end date&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Technologies (comma-separated)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.technologies.join(&#39;, &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    technologies: e.target.value.split(&#39;,&#39;).map(t =&gt; t.trim()).filter(Boolean)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;React, Node.js, MongoDB&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Technologies&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Tags (comma-separated)&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.tags.join(&#39;, &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    ...projectFormData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    tags: e.target.value.split(&#39;,&#39;).map(t =&gt; t.trim()).filter(Boolean)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;web, frontend, backend&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Tags&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;label className=&#34;block text-sm font-bold text-slate-700 mb-2&#34;&gt;Budget&lt;/label&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                type=&#34;number&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                value={projectFormData.budget}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                onChange={(e) =&gt; setProjectFormData({ ...projectFormData, budget: e.target.value })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                className=&#34;w-full px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-purple-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                placeholder=&#34;0&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                aria-label=&#34;Budget&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;div className=&#34;p-8 pt-4 flex-shrink-0 border-t border-slate-100 bg-white&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div className=&#34;flex gap-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className=&#34;flex-1 px-6 py-3 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            Cancel
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            onClick={handleSaveProject}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            className=&#34;flex-1 px-6 py-3 bg-purple-600 text-white rounded-full font-bold hover:bg-purple-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            {selectedProject ? &#39;Update&#39; : &#39;Create&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Discard Confirmation Dialog */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {showDiscardDialog &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className=&#34;fixed inset-0 bg-black/80 backdrop-blur-sm z-[60] flex items-center justify-center p-4&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onKeyDown={(e: React.KeyboardEvent) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        if (e.key === &#39;Enter&#39; || e.key === &#39; &#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            setShowDiscardDialog(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    tabIndex={0}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    ref={(el) =&gt; el?.focus()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white rounded-2xl max-w-md w-full p-8 shadow-2xl relative&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            onClick={() =&gt; setShowDiscardDialog(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            className=&#34;absolute top-4 right-4 text-slate-400 hover:text-slate-600 text-xl font-bold&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ✕
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;h3 className=&#34;text-xl font-bold text-slate-900 mb-4&#34;&gt;Unsaved Changes&lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;p className=&#34;text-slate-600 mb-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {selectedProject
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ? &#39;Your changes will not be saved. Are you sure you want to discard them?&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                : &#39;Your new project will not be saved. Are you sure you want to discard it?&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex gap-4 justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={() =&gt; setShowDiscardDialog(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;px-6 py-2 bg-slate-200 text-slate-700 rounded-full font-bold hover:bg-slate-300 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                Continue Editing
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    setShowDiscardDialog(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    setShowProjectModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    setSelectedProject(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    setIsProjectEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;px-6 py-2 bg-red-600 text-white rounded-full font-bold hover:bg-red-700 transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                Discard
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Success Popup */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;SuccessPopup
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                show={showSuccessPopup}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                message={successMessage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClose={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="pages/TodoPersonal.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">pages/TodoPersonal.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,649 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import React from &#39;react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { Plus, Bell } from &#39;lucide-react&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    AnalogClock,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    WeatherWidget,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getApiUrl,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    sortTodos,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    formatDate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getPriorityColor,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    getStatusColor,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    CreateTodoModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    TodoDetailModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    EditTodoModal,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    SuccessPopup,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    TodoFormData
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+} from &#39;../components/TodoComponents&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+interface TodoPersonalProps {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    user: any;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    isAuthorized: boolean;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    projects: any[];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const TodoPersonal: React.FC&lt;TodoPersonalProps&gt; = ({ user, isAuthorized, projects }) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // CORE STATE - Todos
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [todos, setTodos] = React.useState&lt;any[]&gt;([]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [loading, setLoading] = React.useState(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // TODO CREATION/EDIT STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showCreateModal, setShowCreateModal] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [selectedDate, setSelectedDate] = React.useState(new Date());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [selectedTodo, setSelectedTodo] = React.useState&lt;any&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [isEditMode, setIsEditMode] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // UI STATE - Popups, Pagination
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [showSuccessPopup, setShowSuccessPopup] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [successMessage, setSuccessMessage] = React.useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [currentPage, setCurrentPage] = React.useState(1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const itemsPerPage = 10;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // FILTER &amp; SEARCH STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [filterDate, setFilterDate] = React.useState&lt;Date | null&gt;(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [filterMode, setFilterMode] = React.useState&lt;&#39;all&#39; | &#39;exact_date&#39; | &#39;today&#39;&gt;(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [searchQuery, setSearchQuery] = React.useState(&#39;&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [isSearching, setIsSearching] = React.useState(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // LOCATION &amp; TIMEZONE STATE
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [locationTimezone, setLocationTimezone] = React.useState&lt;string&gt;(&#39;America/Chicago&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const [locationLabel, setLocationLabel] = React.useState&lt;string&gt;(&#39;Location&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    React.useEffect(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchTodos();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        fetchLocationTimezone();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, []);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // API FUNCTIONS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fetchTodos = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Filter only personal category todos
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const personalTodos = data.filter((todo: any) =&gt; todo.category === &#39;personal&#39; || !todo.category);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setTodos(sortTodos(personalTodos));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to fetch todos:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } finally {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setLoading(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const fetchLocationTimezone = async () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/contact`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (data?.Location) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const { city, state, country } = data.Location;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    let timezone = &#39;America/Chicago&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    let label = &#39;Location&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    const locationParts = [city, state, country].filter(Boolean);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    if (locationParts.length &gt; 0) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        label = locationParts[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    if (country === &#39;South Korea&#39; || country === &#39;Korea&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Seoul&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;United States&#39; || country === &#39;USA&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        const stateTimezones: { [key: string]: string } = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Illinois&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Texas&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Wisconsin&#39;: &#39;America/Chicago&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;California&#39;: &#39;America/Los_Angeles&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;New York&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &#39;Florida&#39;: &#39;America/New_York&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = stateTimezones[state] || &#39;America/Chicago&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;United Kingdom&#39; || country === &#39;UK&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Europe/London&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;Japan&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Tokyo&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    } else if (country === &#39;China&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        timezone = &#39;Asia/Shanghai&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setLocationTimezone(timezone);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setLocationLabel(label);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to fetch location timezone:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // TODO HANDLERS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleCreateTodo = async (formData: TodoFormData) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to create a TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let finalDueDate = formData.due_date;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!finalDueDate) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const nextWeek = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            nextWeek.setDate(nextWeek.getDate() + 7);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            finalDueDate = nextWeek.toISOString().split(&#39;T&#39;)[0];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const todoData = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                ...formData,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                due_date: finalDueDate,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                email: user.email
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;POST&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify(todoData)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const createdTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Only add if it matches current tab&#39;s category
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (createdTodo.category === &#39;personal&#39; || !createdTodo.category) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos([createdTodo, ...todos]));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowCreateModal(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO created successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to create todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleTodoClick = (todo: any) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setSelectedTodo(todo);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleEditClick = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsEditMode(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSaveEdit = async (formData: TodoFormData) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!selectedTodo || !user || !user.email) return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos/${selectedTodo._id}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;PUT&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    email: user.email,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    ...formData
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const updatedTodo = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // If category changed to dev, remove from this list
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (updatedTodo.category === &#39;dev&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos(todos.filter(t =&gt; t._id !== selectedTodo._id)));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    setTodos(sortTodos(todos.map(t =&gt; t._id === selectedTodo._id ? updatedTodo : t)));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedTodo(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setIsEditMode(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO has been updated successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to update todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDeleteTodo = async (todoId: string) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!user || !user.email) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            alert(&#39;Please login to delete TODO&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!confirm(&#39;Are you sure you want to delete this TODO?&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const response = await fetch(`${API_URL}/api/todos/${todoId}`, {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                method: &#39;DELETE&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                headers: { &#39;Content-Type&#39;: &#39;application/json&#39; },
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                body: JSON.stringify({ email: user.email })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setTodos(todos.filter(t =&gt; t._id !== todoId));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSelectedTodo(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setSuccessMessage(&#39;TODO has been deleted successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                setShowSuccessPopup(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.error(&#39;Failed to delete todo:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // FILTER &amp; SEARCH
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleSearch = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setIsSearching(true);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setCurrentPage(1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!searchQuery.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setIsSearching(false);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handlePageChange = (pageNumber: number) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        setCurrentPage(pageNumber);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const handleDateClick = (date: Date) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (filterDate &amp;&amp; filterDate.toDateString() === date.toDateString() &amp;&amp; filterMode === &#39;exact_date&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterDate(null);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterMode(&#39;all&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterDate(date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            setFilterMode(&#39;exact_date&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Filter todos
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const filteredTodos = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let result = todos;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Search filter
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (isSearching &amp;&amp; searchQuery.trim()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const query = searchQuery.toLowerCase();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            result = result.filter(todo =&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                todo.title?.toLowerCase().includes(query) ||
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                todo.description?.toLowerCase().includes(query)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Date filter
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (filterMode === &#39;today&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            today.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const tomorrow = new Date(today);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            tomorrow.setDate(tomorrow.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            result = result.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return dueDate &gt;= today &amp;&amp; dueDate &lt; tomorrow;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        } else if (filterMode === &#39;exact_date&#39; &amp;&amp; filterDate) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Exact date matching - show only todos with this deadline
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const targetDate = new Date(filterDate);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            targetDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const nextDay = new Date(targetDate);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            nextDay.setDate(nextDay.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            result = result.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return dueDate &gt;= targetDate &amp;&amp; dueDate &lt; nextDay;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return result;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos, isSearching, searchQuery, filterMode, filterDate]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Pagination
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const totalPages = Math.ceil(filteredTodos.length / itemsPerPage);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const currentTodos = filteredTodos.slice(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        (currentPage - 1) * itemsPerPage,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        currentPage * itemsPerPage
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Today&#39;s todo count
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const todayCount = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const today = new Date();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        today.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const tomorrow = new Date(today);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        tomorrow.setDate(tomorrow.getDate() + 1);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return todos.filter(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (!todo.due_date) return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const dueDate = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            dueDate.setHours(0, 0, 0, 0);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return dueDate &gt;= today &amp;&amp; dueDate &lt; tomorrow;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }).length;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Get dates that have todos with deadlines
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const deadlineDates = React.useMemo(() =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const dates = new Set&lt;string&gt;();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        todos.forEach(todo =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (todo.due_date) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const date = new Date(todo.due_date);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                dates.add(date.toDateString());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return dates;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }, [todos]);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // CALENDAR RENDER
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // ============================================================================
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const renderCalendar = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const year = selectedDate.getFullYear();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const month = selectedDate.getMonth();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const firstDay = new Date(year, month, 1).getDay();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const daysInMonth = new Date(year, month + 1, 0).getDate();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const days = [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        for (let i = 0; i &lt; firstDay; i++) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            days.push(&lt;div key={`empty-${i}`} className=&#34;w-8 h-8&#34; /&gt;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        for (let day = 1; day &lt;= daysInMonth; day++) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const date = new Date(year, month, day);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const isToday = new Date().toDateString() === date.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const isSelected = filterDate &amp;&amp; filterDate.toDateString() === date.toDateString();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const hasDeadline = deadlineDates.has(date.toDateString());
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            days.push(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    key={day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClick={() =&gt; handleDateClick(date)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    className={`w-8 h-8 flex items-center justify-center text-sm rounded-full transition-colors relative
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${isToday ? &#39;bg-blue-500 text-white font-bold&#39; : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${isSelected ? &#39;ring-2 ring-blue-400&#39; : &#39;&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        ${!isToday ? &#39;hover:bg-slate-100&#39; : &#39;&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {hasDeadline &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;span className=&#34;absolute bottom-0.5 left-1/2 -translate-x-1/2 w-1.5 h-1.5 rounded-full bg-red-500&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return days;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (loading) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;text-center py-12&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;p className=&#34;text-slate-500&#34;&gt;Loading...&lt;/p&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;div className=&#34;flex gap-8&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Left: Calendar */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;w-1/3 flex flex-col gap-6&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;flex items-center justify-between mb-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() - 1))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    ←
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;h3 className=&#34;text-lg font-bold text-slate-900&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {selectedDate.toLocaleDateString(&#39;en-US&#39;, { month: &#39;long&#39;, year: &#39;numeric&#39; })}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/h3&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; setSelectedDate(new Date(selectedDate.getFullYear(), selectedDate.getMonth() + 1))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;p-2 hover:bg-slate-100 rounded-lg transition-colors&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    →
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;grid grid-cols-7 gap-2 mb-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {[&#39;Sun&#39;, &#39;Mon&#39;, &#39;Tue&#39;, &#39;Wed&#39;, &#39;Thu&#39;, &#39;Fri&#39;, &#39;Sat&#39;].map(day =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;div key={day} className=&#34;text-xs font-bold text-slate-500 text-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        {day}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;div className=&#34;grid grid-cols-7 gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {renderCalendar()}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {/* World Clocks */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl p-6 shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;grid grid-cols-2 gap-4 justify-items-center&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;AnalogClock timezone={locationTimezone} label={locationLabel} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;AnalogClock timezone=&#34;Asia/Seoul&#34; label=&#34;Seoul&#34; /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                {/* Right: TODO Table */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;div className=&#34;flex-1 max-w-6xl&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;bg-white border border-slate-200 rounded-2xl overflow-hidden shadow-sm&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;table className=&#34;w-full&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;thead className=&#34;bg-slate-50 border-b border-slate-200&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Title&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Description&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Status&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Priority&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;th className=&#34;px-4 py-3 text-left text-sm font-bold text-slate-700&#34;&gt;Deadline&lt;/th&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/thead&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;tbody&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                {filteredTodos.length === 0 ? (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;td colSpan={5} className=&#34;px-4 py-12 text-center text-slate-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            {filterMode === &#39;all&#39; ? &#39;No TODO items found&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                filterMode === &#39;today&#39; ? &#39;No tasks due today&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &#39;No tasks found for selected period&#39;}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                ) : (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    currentTodos.map((todo) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        const isStrikethrough = todo.status === &#39;completed&#39; || todo.status === &#39;cancelled&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        return (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;tr key={todo._id} className={`border-b border-slate-100 hover:bg-slate-50 transition-colors ${getStatusColor(todo.status)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;td
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className={`px-4 py-3 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;text-slate-900&#39;} cursor-pointer hover:text-blue-600 font-medium`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onClick={() =&gt; handleTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {todo.title}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;td
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    className={`px-4 py-3 ${isStrikethrough ? &#39;line-through text-slate-400&#39; : &#39;text-slate-600&#39;} text-sm cursor-pointer hover:text-blue-600`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    onClick={() =&gt; handleTodoClick(todo)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {todo.description}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;td className=&#34;px-4 py-3 whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;span className={`px-2 py-1 rounded-full text-xs font-bold capitalize ${todo.status === &#39;completed&#39; ? &#39;bg-green-100 text-green-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        todo.status === &#39;in_progress&#39; ? &#39;bg-blue-100 text-blue-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                            todo.status === &#39;cancelled&#39; ? &#39;bg-red-100 text-red-700&#39; :
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                                &#39;bg-slate-100 text-slate-700&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        }`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        {todo.status.replace(&#39;_&#39;, &#39; &#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;td className=&#34;px-4 py-3&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;span className={`text-sm font-bold capitalize ${getPriorityColor(todo.priority)}`}&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                        {todo.priority}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;td className=&#34;px-4 py-3 text-sm text-slate-600 whitespace-nowrap&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                    {formatDate(todo.due_date)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                                &lt;/td&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                            &lt;/tr&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    })
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/tbody&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/table&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    {/* Pagination and Search Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;div className=&#34;flex justify-between items-center gap-4 mt-4&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex-1 max-w-sm&#34;&gt;&lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Pagination Controls */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex justify-center items-center gap-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={() =&gt; handlePageChange(currentPage - 1)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                disabled={currentPage === 1}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;px-3 py-1 rounded-lg border border-slate-200 text-slate-600 disabled:opacity-50 hover:bg-slate-50&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                Previous
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {Array.from({ length: totalPages || 1 }, (_, i) =&gt; i + 1).map((page) =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    key={page}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    onClick={() =&gt; handlePageChange(page)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className={`w-8 h-8 rounded-lg flex items-center justify-center text-sm font-bold transition-colors ${currentPage === page
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        ? &#39;bg-gray-500 text-white&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        : &#39;text-slate-600 hover:bg-slate-100&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        }`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {page}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ))}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={() =&gt; handlePageChange(currentPage + 1)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                disabled={currentPage === (totalPages || 1)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;px-3 py-1 rounded-lg border border-slate-200 text-slate-600 disabled:opacity-50 hover:bg-slate-50&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                Next
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        {/* Search Section */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;flex items-center gap-2 flex-1 max-w-sm justify-end&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;input
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                type=&#34;text&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                value={searchQuery}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onChange={(e) =&gt; setSearchQuery(e.target.value)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onKeyDown={(e) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    if (e.key === &#39;Enter&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        e.preventDefault();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        handleSearch();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                }}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                placeholder=&#34;Search...&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-48 px-4 py-2 border border-slate-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-slate-500 text-sm&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                onClick={handleSearch}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                className=&#34;w-10 h-10 rounded-lg bg-white border border-slate-300 hover:border-slate-400 transition-all flex items-center justify-center group&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                title=&#34;Search&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;svg
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    className=&#34;w-5 h-5 text-slate-500&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    fill=&#34;currentColor&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    viewBox=&#34;0 0 20 20&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    &lt;path
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        fillRule=&#34;evenodd&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        d=&#34;M8 4a4 4 0 100 8 4 4 0 000-8zM2 8a6 6 0 1110.89 3.476l4.817 4.817a1 1 0 01-1.414 1.414l-4.816-4.816A6 6 0 012 8z&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                        clipRule=&#34;evenodd&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/svg&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Weather Widget */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;WeatherWidget /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Fixed Action Buttons */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={() =&gt; setFilterMode(prev =&gt; prev === &#39;today&#39; ? &#39;all&#39; : &#39;today&#39;)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className={`fixed bottom-64 left-6 w-14 h-14 rounded-full transition-all hover:scale-110 flex items-center justify-center z-40 todo-action-button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            ${filterMode === &#39;today&#39; ? &#39;bg-blue-600 text-white&#39; : &#39;bg-gray-500 text-white hover:bg-gray-600&#39;}`}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        title=&#34;Show today&#39;s tasks&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;div className=&#34;relative&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            &lt;Bell size={24} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            {todayCount &gt; 0 &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;span className=&#34;absolute -top-2 -right-2 bg-red-500 text-white text-xs font-bold w-5 h-5 flex items-center justify-center rounded-full border-2 border-gray-500&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                    {todayCount}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                                &lt;/span&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;/div&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;button
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        onClick={() =&gt; setShowCreateModal(true)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        className=&#34;fixed bottom-24 left-6 w-14 h-14 bg-gray-500 text-white rounded-full hover:bg-gray-600 transition-all hover:scale-110 flex items-center justify-center z-40 todo-action-button&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        title=&#34;Create new TODO&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        &lt;Plus size={28} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    &lt;/button&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Create Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;CreateTodoModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                show={showCreateModal}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClose={() =&gt; setShowCreateModal(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onCreate={handleCreateTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                defaultCategory=&#34;personal&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Detail Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {selectedTodo &amp;&amp; !isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;TodoDetailModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    todo={selectedTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose={() =&gt; setSelectedTodo(null)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onEdit={handleEditClick}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onDelete={handleDeleteTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    isAuthorized={isAuthorized}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Edit Modal */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {selectedTodo &amp;&amp; isEditMode &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;EditTodoModal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    todo={selectedTodo}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onClose={() =&gt; setIsEditMode(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    onSave={handleSaveEdit}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    projects={projects}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            {/* Shared Success Popup */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            &lt;SuccessPopup
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                show={showSuccessPopup}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                message={successMessage}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                onClose={() =&gt; setShowSuccessPopup(false)}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        &lt;/&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/utils/gcsHelper.js" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/utils/gcsHelper.js</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,114 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Google Cloud Storage Helper Functions
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Provides common utilities for GCS operations including Signed URL generation
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Generate a signed URL for a GCS file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {Object} storage - GCS Storage instance
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} bucketName - GCS bucket name
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} filePath - File path within the bucket (e.g., &#39;blog/bio/image.jpg&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {number} expiryMinutes - Expiry time in minutes (default: 60)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @returns {Promise&lt;string&gt;} Signed URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export async function generateSignedUrl(storage, bucketName, filePath, expiryMinutes = 60) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const bucket = storage.bucket(bucketName);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const file = bucket.file(filePath);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Check if file exists
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const [exists] = await file.exists();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!exists) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            throw new Error(`File not found: ${filePath}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Generate signed URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const [signedUrl] = await file.getSignedUrl({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            version: &#39;v4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            action: &#39;read&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            expires: Date.now() + expiryMinutes * 60 * 1000,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return signedUrl;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.error(`Error generating signed URL for ${filePath}:`, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        throw error;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Generate signed URLs for multiple files
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {Object} storage - GCS Storage instance
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} bucketName - GCS bucket name
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string[]} filePaths - Array of file paths
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {number} expiryMinutes - Expiry time in minutes (default: 60)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @returns {Promise&lt;string[]&gt;} Array of signed URLs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export async function generateSignedUrls(storage, bucketName, filePaths, expiryMinutes = 60) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const promises = filePaths.map(filePath =&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        generateSignedUrl(storage, bucketName, filePath, expiryMinutes)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return Promise.all(promises);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Generate signed URLs for all files matching a prefix
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {Object} storage - GCS Storage instance
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} bucketName - GCS bucket name
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} prefix - File prefix (e.g., &#39;interests/art/MFA/&#39;)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {RegExp} fileFilter - Optional regex to filter files (default: image files)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {number} expiryMinutes - Expiry time in minutes (default: 60)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @returns {Promise&lt;string[]&gt;} Array of signed URLs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export async function generateSignedUrlsForPrefix(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    storage,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    bucketName,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    prefix,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    fileFilter = /\.(png|jpg|jpeg|gif|webp)$/i,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    expiryMinutes = 60
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const bucket = storage.bucket(bucketName);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const [files] = await bucket.getFiles({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            prefix: prefix,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            delimiter: &#39;/&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Filter files based on regex
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const filteredFiles = files.filter(file =&gt; fileFilter.test(file.name));
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Generate signed URLs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const signedUrlPromises = filteredFiles.map(async (file) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const [signedUrl] = await file.getSignedUrl({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                version: &#39;v4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                action: &#39;read&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                expires: Date.now() + expiryMinutes * 60 * 1000,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return signedUrl;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return Promise.all(signedUrlPromises);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.error(`Error generating signed URLs for prefix ${prefix}:`, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        throw error;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Validate file path to prevent path traversal attacks
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param {string} filePath - File path to validate
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @returns {boolean} True if valid, false otherwise
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export function isValidFilePath(filePath) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Prevent path traversal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (filePath.includes(&#39;..&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Ensure no absolute paths
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (filePath.startsWith(&#39;/&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return false;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return true;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/index.js" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/index.js</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -7,6 +7,7 @@ import path from &#39;path&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> import { fileURLToPath } from &#39;url&#39;;
</span></span><span class="line"><span class="cl"> import multer from &#39;multer&#39;;
</span></span><span class="line"><span class="cl"> import { toZonedTime, fromZonedTime } from &#39;date-fns-tz&#39;;
</span></span><span class="line"><span class="cl"><span class="gi">+import { generateSignedUrl, generateSignedUrlsForPrefix, isValidFilePath } from &#39;./utils/gcsHelper.js&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gu">@@ -173,26 +174,14 @@ app.get(&#39;/api/interests/art-museums&#39;, async (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> 
</span></span><span class="line"><span class="cl">             if (museum.museum_code) {
</span></span><span class="line"><span class="cl">                 try {
</span></span><span class="line"><span class="cl"><span class="gd">-                    // List files in the bucket for this museum
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const bucket = storage.bucket(GCS_BUCKET_NAME);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const [files] = await bucket.getFiles({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        prefix: `interests/art/${museum.museum_code}/`,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        delimiter: &#39;/&#39;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    // Filter image files and generate signed URLs (valid for 1 hour)
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    const signedUrlPromises = files
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        .filter(file =&gt; /\.(png|jpg|jpeg|gif|webp)$/i.test(file.name))
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        .map(async (file) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            const [signedUrl] = await file.getSignedUrl({
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                version: &#39;v4&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                action: &#39;read&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                                expires: Date.now() + 60 * 60 * 1000, // 1 hour
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                            return signedUrl;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                        });
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-                    artworks = await Promise.all(signedUrlPromises);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+                    // Generate signed URLs for all images in museum folder
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    artworks = await generateSignedUrlsForPrefix(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        storage,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        GCS_BUCKET_NAME,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        `interests/art/${museum.museum_code}/`,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        /\.(png|jpg|jpeg|gif|webp)$/i,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                        60 // 1 hour expiry
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    );
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl">                     console.log(`Loaded ${artworks.length} artworks for ${museum.museum_code} from GCS (signed URLs)`);
</span></span><span class="line"><span class="cl">                 } catch (error) {
</span></span><span class="line"><span class="cl"><span class="gu">@@ -220,6 +209,39 @@ app.get(&#39;/api/interests/art-museums&#39;, async (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     }
</span></span><span class="line"><span class="cl"> });
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gi">+// Get Signed URLs for HiC Browser data files
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+app.get(&#39;/api/research/hic-data&#39;, async (req, res) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const { fileName } = req.query;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!fileName) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return res.status(400).json({ error: &#39;fileName parameter is required&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Validate fileName to prevent path traversal
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!isValidFilePath(fileName)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return res.status(400).json({ error: &#39;Invalid fileName&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const GCS_BUCKET_NAME = process.env.GCS_BUCKET_NAME || &#39;distilledchild&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const filePath = `research/hic-browser/${fileName}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Generate signed URL using helper function
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const signedUrl = await generateSignedUrl(storage, GCS_BUCKET_NAME, filePath, 60);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        res.json({ url: signedUrl });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } catch (err) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.error(&#39;Error generating signed URL for HiC data:&#39;, err);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Return appropriate error based on error message
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (err.message &amp;&amp; err.message.includes(&#39;not found&#39;)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            return res.status(404).json({ error: &#39;File not found&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        res.status(500).json({ error: &#39;Internal server error&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+});
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> const techBlogSchema = new mongoose.Schema({
</span></span><span class="line"><span class="cl">     category: String,
</span></span><span class="line"><span class="cl">     title: String,
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="server/sync-artworks.js" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">server/sync-artworks.js</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,134 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+import { Storage } from &#39;@google-cloud/storage&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import mongoose from &#39;mongoose&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import dotenv from &#39;dotenv&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import path from &#39;path&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { fileURLToPath } from &#39;url&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const __filename = fileURLToPath(import.meta.url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const __dirname = path.dirname(__filename);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Load environment variables
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+dotenv.config({ path: path.resolve(__dirname, &#39;../.env&#39;) });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Initialize GCS
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const storage = new Storage();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const bucketName = &#39;distilledchild&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// MongoDB connection
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const MONGO_URI = process.env.MONGODB_URI;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Art Museum Schema (matching existing schema)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const artMuseumSchema = new mongoose.Schema({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    id: Number,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    city: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    city_code: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    museum_code: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    museum_name: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    state: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    show: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    artworks: [{
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        artwork_id: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        title: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        artist: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        year: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        medium: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        dimensions: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        image_url: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        thumbnail_url: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        description: String,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        show: String
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }]
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}, { collection: &#39;INTERESTS_ART_MUSEUM&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const ArtMuseum = mongoose.model(&#39;ArtMuseum&#39;, artMuseumSchema);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+async function syncArtworks() {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(&#39;🔌 Connecting to MongoDB...&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        await mongoose.connect(MONGO_URI);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(&#39;✅ Connected to MongoDB&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(&#39;📂 Scanning GCS bucket...&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const bucket = storage.bucket(bucketName);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const [files] = await bucket.getFiles({ prefix: &#39;interests/art/&#39; });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Group files by museum code
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const museumFiles = {};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        files.forEach(file =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const filePath = file.name;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // interests/art/AIC/image.jpg
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const parts = filePath.split(&#39;/&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (parts.length &gt;= 4 &amp;&amp; parts[0] === &#39;interests&#39; &amp;&amp; parts[1] === &#39;art&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const museumCode = parts[2];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const fileName = parts[3];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Skip if not an image file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!fileName.match(/\.(jpg|jpeg|png|gif|webp)$/i)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    return;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                if (!museumFiles[museumCode]) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    museumFiles[museumCode] = [];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                museumFiles[museumCode].push({
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    fileName: fileName,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    fullPath: filePath,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    publicUrl: `https://storage.googleapis.com/${bucketName}/${filePath}`
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(`📊 Found ${Object.keys(museumFiles).length} museums with images`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Update each museum
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        for (const [museumCode, images] of Object.entries(museumFiles)) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.log(`\n🎨 Processing ${museumCode} (${images.length} images)...`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const museum = await ArtMuseum.findOne({ museum_code: museumCode });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            if (!museum) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                console.log(`  ⚠️  Museum ${museumCode} not found in database, skipping...`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                continue;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Create artwork entries
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            const artworks = images.map((img, index) =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Extract title from filename (remove extension)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                const title = img.fileName.replace(/\.[^/.]+$/, &#39;&#39;).replace(/-|_/g, &#39; &#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                return {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    artwork_id: `${museumCode}-${index + 1}`,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    title: title,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    artist: &#39;Unknown&#39;, // Can be updated manually later
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    year: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    medium: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    dimensions: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    image_url: img.publicUrl,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    thumbnail_url: img.publicUrl,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    description: &#39;&#39;,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                    show: &#39;Y&#39;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            // Update museum with artworks
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            museum.artworks = artworks;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            await museum.save();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            console.log(`  ✅ Updated ${museum.museum_name} with ${artworks.length} artworks`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(&#39;\n🎉 Sync completed successfully!&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.error(&#39;❌ Error syncing artworks:&#39;, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } finally {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        await mongoose.disconnect();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.log(&#39;🔌 Disconnected from MongoDB&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Run the sync
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+syncArtworks();
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="utils/apiConfig.ts" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">utils/apiConfig.ts</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,24 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * API Configuration
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Centralized configuration for API URLs
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Get the API base URL based on environment
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * - Development (localhost): http://localhost:4000
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * - Production: https://personal-web-backend-495733529369.us-central1.run.app
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const getApiUrl = (): string =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Check if we&#39;re in development (localhost)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (typeof window !== &#39;undefined&#39; &amp;&amp; window.location.hostname === &#39;localhost&#39;) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return &#39;http://localhost:4000&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Production URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return &#39;https://personal-web-backend-495733529369.us-central1.run.app&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * API_URL constant for convenience
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export const API_URL = getApiUrl();
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="utils/csvLoader.ts" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">utils/csvLoader.ts</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -1,7 +1,10 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span> // Utility functions to load and parse CSV data
</span></span><span class="line"><span class="cl"><span class="gi">+import { getSignedUrl } from &#39;./signedUrlHelper&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"><span class="gd">-// Base URL for CSV data files
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-const CSV_BASE_URL = &#39;https://storage.googleapis.com/distilledchild/research/hic-browser/&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+// Wrapper function for research category
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+async function getResearchSignedUrl(fileName: string): Promise&lt;string&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return getSignedUrl(&#39;research&#39;, fileName);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span> 
</span></span><span class="line"><span class="cl"> export interface LoopDataRow {
</span></span><span class="line"><span class="cl">     loop_id: string;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -85,7 +88,8 @@ export async function loadLoopData(): Promise&lt;LoopDataRow[]&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (dataCache.loops[&#39;all&#39;]) return dataCache.loops[&#39;all&#39;];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     try {
</span></span><span class="line"><span class="cl"><span class="gd">-        const response = await fetch(`${CSV_BASE_URL}loop_data.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const url = await getResearchSignedUrl(&#39;loop_data.csv&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (!response.ok) throw new Error(&#39;Failed to load loop data&#39;);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         const csvText = await response.text();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -123,7 +127,8 @@ export async function loadChromosomeData(): Promise&lt;ChromosomeDataRow[]&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (dataCache.chromosomes) return dataCache.chromosomes;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     try {
</span></span><span class="line"><span class="cl"><span class="gd">-        const response = await fetch(`${CSV_BASE_URL}chromosome_data.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const url = await getResearchSignedUrl(&#39;chromosome_data.csv&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (!response.ok) throw new Error(&#39;Failed to load chromosome data&#39;);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         const csvText = await response.text();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -148,7 +153,8 @@ export async function loadGeneData(): Promise&lt;GeneDataRow[]&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (dataCache.genes[&#39;all&#39;]) return dataCache.genes[&#39;all&#39;];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     try {
</span></span><span class="line"><span class="cl"><span class="gd">-        const response = await fetch(`${CSV_BASE_URL}gene_tss_and_pro.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const url = await getResearchSignedUrl(&#39;gene_tss_and_pro.csv&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (!response.ok) throw new Error(&#39;Failed to load gene data&#39;);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         const csvText = await response.text();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -183,7 +189,8 @@ export async function loadLoopDataForChr(chr: string): Promise&lt;LoopDataRow[]&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (dataCache.loops[chr]) return dataCache.loops[chr];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     try {
</span></span><span class="line"><span class="cl"><span class="gd">-        const response = await fetch(`${CSV_BASE_URL}loop_data_${chr}.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const url = await getResearchSignedUrl(`loop_data_${chr}.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (!response.ok) throw new Error(`Failed to load loop data for ${chr}`);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         const csvText = await response.text();
</span></span><span class="line"><span class="cl"><span class="gu">@@ -221,7 +228,8 @@ export async function loadGeneDataForChr(chr: string): Promise&lt;GeneDataRow[]&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     if (dataCache.genes[chr]) return dataCache.genes[chr];
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">     try {
</span></span><span class="line"><span class="cl"><span class="gd">-        const response = await fetch(`${CSV_BASE_URL}gene_tss_and_pro_${chr}.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        const url = await getResearchSignedUrl(`gene_tss_and_pro_${chr}.csv`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(url);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         if (!response.ok) throw new Error(`Failed to load gene data for ${chr}`);
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl">         const csvText = await response.text();
</span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="utils/signedUrlHelper.ts" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">utils/signedUrlHelper.ts</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -0,0 +1,110 @@
</span></span></span><span class="line"><span class="cl"><span class="gu"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Signed URL Helper for Frontend
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Provides common utilities for fetching signed URLs from backend API
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+import { getApiUrl } from &#39;./apiConfig&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// API base URL - automatically determined by environment
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const API_URL = getApiUrl();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+// Cache for signed URLs (valid for 1 hour)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+interface SignedUrlCacheEntry {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    url: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    expiry: number;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+const signedUrlCache: { [key: string]: SignedUrlCacheEntry } = {};
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Categories for different GCS data types
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export type SignedUrlCategory = &#39;blog&#39; | &#39;research&#39; | &#39;interests&#39;;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Get signed URL from backend with caching
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param category - Category of the file (blog, research, interests)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param fileName - Name of the file
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @param cacheMinutes - Cache duration in minutes (default: 55)
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * @returns Signed URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export async function getSignedUrl(
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    category: SignedUrlCategory,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    fileName: string,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    cacheMinutes: number = 55
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+): Promise&lt;string&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const cacheKey = `${category}:${fileName}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    // Check cache first
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const cached = signedUrlCache[cacheKey];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    if (cached &amp;&amp; cached.expiry &gt; Date.now()) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return cached.url;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    try {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Determine API endpoint based on category
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        let endpoint: string;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        switch (category) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            case &#39;research&#39;:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                endpoint = `/api/research/hic-data?fileName=${encodeURIComponent(fileName)}`;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                break;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            case &#39;blog&#39;:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Blog images are uploaded via different endpoint
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                throw new Error(&#39;Blog images use upload endpoint, not getSignedUrl&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            case &#39;interests&#39;:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                // Art museum images are fetched via /api/interests/art-museums
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                throw new Error(&#39;Interest images are fetched via art-museums endpoint&#39;);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            default:
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                throw new Error(`Unknown category: ${category}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const response = await fetch(`${API_URL}${endpoint}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (!response.ok) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            throw new Error(`Failed to get signed URL for ${fileName}`);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        const data = await response.json();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        // Cache the signed URL
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        signedUrlCache[cacheKey] = {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            url: data.url,
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            expiry: Date.now() + cacheMinutes * 60 * 1000
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        return data.url;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    } catch (error) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        console.error(`Error getting signed URL for ${category}:${fileName}:`, error);
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        throw error;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Clear expired cache entries
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export function clearExpiredCache(): void {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const now = Date.now();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    Object.keys(signedUrlCache).forEach(key =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        if (signedUrlCache[key].expiry &lt;= now) {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+            delete signedUrlCache[key];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        }
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Clear all cache entries
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export function clearAllCache(): void {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    Object.keys(signedUrlCache).forEach(key =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+        delete signedUrlCache[key];
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    });
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+/**
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ * Get cache statistics
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+ */
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+export function getCacheStats(): { total: number; expired: number } {
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const now = Date.now();
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const total = Object.keys(signedUrlCache).length;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    const expired = Object.values(signedUrlCache).filter(entry =&gt; entry.expiry &lt;= now).length;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+    return { total, expired };
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+}
</span></span></span></code></pre>
                        </div>
                    
                </section>
            
                <section id="App.tsx" class="file-section">
                    <div class="header-container">
                        <header class="file-header">
                            
                                <div class="path">App.tsx</div>
                            
                            <button class="goto-top" onclick="window.scrollTo({top: 0, behavior: 'smooth'})">
                                <svg aria-hidden="true" focusable="false" width="16" height="16">
                                    <use xlink:href="#arrow-top"></use>
                                </svg>
                                Top
                            </button>
                        </header>
                    </div>
                    
                        <div class="file-diff">
                            <pre class="chroma"><code><span class="line"><span class="cl"><span class="gu">@@ -39,7 +39,7 @@ const Home: React.FC = () =&gt; (
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>     {/* Instruction Text - Centered and Animated */}
</span></span><span class="line"><span class="cl">     &lt;div className=&#34;absolute bottom-9 left-1/2 -translate-x-1/2 z-20 pointer-events-none select-none hidden md:block&#34;&gt;
</span></span><span class="line"><span class="cl">       &lt;p className=&#34;text-lg md:text-xl text-white font-light animate-double-blink&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-        Drag or Scroll to Interact!!
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        Drag or Scroll to Interact
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>       &lt;/p&gt;
</span></span><span class="line"><span class="cl">     &lt;/div&gt;
</span></span><span class="line"><span class="cl">   &lt;/div&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -147,10 +147,10 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;/Link&gt;
</span></span><span class="line"><span class="cl">       &lt;/div&gt;
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-      {/* Hamburger Menu Button - Mobile Only */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+      {/* Hamburger Menu Button - Visible on screens smaller than xl */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>       &lt;button
</span></span><span class="line"><span class="cl">         onClick={() =&gt; setMobileMenuOpen(!mobileMenuOpen)}
</span></span><span class="line"><span class="cl"><span class="gd">-        className=&#34;fixed top-0 right-0 z-50 p-6 lg:hidden pointer-events-auto&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        className=&#34;fixed top-0 right-0 z-50 p-6 xl:hidden pointer-events-auto&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         aria-label=&#34;Toggle menu&#34;
</span></span><span class="line"><span class="cl">       &gt;
</span></span><span class="line"><span class="cl">         &lt;div className=&#34;w-8 h-8 flex flex-col justify-center items-center gap-1.5&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -163,15 +163,20 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>       {/* Mobile Menu Overlay */}
</span></span><span class="line"><span class="cl">       {mobileMenuOpen &amp;&amp; (
</span></span><span class="line"><span class="cl">         &lt;div
</span></span><span class="line"><span class="cl"><span class="gd">-          className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-40 lg:hidden animate-modalBackdrop&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+          className=&#34;fixed inset-0 bg-black/60 backdrop-blur-sm z-40 xl:hidden animate-modalBackdrop&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>           onClick={() =&gt; setMobileMenuOpen(false)}
</span></span><span class="line"><span class="cl">         &gt;
</span></span><span class="line"><span class="cl">           &lt;div className=&#34;fixed top-20 right-4 bg-white rounded-3xl shadow-2xl p-6 animate-modalContent&#34; onClick={(e) =&gt; e.stopPropagation()}&gt;
</span></span><span class="line"><span class="cl">             &lt;div className=&#34;flex flex-col gap-4&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gi">+              {isAuthorized &amp;&amp; (
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;Link to=&#34;/todo&#34; onClick={() =&gt; setMobileMenuOpen(false)} className=&#34;text-2xl font-extrabold text-gray-500 hover:text-gray-300 transition-colors px-4 py-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                  TODO
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+                &lt;/Link&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+              )}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>               &lt;Link to=&#34;/about&#34; onClick={() =&gt; setMobileMenuOpen(false)} className=&#34;text-2xl font-extrabold text-blue-500 hover:text-blue-300 transition-colors px-4 py-2&#34;&gt;
</span></span><span class="line"><span class="cl">                 About
</span></span><span class="line"><span class="cl">               &lt;/Link&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-              &lt;Link to=&#34;/research/peinteractions&#34; onClick={() =&gt; setMobileMenuOpen(false)} className=&#34;text-2xl font-extrabold text-teal-500 hover:text-teal-300 transition-colors px-4 py-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+              &lt;Link to=&#34;/research/hicbrowser&#34; onClick={() =&gt; setMobileMenuOpen(false)} className=&#34;text-2xl font-extrabold text-teal-500 hover:text-teal-300 transition-colors px-4 py-2&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>                 Research
</span></span><span class="line"><span class="cl">               &lt;/Link&gt;
</span></span><span class="line"><span class="cl">               &lt;Link to=&#34;/blog&#34; onClick={() =&gt; setMobileMenuOpen(false)} className=&#34;text-2xl font-extrabold text-pink-500 hover:text-pink-300 transition-colors px-4 py-2&#34;&gt;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -188,8 +193,8 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;/div&gt;
</span></span><span class="line"><span class="cl">       )}
</span></span><span class="line"><span class="cl"> 
</span></span><span class="line"><span class="cl"><span class="gd">-      {/* Navigation Bar - Desktop Only */}
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gd">-      &lt;nav className=&#34;fixed top-0 right-0 w-full z-50 p-4 md:p-8 justify-end pointer-events-none hidden lg:flex&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+      {/* Navigation Bar - Desktop Only - Hidden on small screens */}
</span></span></span><span class="line"><span class="cl"><span class="gi"></span><span class="gi">+      &lt;nav className=&#34;fixed top-0 right-0 w-full z-50 p-4 md:p-8 justify-end pointer-events-none hidden xl:flex&#34;&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         &lt;div className=&#34;pointer-events-auto flex gap-3 items-center bg-white/0 backdrop-blur-none&#34;&gt;
</span></span><span class="line"><span class="cl">           {isAuthorized &amp;&amp; (
</span></span><span class="line"><span class="cl">             &lt;LiquidTab
</span></span><span class="line"><span class="cl"><span class="gu">@@ -206,7 +211,7 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>             colorClass=&#34;text-blue-500 hover:text-blue-300&#34;
</span></span><span class="line"><span class="cl">           /&gt;
</span></span><span class="line"><span class="cl">           &lt;LiquidTab
</span></span><span class="line"><span class="cl"><span class="gd">-            to=&#34;/research/peinteractions&#34;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+            to=&#34;/research/hicbrowser&#34;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>             label=&#34;Research&#34;
</span></span><span class="line"><span class="cl">             active={location.pathname.startsWith(&#39;/research&#39;)}
</span></span><span class="line"><span class="cl">             colorClass=&#34;text-teal-500 hover:text-teal-300&#34;
</span></span><span class="line"><span class="cl"><span class="gu">@@ -237,7 +242,7 @@ const Layout: React.FC = () =&gt; {
</span></span></span><span class="line"><span class="cl"><span class="gu"></span>         &lt;Route path=&#34;/todo&#34; element={&lt;Navigate to=&#34;/todo/personal&#34; replace /&gt;} /&gt;
</span></span><span class="line"><span class="cl">         &lt;Route path=&#34;/todo/:tab&#34; element={&lt;Todo /&gt;} /&gt;
</span></span><span class="line"><span class="cl">         &lt;Route path=&#34;/about&#34; element={&lt;About /&gt;} /&gt;
</span></span><span class="line"><span class="cl"><span class="gd">-        &lt;Route path=&#34;/research&#34; element={&lt;Navigate to=&#34;/research/peinteractions&#34; replace /&gt;} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gd"></span><span class="gi">+        &lt;Route path=&#34;/research&#34; element={&lt;Navigate to=&#34;/research/hicbrowser&#34; replace /&gt;} /&gt;
</span></span></span><span class="line"><span class="cl"><span class="gi"></span>         &lt;Route path=&#34;/research/:submenu&#34; element={&lt;Research /&gt;} /&gt;
</span></span><span class="line"><span class="cl">         &lt;Route path=&#34;/blog&#34; element={&lt;Blog /&gt;} /&gt;
</span></span><span class="line"><span class="cl">         &lt;Route path=&#34;/interests&#34; element={&lt;Navigate to=&#34;/interests/data&#34; replace /&gt;} /&gt;
</span></span></code></pre>
                        </div>
                    
                </section>
            
        </div>
    </div>

    </div>
</main>
<footer>
    Generated by <a href="https://github.com/antonmedv/gitmal">Gitmal</a>
</footer>
</body>
</html>
